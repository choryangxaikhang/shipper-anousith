{"version":3,"sources":["img/loading.gif","helper/index.js","routes/PrivateRoute.js","routes/app.js","layouts/BottomNav.js","pages/home/apollo/index.js","img/male.png","pages/home/OtherMoney.js","helper/components/SelectLocalHouse.js","pages/home/index.js","pages/login/gql.js","img/app-icon.png","pages/login/Login.js","pages/profile/apollo/index.js","pages/profile/Profile.js","pages/other/gql.js","pages/other/TabMenuOther.js","pages/other/hotel/apollo/index.js","helper/components/apollo/index.js","helper/components/SelectProvince.js","helper/components/SelectDistrict.js","pages/other/hotel/CheckIn.js","helper/components/SearchTypeRoom.js","img/logo-bg.png","helper/components/NoData.js","helper/components/SearchRoomFee.js","helper/controllers/Pagination.js","pages/other/hotel/index.js","helper/components/SearchRoom.js","pages/other/PeopleCheckout.js","pages/other/booking/apollo/index.js","pages/other/booking/TypeHouse.js","pages/other/booking/DetailRoom.js","pages/other/booking/index.js","pages/other/bookingRequest/apollo/index.js","pages/other/bookingRequest/TypeHouse.js","pages/other/bookingRequest/DetailRoom.js","pages/other/bookingRequest/index.js","pages/other/cancel/apollo/index.js","pages/other/cancel/TypeHouse.js","pages/other/cancel/DetailRoom.js","pages/other/cancel/index.js","pages/settings/apollo/index.js","pages/settings/widget/blockUser.js","pages/settings/widget/changeRole.js","pages/settings/widget/changePasswordStaff.js","pages/settings/widget/changePasswordCustomer.js","pages/settings/widget/turnOffhouse.js","helper/components/ListUser.js","pages/settings/widget/inviteOwner.js","pages/settings/index.js","pages/rateExchange/apollo/index.js","pages/rateExchange/editRateExchange.js","pages/rateExchange/addRateExchange.js","pages/rateExchange/index.js","pages/management_house/type_room/apollo/index.js","pages/management_house/type_room/editType.js","pages/management_house/type_room/AddTypeRoom.js","pages/management_house/type_room/index.js","pages/management_house/rooms/apollo/index.js","helper/s3Client.js","pages/management_house/rooms/addRooms.js","pages/management_house/rooms/editRooms.js","pages/management_house/rooms/index.js","pages/management_house/TabMenu.js","pages/other/reportIncome/reportBooking/apollo/index.js","pages/other/reportIncome/reportBooking/DetailRoom.js","pages/other/reportIncome/reportBooking/index.js","pages/other/reportIncome/reportCheckIn/apollo/index.js","pages/other/reportIncome/reportCheckIn/DetailRoom.js","pages/other/reportIncome/reportCheckIn/index.js","pages/other/reportIncome/reportCheckOut/apollo/index.js","pages/other/reportIncome/reportCheckOut/DetailRoom.js","pages/other/reportIncome/reportCheckOut/index.js","pages/other/reportIncome/dividend_report/apollo/index.js","pages/other/reportIncome/dividend_report/DetailRoom.js","pages/other/reportIncome/dividend_report/index.js","pages/other/reportIncome/sumTotalBooking/apollo/index.js","pages/other/reportIncome/sumTotalBooking/Export.js","pages/other/reportIncome/sumTotalBooking/index.js","pages/other/reportIncome/TabMenuIncome.js","routes/index.js","store/index.js","App.js","reportWebVital.js","index.js"],"names":["socketServer","Date","getFullYear","io","TOKEN","getStaffLogin","json","localStorage","getItem","JSON","parse","getLocalHouse","local","userLogin","data","house","valiDate","style","color","setGender","SetGender","res","messageConfirm","title","action","Notiflix","Confirm","show","paiStatus","status","setParams","key","val","urlSearch","window","location","search","_symbol","oldValue","URLSearchParams","get","replace","startOfMonth","moment","subtract","startOf","format","startMonth","clone","endOfMonth","endOf","currency","value","currencys","Intl","NumberFormat","formatDate","dateTime","locale","resp","formatDateDash","dashDate","toDayDash","today","loadingScreen","Loading","hourglass","backgroundColor","svgColor","messageSuccess","e","Notify","init","position","success","messageError","failure","messageWarning","warning","loadingData","size","content","src","loadingImage","alt","width","height","createdAt_gte","date","_date","createdAt_lt","add","PrivateRoute","Component","component","rest","headerTitle","token","render","props","to","LOGIN","OTHER","PROFILES","HOTEL","HOTEL_CHECKOUT","BOOKING","REQUEST_BOOKING_SCREEN","BOOKING_CANCEL","SETTING","RATE_EXCHANGE_SCREEN","TAB_MENU","TAB_MENU_INCOME","BottomNav","className","paddingTop","borderTopLeftRadius","marginLeft","fontSize","borderTopRightRadius","marginRight","borderTop","QUERY_SUMMARY_BOOKING","gql","SummaryMoney","useState","startDate","endDate","reloadData","setReloadData","localHouse","setLocalHouse","userState","userData","useLazyQuery","fetchPolicy","fetchData","bookingToday","loading","outHouseData","outHouse","loadingCheckout","fetchDataCheckIn","CheckInHouse","loadingCheckIn","useEffect","_id","on","whereData","parseInt","role","variables","where","bookDate_gte","bookDate_lte","orderBy","checkOutAt_gte","checkOutAt_lte","checkInAt_gte","checkInAt_lte","summaryBookingTotal","feeBookingAmount","class","incomeKIP","QUERY","SelectLocalHouse","onChange","ownerId","items","setItems","selectedOption","setSelectedOption","searchValue","houseName","undefined","owner","results","houses","length","_results","map","item","label","result","filter","styles","placeholder","options","Home","history","useReactRouter","setHouse","setUserData","clickButton","setButton","fetchBooking","setBooking","loadingBooking","checkOut","_local","document","body","classList","id","marginBottom","paddingBottom","whidth","flex","onClick","obj","setItem","stringify","reload","push","right","top","bookingTotal","marginTop","href","LOGIN_USER","Login","forward","useMutation","employeeLogin","initialValues","phoneNumber","password","validate","values","errors","onSubmit","String","user","staffLogin","userRole","setTimeout","remove","handleChange","touched","handleSubmit","handleBlur","isSubmitting","Imglogo","borderRadius","border","type","name","disabled","USERS","Profile","listData","setListData","dataStaff","users","clear","removeItem","firstName","lastName","gender","startWorkTime","basicSalary","village","district","province","provinceName","BOOKINGS","TabMenuOther","queryBooking","setData","queryBookingFull","setDataFull","loadingFull","queryBookingRequested","setDataRequested","loadingRequested","borderBottom","ROUTES","padding","zIndex","bookings","total","QUERY_ROOM","QUERY_BOOKING","ADD_CHECK_IN","QUERY_ROOMS","UPDATE_BOOKING_STATUS","QUERY_RATE","PROMOTIONS","USER","CheckIn","onSuccess","getId","params","index","OpenModalChange","CloseModalChange","match","customerId","bookingStatus","setBookingStatus","rateExchange","setRateExchange","listRoom","setListRoom","listPromotion","setListPromotion","exChangeTotal","setExChangeTotal","countTime","setCountTime","getPromotion","percent","priceHalf","halfPrice","setHalfPrice","priceFull","fullPrice","setFullPrice","feeInComeFull","feeIncomeHalf","inputKIP","setInputKIP","inputTHB","setInputTHB","inputUSD","setInputUSD","_rateTHB","laoTHB","_rateUSD","laoUSD","finalTotalKIP","setFinalTotalKIP","createCheckIn","creating","fetchPromotion","setPromotion","queryRateExchange","rateExchangeData","error","queryRoom","roomData","limit","rateExchanges","rooms","promotions","useFormik","enableReinitialize","customer","paidStatus","checkInAt","bookingType","inTime","incomeTHB","incomeUSD","exChange","fee","fullPriceTotal","halfPriceTotal","houseCode","room","resetForm","console","log","Modal","Header","title_lao","title_eng","textDecoration","FormControl","fullWidth","InputLabel","htmlFor","OutlinedInput","defaultValue","onWheel","target","blur","inputProps","maxLength","startAdornment","Footer","onDoubleClick","SELECT_ROOM","SearchTypeRoom","typeRooms","isDisabled","NoData","display","alignItems","justifyContent","backgroundImage","bgImage","backgroundSize","minWidth","minHeight","Pagination","onPageChange","pageTotal","currentPage","handleClick","page","Prev","Item","active","selected","Next","Hotel","query","loadData","setLoadData","numberPage","setNumberPage","numberRow","setNumberRow","typeDataRoom","setTypeDataRoom","setSearchValue","getData","setModal","openModal","CloseModal","fetchDataRoom","setDataRoom","loadingDataRoom","typeRoom","skip","countPage","i","Math","ceil","left","SearchRoom","heigh","PeopleCheckout","setStartDate","setEndDate","updateBookingStatus","_startDate","_endDate","updateStatus","roomId","with","HOUSE","TypeHouse","queryHouse","DetailRoom","onHide","setShow","animation","tabindex","Title","Body","fullName","bookTime","bookDate","Booking","detailRoom","setDetailRoom","houseID","_cancel","TextField","variant","sx","m","InputAdornment","BookingRequestScreen","customerID","houseId","DELETE_BOOKING","BookingCancel","deleteData","_delete","QUERY_HOUSE","UPDATE_HOUSE","QUERY_USERS","QUERY_CUSTOMERS","UPDATE_USERS","UPDATE_CUSTOMER","BlockUser","setUsers","newLoadData","setNewLoadData","queryUsers","updateUser","_onSearch","Fragment","onKeyPress","textAlign","checked","statusCheck","ChangeRole","editStatus","setEditStatus","getIndex","setGetIndex","text","setText","ChangePasswordStaff","searchValuePhone","setSearchValuePhone","_handleKeypress","ChangePasswordCustomer","searchValueID","setSearchValueID","queryCustomer","customerData","updateCustomer","customers","TurnOffHouse","resPonData","updateHouse","public","ListUser","inputSize","centered","onInput","InviteOwner","itemID","setItemID","SettingsScreen","QUERY_RATE_EXCHANGE","CREATE_RATE_EXCHANGE","DELETE_RATE_EXCHANGE","UPDATE_RATE_EXCHANGE","EditRateExChange","dataValue","userInfo","updateRateExchange","laoKIP","parseFloat","AddRateExchange","addRateExchange","scrollTo","RateExChange","deleteRateExchange","createdAt","bottom","CREATE_TYPE","QUERY_TYPE_ROOM","EDIT_ROOM","DELETE","EditType","editProvinces","AddTypeRoom","createType","TypeRoom","numberRows","_deleteType","countData","CREATE_ROOM","DELETE_ROOM","s3Client","S3","bucketName","dirName","region","accessKeyId","secretAccessKey","s3Url","AddRooms","imageName","setImageName","file","setFile","createRoom","getDocFiless","setDocFiless","getFileNames","setFileNames","setStatus","getHouse","handleUpload","event","uuidv4","files","split","_file","uploadFile","handleUploadDocFile","doc","docFileName","detail","docFile","coverImage","join","images","for","hidden","URL","createObjectURL","rows","multiple","splice","removeArray","EditRooms","getValueStatus","setValueStatus","getDocFiles","getImages","newArray","setFieldValue","male","Rooms","jsonObj","provinceData","deleteRoom","dots","TabMenu","tabActive","setTabActive","tab","elmTab","querySelectorAll","elmItemTab","offsetLeft","scrollLeft","Button","QUERY_REPORT_BOOKING","ReportBooking","toDay","forMatDate","getReportBooking","resReportBooking","_sumAll","_sumFeeBooking","_","sumBy","NO","cursor","feeBooking","colSpan","ReportCheckIn","_sumIncomeKip","_sumIncomeTHB","_sumIncomeUSD","ReportCheckOut","DividendReport","_sumFee","QUERY_SUM_TOTAL","Export","slashData","_Data","inputRef","useRef","handlePrint","useReactToPrint","current","Row","fontFamily","ref","logo","SumTotalBooking","getRoomValue","setGetRoomValue","resReportSumBooking","opacity","TabMenuIncome","Routes","userDispatch","useContext","AppContext","payload","exact","path","userReducer","state","pageTitleReducer","dateReducer","React","createContext","App","useReducer","titleState","titleDispatch","dateState","dateDispatch","authLink","setContext","headers","accessToken","authorization","errorLink","onError","graphQLErrors","networkError","message","isError1","some","isError2","isError3","Report","standard","client","ApolloClient","link","from","concat","createHttpLink","uri","cache","InMemoryCache","addTypename","Provider","ApolloProvider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.14020b07.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loading.3910906e.gif\";","import Notiflix, { Loading } from \"notiflix\";\r\nimport React from \"react\";\r\nimport moment from \"moment\";\r\nimport loadingImage from \"../img/loading.gif\";\r\n// import sound from \"../audio/sound.mp3\";\r\nimport { io } from \"socket.io-client\";\r\nvar start_year = new Date().getFullYear();\r\nexport const ITEM_PER_PAGE = 50;\r\nexport const aws_url_image = \"s3://bithose-bucket/image/\";\r\nexport const aws_url_images =\r\n  \"https://bithouse-bucket.s3.ap-southeast-1.amazonaws.com/images/\";\r\n// export const newSound = new Audio(sound);\r\nexport const socketServer = io(\"https://api.bit-houses.com\");\r\n// export const TOKEN = \"ANS_COD\";\r\nexport const FONT_SIZE = { fontSize: \"15px\" };\r\nexport const PRIMARY_COLOR = \"#f54f02\";\r\nexport const TOKEN = \"BIT-HOUSE-ADMIN-USER\";\r\n\r\n//get staff login\r\nexport const getStaffLogin = () => {\r\n  let json = localStorage.getItem(TOKEN);\r\n  let staff = JSON.parse(json);\r\n  return staff;\r\n};\r\n//clear localStorage\r\nexport const clearLocalStorage = () => {\r\n  localStorage.removeItem(TOKEN);\r\n};\r\n\r\n// year\r\nexport const getYearCustom = () => {\r\n  let getYearCustom = [];\r\n  for (let date = start_year; date > 2020; date--) {\r\n    getYearCustom.push(date);\r\n  }\r\n  return getYearCustom;\r\n};\r\n//  paystatus\r\nexport const payStatus = (item) => {\r\n  if (item === \"ORIGIN\") {\r\n    return \"\";\r\n  } else if (item === \"DESTINATION\") {\r\n    return \"\";\r\n  } else {\r\n    return \"-\";\r\n  }\r\n};\r\n\r\n//get local branch\r\nexport const getLocalHouse = () => {\r\n  let local = localStorage.getItem(\"HOUSE\");\r\n  if (local) {\r\n    local = JSON.parse(local);\r\n    return local;\r\n  } else {\r\n    let userLogin = getStaffLogin();\r\n    userLogin = userLogin?.data?.house;\r\n    return userLogin;\r\n  }\r\n};\r\n// province\r\nexport const getLocalProvince = () => {\r\n  let local = localStorage.getItem(\"PROVINCE\");\r\n  if (local) {\r\n    local = JSON.parse(local);\r\n    return local;\r\n  } else {\r\n    let userLogin = getStaffLogin();\r\n    userLogin = userLogin?.data?.province;\r\n    return userLogin;\r\n  }\r\n};\r\n\r\n// educationlevel\r\nexport const getEducationLevel = () => {\r\n  let getYear = [];\r\n  var start_year = new Date().getFullYear();\r\n  for (var i = start_year; i < start_year + 10; i++) {\r\n    getYear.push(i - 1 + \"-\" + i);\r\n  }\r\n  return getYear;\r\n};\r\n//   \r\nexport const valiDate = () => {\r\n  return <font style={{ color: \"red\" }}> * </font>;\r\n};\r\n\r\n//  \r\nexport const setGender = (SetGender) => {\r\n  let res = \"\";\r\n  switch (SetGender) {\r\n    case \"MALE\":\r\n      res = \"\";\r\n      break;\r\n    case \"FEMALE\":\r\n      res = \"\";\r\n      break;\r\n    case \"OTHER\":\r\n      res = \"\";\r\n      break;\r\n  }\r\n  return res;\r\n};\r\n\r\n//  \r\nexport const MaritualStatus = (maritualStatus) => {\r\n  let status = \"\";\r\n  switch (maritualStatus) {\r\n    case \"SINGLE\":\r\n      status = \"\";\r\n      break;\r\n    case \"MARRIAGE\":\r\n      status = \"\";\r\n      break;\r\n  }\r\n  return status;\r\n};\r\n\r\nexport const ITEM_PAGE_LIST = [\r\n  { itemPage: \"1\" },\r\n  { itemPage: \"2\" },\r\n  { itemPage: \"3\" },\r\n  { itemPage: \"4\" },\r\n  { itemPage: \"5\" },\r\n  { itemPage: \"\" },\r\n];\r\n\r\nexport const bracket = (tag) => {\r\n  let st = \"(\";\r\n  let en = \")\";\r\n  let i = st + tag + en;\r\n  return i;\r\n};\r\n\r\nexport const messageConfirm = (title, action) => {\r\n  Notiflix.Confirm.show(\r\n    \"\",\r\n    title,\r\n    \"\",\r\n    \"\",\r\n    async function () {\r\n      action();\r\n    },\r\n    function () {\r\n      return false;\r\n    }\r\n  );\r\n};\r\nexport const paiStatus = (status) => {\r\n  if (status === 1) {\r\n    return \"\";\r\n  } else if (status === 0) {\r\n    return \"\";\r\n  } else {\r\n    return \"-\";\r\n  }\r\n};\r\n\r\n//set params\r\nexport const setParams = (key, val) => {\r\n  const urlSearch = window.location.search;\r\n  if (urlSearch.search(key) === -1) {\r\n    const _symbol = urlSearch ? \"&\" : \"\";\r\n    const _search = `${urlSearch}${_symbol}${key}=${val ? val : \"\"}`;\r\n    return _search;\r\n  } else {\r\n    const params = new URLSearchParams(urlSearch);\r\n    const oldValue = params.get(key);\r\n    const newUrl = urlSearch.replace(\r\n      `${key}=${oldValue}`,\r\n      `${key}=${val ? val : \"\"}`\r\n    );\r\n    return newUrl;\r\n  }\r\n};\r\n\r\n//   \r\nexport const startOfMonth = () => {\r\n  return moment().subtract(3, \"months\").startOf(\"month\").format(\"YYYY-MM-DD\");\r\n};\r\n//   \r\nexport const startMonth = () => {\r\n  return moment().clone().startOf(\"month\").format(\"YYYY-MM-DD\");\r\n};\r\n\r\n//    \r\nexport const endOfMonth = () => {\r\n  return moment().clone().endOf(\"month\").format(\"YYYY-MM-DD\");\r\n};\r\n\r\n//  \r\nexport const age = (age) => {\r\n  let today = new Date();\r\n  let y = today.getFullYear();\r\n  let dob = moment(age).format(\"YYYY\");\r\n  return y - dob;\r\n};\r\n\r\n//  \r\nexport const currency = (value) => {\r\n  let currencys = new Intl.NumberFormat(\"en-CA\").format(value);\r\n  if (value != 0) return currencys;\r\n  else if (value == 0) return \"0\";\r\n  else return \"\";\r\n};\r\n\r\n//formatDateTime\r\nexport const formatDateTime = (dateTime) => {\r\n  let resp = moment(dateTime).format(\"DD-MM-YYYY, HH:mm\");\r\n  return resp;\r\n};\r\n\r\n//  ()\r\nexport const formatDate = (dateTime) => {\r\n  moment.locale(\"lo\");\r\n  let resp = moment(dateTime).format(\"DD MMMM YYYY\");\r\n  if (dateTime) return resp;\r\n  else return \"-\";\r\n};\r\n\r\n//  (/)\r\nexport const formateDateSlash = (slashData) => {\r\n  let resp = moment(slashData).format(\"YYYY/MM/DD\");\r\n  return resp;\r\n};\r\n\r\n//  (-)\r\nexport const formatDateDash = (dashDate) => {\r\n  let resp = moment(dashDate).format(\"YYYY-MM-DD\");\r\n  return resp;\r\n};\r\n\r\n//  ( 1 )\r\nexport const nextSevenDay = () => {\r\n  var nextSenvenDay = moment().add(7, \"days\");\r\n  var nextSevenDays = moment(nextSenvenDay).format(\"YYYY-MM-DD\");\r\n  return nextSevenDays;\r\n};\r\n\r\n//  ( 1 )\r\nexport const nextOneDay = () => {\r\n  var nextOneDay = moment().add(1, \"days\");\r\n  var nextOneDays = moment(nextOneDay).format(\"YYYY-MM-DD\");\r\n  return nextOneDays;\r\n};\r\n\r\n//    ()\r\nexport const toDay = () => {\r\n  moment.locale(\"lo\");\r\n  var today = new Date();\r\n  var todays = moment(today).format(\"DD/MM/YY, HH:mm\");\r\n  return todays;\r\n};\r\n\r\n//  (-)\r\nexport const toDayDash = () => {\r\n  var today = new Date();\r\n  var todays = moment(today).format(\"YYYY-MM-DD\");\r\n  return todays;\r\n};\r\n\r\nexport const unixTimeFormat = (x) => {\r\n  let res = moment.unix(x).format(\"YYYY-MM-DD HH:SS\");\r\n  if (res) return res;\r\n};\r\n\r\nexport const loadingScreen = () => {\r\n  return Loading.hourglass({\r\n    backgroundColor: \"rgba(245, 74, 7,0.2)\",\r\n    svgColor: \"#f54f02\",\r\n  });\r\n};\r\nexport const closeLoadingScreen = () => {\r\n  return Loading.move();\r\n};\r\n\r\nexport const reconvertDay = (day) => {\r\n  let result = \"\";\r\n  switch (day) {\r\n    case \"MONDAY\":\r\n      result = \"\";\r\n      break;\r\n    case \"TUESDAY\":\r\n      result = \"\";\r\n      break;\r\n    case \"WEDNESDAY\":\r\n      result = \"\";\r\n      break;\r\n    case \"THURSDAY\":\r\n      result = \"\";\r\n      break;\r\n    case \"FRIDAY\":\r\n      result = \"\";\r\n      break;\r\n    case \"SATURDAY\":\r\n      result = \"\";\r\n      break;\r\n    case \"SUNDAY\":\r\n      result = \"\";\r\n      break;\r\n    default:\r\n      result = \"\";\r\n  }\r\n  return result;\r\n};\r\n\r\n//  \r\nexport const SortBy = ({ sort }) => {\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        sort();\r\n      }}\r\n      style={{\r\n        float: \"right\",\r\n        marginRight: 5,\r\n        cursor: \"pointer\",\r\n      }}\r\n    >\r\n      <i className=\"fa fa-sort\"></i>\r\n    </div>\r\n  );\r\n};\r\n\r\n// =======>>> month\r\n\r\nexport const _month = [\r\n  {\r\n    id: \"01\",\r\n    month: \"\",\r\n  },\r\n  {\r\n    id: \"02\",\r\n    month: \"\",\r\n  },\r\n  {\r\n    id: \"03\",\r\n    month: \"\",\r\n  },\r\n  {\r\n    id: \"04\",\r\n    month: \"\",\r\n  },\r\n  {\r\n    id: \"05\",\r\n    month: \"\",\r\n  },\r\n  {\r\n    id: \"06\",\r\n    month: \"\",\r\n  },\r\n  {\r\n    id: \"07\",\r\n    month: \"\",\r\n  },\r\n  {\r\n    id: \"08\",\r\n    month: \"\",\r\n  },\r\n  {\r\n    id: \"09\",\r\n    month: \"\",\r\n  },\r\n  {\r\n    id: \"10\",\r\n    month: \"\",\r\n  },\r\n  {\r\n    id: \"11\",\r\n    month: \"\",\r\n  },\r\n  {\r\n    id: \"12\",\r\n    month: \"\",\r\n  },\r\n];\r\n\r\nexport const startLoading = () => {\r\n  return Notiflix.Loading.standard(\"Loading...\");\r\n};\r\nexport const stopLoading = () => {\r\n  return Notiflix.Loading.remove();\r\n};\r\n\r\nexport const messageSuccess = (e) => {\r\n  Notiflix.Notify.init({ position: \"center-top\" });\r\n  Notiflix.Notify.success(e);\r\n};\r\n\r\nexport const messageError = (e) => {\r\n  Notiflix.Notify.init({ position: \"center-top\" });\r\n  Notiflix.Notify.failure(e);\r\n};\r\n\r\nexport const messageWarning = (e) => {\r\n  Notiflix.Notify.init({ position: \"center-top\" });\r\n  Notiflix.Notify.warning(e);\r\n};\r\nexport const startSpriner = (color) => {\r\n  return (\r\n    <div className={`spinner-border text-${color}`} role=\"status\">\r\n      <span className=\"sr-only\">...</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const loadingData = (size, content) => {\r\n  return (\r\n    <>\r\n      <img\r\n        src={loadingImage}\r\n        alt=\"loading\"\r\n        style={{ width: size, height: size }}\r\n      />{\" \"}\r\n      {content}\r\n    </>\r\n  );\r\n};\r\n//createdAt  timestamp\r\nexport const startDate_gte = (date) => {\r\n  return moment(date).unix();\r\n};\r\nexport const endDate_lt = (date) => {\r\n  return moment(date).unix();\r\n};\r\n\r\nexport const createdAt_gte = (date) => {\r\n  const _date = date ? date : new Date();\r\n  return moment(_date).format(\"YYYY-MM-DD\");\r\n};\r\n\r\nexport const createdAt_lt = (date) => {\r\n  const _date = date ? date : new Date();\r\n  return moment(_date).add(1, \"days\").format(\"YYYY-MM-DD\");\r\n};\r\n\r\n//updatedAt\r\nexport const updatedAt_gte = (date) => {\r\n  const _date = date ? date : new Date();\r\n  return moment(_date).format(\"YYYY-MM-DD\");\r\n};\r\nexport const updatedAt_lt = (date) => {\r\n  const _date = date ? date : new Date();\r\n  return moment(_date).add(1, \"days\").format(\"YYYY-MM-DD\");\r\n};\r\n//confirm\r\nexport const notiflixConfirm = (title, cb) => {\r\n  Notiflix.Confirm.show(\r\n    \"\",\r\n    title,\r\n    \"\",\r\n    \"\",\r\n    () => {\r\n      cb();\r\n    },\r\n    () => {\r\n      return false;\r\n    }\r\n  );\r\n};\r\n\r\n//limit input number only\r\nexport const numberOnlyInput = (event) => {\r\n  if (!/[0-9]/.test(event.key)) {\r\n    event.preventDefault();\r\n  }\r\n};\r\n\r\nexport const getStatus = (item) => {\r\n  if (item === \"SUPER_ADMIN\") {\r\n    return \"\";\r\n  } else if (item === \"IT\") {\r\n    return \"\";\r\n  } else if (item === \"HR\") {\r\n    return \"\";\r\n  } else if (item === \"ACCOUNTANT\") {\r\n    return \"\";\r\n  } else if (item === \"FINANCE\") {\r\n    return \"\";\r\n  } else if (item === \"LAW\") {\r\n    return \"\";\r\n  } else if (item === \"STATE_DIRECTOR\") {\r\n    return \"\";\r\n  } else if (item === \"BRANCH_DIRECTOR\") {\r\n    return \"\";\r\n  } else if (item === \"ADMIN\") {\r\n    return \"\";\r\n  } else if (item === \"CALL_CENTER\") {\r\n    return \"/ \";\r\n  } else if (item === \"DRIVER_DIRECTOR\") {\r\n    return \"\";\r\n  } else if (item === \"CUSTOMER_SERVICE\") {\r\n    return \"/ \";\r\n  } else if (item === \"DRIVER\") {\r\n    return \"\";\r\n  } else if (item === \"AUDITION_DIRECTOR\") {\r\n    return \"\";\r\n  } else if (item === \"AUDITION_STAFF\") {\r\n    return \"/ \";\r\n  } else {\r\n    return \"-\";\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { TOKEN } from \"../helper\";\r\n\r\nfunction PrivateRoute({ component: Component, headerTitle, ...rest }) {\r\n  const token = localStorage.getItem(TOKEN);\r\n\r\n  return (\r\n    <>\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        token ? (\r\n          <div>\r\n            <Component {...props} />\r\n          </div>\r\n        ) : (\r\n          <Redirect to=\"/landing\" />\r\n        )\r\n      }\r\n    />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","export const HOME_PAGE = \"/home\";\nexport const LOGIN = \"/login\";\nexport const OTHER = \"/other\";\nexport const PROFILES = \"/profile\";\n\n// Hotel\nexport const HOTEL = \"/other/hotel\";\nexport const HOTEL_CHECKOUT = \"/other/hotel_checkout\";\n// booking\nexport const BOOKING = \"/other/booking\";\nexport const REQUEST_BOOKING_SCREEN = \"/other/request_booking\";\nexport const BOOKING_CANCEL = \"/other/booking_cancel\";\n\n// setting\nexport const SETTING = \"/setting_screen\";\n// rateExchange\nexport const RATE_EXCHANGE_SCREEN = \"/rate_exchange\";\n\n// managementhouse\nexport const TAB_MENU = \"/management_house/tab_menu\";\nexport const MANAGEMENT_TYPE_ROOM = \"/management_house/type_room\";\nexport const MANAGEMENT_ROOM = \"/management_house/rooms\";\nexport const MANAGEMENT_HOUSE = \"/management_house/houses\";\n\n// report \nexport const TAB_MENU_INCOME = \"/other/report_income\";\n\n\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { OTHER, PROFILES } from \"../routes/app\";\r\n// import \"./bottomNav.css\";\r\n\r\nexport default function BottomNav() {\r\n  return (\r\n    <div\r\n      className=\"appBottomMenu pb-2\"\r\n      style={{\r\n        height: 60,\r\n        paddingTop: 10,\r\n        backgroundColor: \"#ffff\",\r\n      }}\r\n    >\r\n      <NavLink\r\n        className=\"item\"\r\n        to={`${OTHER}`}\r\n        style={{ borderTopLeftRadius: 25, marginLeft: -10 }}\r\n      >\r\n        <div className=\"col pt-1\" style={{ borderTopLeftRadius: 20 }}>\r\n          <i className=\"icon-sort text-secondary\" style={{ fontSize: 25 }} />\r\n          <strong className=\"text-secondary\" style={{ fontSize: 15 }}>\r\n            \r\n          </strong>\r\n        </div>\r\n      </NavLink>\r\n      <NavLink className=\"item\" to=\"/home\">\r\n        <div className=\"col pt-1\">\r\n          <i className=\"icon-home text-secondary\" style={{ fontSize: 25 }} />\r\n          <strong className=\"text-secondary \" style={{ fontSize: 15 }}>\r\n            \r\n          </strong>\r\n        </div>\r\n      </NavLink>\r\n      <NavLink\r\n        className=\"item\"\r\n        to={`${PROFILES}`}\r\n        style={{\r\n          borderTopRightRadius: 25,\r\n          marginRight: -10,\r\n          borderTop: \"none!important\",\r\n        }}\r\n      >\r\n        <div\r\n          className=\"col pt-1\"\r\n          style={{ borderTopRightRadius: 20, borderTop: \"none\" }}\r\n        >\r\n          <i className=\"icon-user text-secondary\" style={{ fontSize: 25 }} />\r\n          <strong className=\"text-secondary\" style={{ fontSize: 15 }}>\r\n            \r\n          </strong>\r\n        </div>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\r\nexport const ADD_CHECK_IN = gql`\r\n  mutation CreateCheckIn($data: CheckInInput!) {\r\n    createCheckIn(data: $data) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const QUERY_ROOM = gql`\r\n  query Rooms(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: RoomWhereInput\r\n  ) {\r\n    rooms(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      total\r\n      data {\r\n        title_lao\r\n        title_eng\r\n        priceHalf\r\n        priceFull\r\n        status\r\n        detail\r\n        createdAt\r\n        typeRoom {\r\n          title_lao\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_SUMMARY_BOOKING = gql`\r\nquery SummaryBookingTotal($where: BookingWhereInput) {\r\n  summaryBookingTotal(where: $where) {\r\n    bookingTotal\r\n    feeBookingAmount\r\n    halfPriceTotal\r\n    fullPriceTotal\r\n    incomeKIP\r\n    incomeTHB\r\n    incomeUSD\r\n    exChange\r\n  }\r\n}\r\n`;\r\n\r\nexport const QUERY_CHECK_IN = gql`\r\n  query CheckIns(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: CheckInWhereInput\r\n  ) {\r\n    checkIns(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      total\r\n    }\r\n  }\r\n`;\r\n\r\nexport const TOTAL_USER = gql`\r\nquery SummaryUsers($where: UserWhereInput) {\r\n  summaryUsers(where: $where) {\r\n    total\r\n    active\r\n    inactive\r\n  }\r\n}\r\n`;\r\n\r\nexport const SUMMARY_ALL_ROOM = gql`\r\nquery SummaryRooms($where: RoomWhereInput) {\r\n  summaryRooms(where: $where) {\r\n    total\r\n    active\r\n    inactive\r\n    bookingTotal\r\n    fullTotal\r\n    feeTotal\r\n  }\r\n}\r\n`;\r\nexport const QUERY_HOUSE = gql`\r\nquery Houses(\r\n  $where: HouseWhereInput\r\n  $orderBy: OrderByInput\r\n  $skip: Int\r\n  $limit: Int\r\n) {\r\n  houses(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n    total\r\n  }\r\n}\r\n\r\n`;\r\n\r\nexport const QUERY_SUMMARY_BOOKING_CONSOLIDATE = gql`\r\nquery SummaryConsolidateBookings($where: ConsolidateBookingWhereInput) {\r\n  summaryConsolidateBookings(where: $where) {\r\n    total\r\n    balanceKIP\r\n    balanceTHB\r\n    balanceUSD\r\n    transferFee\r\n  }\r\n}\r\n`;\r\n\r\nexport const BOOKINGS = gql`\r\n  query Bookings($where: BookingWhereInput) {\r\n    bookings(where: $where) {\r\n      total\r\n      data {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/male.33aa3d5d.png\";","import { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport { QUERY_SUMMARY_BOOKING } from \"./apollo\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  formatDateTime,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  socketServer,\n  toDayDash,\n} from \"../../helper\";\nexport default function SummaryMoney() {\n  const [startDate, setStartDate] = useState(toDayDash());\n  const [endDate, setEndDate] = useState(toDayDash());\n  const [reloadData, setReloadData] = useState(false);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const [fetchData, { data: bookingToday, loading }] = useLazyQuery(\n    QUERY_SUMMARY_BOOKING,\n    {\n      fetchPolicy: \"cache-and-network\",\n    }\n  );\n\n  const [outHouseData, { data: outHouse, loadingCheckout }] = useLazyQuery(\n    QUERY_SUMMARY_BOOKING,\n    {\n      fetchPolicy: \"cache-and-network\",\n    }\n  );\n  const [fetchDataCheckIn, { data: CheckInHouse, loadingCheckIn }] =\n    useLazyQuery(QUERY_SUMMARY_BOOKING, {\n      fetchPolicy: \"cache-and-network\",\n    });\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n\n  socketServer.on(\"approveBooking\", (res) => {\n    if (res === localHouse) {\n      setReloadData(!reloadData);\n    }\n  });\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(localHouse),\n    };\n    if (userData?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    fetchData({\n      variables: {\n        where: {\n          ...whereData,\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n          status: \"BOOKING\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n    outHouseData({\n      variables: {\n        where: {\n          ...whereData,\n          checkOutAt_gte: createdAt_gte(startDate),\n          checkOutAt_lte: createdAt_lt(endDate),\n          status: \"CHECK_OUT\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n    fetchDataCheckIn({\n      variables: {\n        where: {\n          ...whereData,\n          checkInAt_gte: createdAt_gte(startDate),\n          checkInAt_lte: createdAt_lt(endDate),\n          status: \"CHECK_IN\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [startDate, endDate]);\n\n  return (\n    <>\n      <div className=\"saving-goals-section pb-15 card\">\n        <div className=\"progress-card progress-card-red mb-15\">\n          <div className=\"progress-card-info\">\n            <div style={{ width: 50, height: 50 }}>\n              <i className=\"fa-solid fa-circle-down fa-2x\" />\n            </div>\n            <div className=\"progress-primary-text ms-2\">\n              <h4></h4>\n            </div>\n          </div>\n          <div className=\"progress-card-amount fs-4\">\n            {loading\n              ? loadingData(25)\n              : bookingToday?.summaryBookingTotal?.feeBookingAmount\n              ? currency(bookingToday?.summaryBookingTotal?.feeBookingAmount)\n              : 0}{\" \"}\n            \n          </div>\n        </div>\n\n        <div className=\"progress-card progress-card-blue mb-15\">\n          <div className=\"progress-card-info\">\n            <div className=\"circular-progress\" data-note={25}>\n              <div style={{ width: 50, height: 50 }}>\n                <i class=\"fa-solid fa-circle-left fa-2x\"></i>\n              </div>\n            </div>\n            <div className=\"progress-info-text\">\n              <h4></h4>\n            </div>\n          </div>\n          <div className=\"progress-card-amount fs-4 text-primary\">\n            {loadingCheckIn\n              ? loadingData(25)\n              : CheckInHouse?.summaryBookingTotal?.incomeKIP > 0\n              ? currency(CheckInHouse?.summaryBookingTotal?.incomeKIP)\n              : 0}{\" \"}\n            \n          </div>\n        </div>\n        <div className=\"progress-card progress-card-green mb-15\">\n          <div className=\"progress-card-info\">\n            <div className=\"circular-progress\" data-note={75}>\n              <div style={{ width: 50, height: 50 }}>\n                <i className=\"fa-solid fa-circle-right fa-2x\" />\n              </div>\n            </div>\n            <div className=\"progress-info-text \">\n              <h4></h4>\n            </div>\n          </div>\n          <div className=\"progress-card-amount fs-4 text-primary\">\n            {loadingCheckout\n              ? loadingData(25)\n              : currency(outHouse?.summaryBookingTotal?.feeBookingAmount)}{\" \"}\n            \n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getStaffLogin } from \"..\";\nconst QUERY = gql`\n  query Data($where: HouseWhereInput) {\n    houses(where: $where) {\n      data {\n        _id\n        type {\n          title_lao\n          title_eng\n        }\n        houseName\n      }\n    }\n  }\n`;\nexport default function SelectLocalHouse({\n  className,\n  style,\n  onChange,\n  value,\n  ownerId,\n}) {\n  const [items, setItems] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [searchValue, setSearchValue] = useState();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n\n  const [fetchData, { data, loading }] = useLazyQuery(QUERY);\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      houseName: searchValue ? searchValue : undefined,\n      owner: ownerId,\n    };\n    if (userData?.role === \"SUPER_ADMIN\") {\n      delete whereData.owner;\n    }\n    fetchData({\n      variables: {\n        where: {\n          ...whereData,\n        },\n      },\n    });\n  }, [ownerId]);\n\n\n  useEffect(() => {\n    const results = data?.houses?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.houseName,\n        };\n        return object;\n      });\n      setItems(_results);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n\n  return (\n    <div style={{ width: \"100%\", color: \"black\", fontSize: 16 }}>\n      <Select\n        styles={style}\n        className={className}\n        value={selectedOption}\n        placeholder={loading ? \"...\" : \"\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport \"./index.css\";\nimport BottomNav from \"../../layouts/BottomNav\";\nimport { BOOKINGS, QUERY_SUMMARY_BOOKING } from \"./apollo\";\nimport male from \"../../img/male.png\";\nimport { Image } from \"react-bootstrap\";\nimport {\n  aws_url_employee_Image,\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  toDayDash,\n} from \"../../helper\";\nimport { AppContext } from \"../../App\";\nimport QRCode from \"react-qr-code\";\nimport OtherMoney from \"./OtherMoney\";\nimport { BOOKING, OTHER } from \"../../routes/app\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\nexport default function Home() {\n  const { history } = useReactRouter();\n  const [startDate, setStartDate] = useState(toDayDash());\n  const [endDate, setEndDate] = useState(toDayDash());\n  const [house, setHouse] = useState(\"\");\n  const [userData, setUserData] = useState({});\n  const [clickButton, setButton] = useState(false);\n\n  const [fetchBooking, { data: setBooking, loading: loadingBooking }] =\n    useLazyQuery(QUERY_SUMMARY_BOOKING, {\n      fetchPolicy: \"cache-and-network\",\n    });\n  const [checkOut, { data: outHouse, loading: loading }] = useLazyQuery(\n    QUERY_SUMMARY_BOOKING,\n    {\n      fetchPolicy: \"cache-and-network\",\n    }\n  );\n  const [fetchDataCheckIn, { data: CheckInHouse, loadingCheckIn }] =\n    useLazyQuery(QUERY_SUMMARY_BOOKING, {\n      fetchPolicy: \"cache-and-network\",\n    });\n  // data HouseLoca\n  useEffect(() => {\n    const _local = getStaffLogin();\n    setUserData(_local?.data || {});\n    setHouse(getLocalHouse());\n    //sidebar min\n    const localSideBarMini = localStorage.getItem(\"SIDEBAR_MINI\");\n    if (localSideBarMini === \"true\") {\n      document.body.classList.add(\"sidebar-collapse\");\n    }\n  }, []);\n  // end\n\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(house?._id),\n    };\n    if (userData?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    fetchBooking({\n      variables: {\n        where: {\n          ...whereData,\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n          status: \"BOOKING\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n    // check_in\n\n    fetchDataCheckIn({\n      variables: {\n        where: {\n          ...whereData,\n          checkInAt_gte: createdAt_gte(startDate),\n          checkInAt_lte: createdAt_lt(endDate),\n          status: \"CHECK_IN\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n\n    // Booking\n    checkOut({\n      variables: {\n        where: {\n          ...whereData,\n          checkOutAt_gte: createdAt_gte(startDate),\n          checkOutAt_lte: createdAt_lt(endDate),\n          status: \"CHECK_OUT\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [userData]);\n  return (\n    <>\n      <div\n        id=\"appCapsule\"\n        style={{\n          backgroundColor: \"#f54f02\",\n          marginBottom: 0,\n          paddingBottom: 0,\n          whidth: \"100vh\",\n        }}\n      >\n        <div className=\"appHeader  border-0 \">\n          <div style={{ flex: 1 }} className=\"text-left\">\n            <button\n              className=\"btn text-white\"\n              onClick={(e) => {\n                setButton(!clickButton);\n              }}\n            >\n              <i className=\"fa-solid fa-magnifying-glass fa-2 ms-2\" />\n            </button>\n          </div>\n          {clickButton === true ? (\n            <>\n              <SelectLocalHouse\n                style={{ width: \"100%\" }}\n                value={house?._id}\n                onChange={(obj) => {\n                  if (obj?._id) {\n                    setHouse(obj);\n                    localStorage.setItem(\"HOUSE\", JSON.stringify(obj));\n                    window.location.reload();\n                  }\n                }}\n                ownerId={userData?._id}\n              />\n            </>\n          ) : (\n            <b className=\"text-white\">\n              {house?.houseName ? house?.houseName : \"\"}\n            </b>\n          )}\n          <div\n            className=\"text-white pageTitle text-center text-nowrap pr-0\"\n            style={{ flex: 1 }}\n          >\n            <a\n              className=\"mr-3 float-right\"\n              onClick={() => history.push(`${BOOKING}/1`)}\n            >\n              <i className=\"icon-bell\" style={{ fontSize: 20 }} />\n              {loadingBooking ? (\n                <span style={{ position: \"absolute\", right: 10, top: 10 }}>\n                  {loadingData(10)}\n                </span>\n              ) : setBooking?.summaryBookingTotal?.bookingTotal > 0 ? (\n                <span className=\"badge badge-success mr-1 p-2\">\n                  <small>\n                    {setBooking?.summaryBookingTotal?.bookingTotal\n                      ? setBooking?.summaryBookingTotal?.bookingTotal\n                      : 0}\n                  </small>\n                </span>\n              ) : null}\n            </a>\n          </div>\n        </div>\n        <div className=\"body-content body-content-lg \">\n          <div className=\"container\">\n            <div\n              className=\"add-card section-to-header mb-30\"\n              style={{ marginTop: -140 }}\n            >\n              <div className=\"add-card-inner\">\n                <div className=\"add-card-item add-card-info\">\n                  <p></p>\n                  {loadingBooking ? (\n                    loadingData(25)\n                  ) : (\n                    <>\n                      <b className=\"text-danger fs-4\">\n                        {setBooking?.summaryBookingTotal?.bookingTotal > 0\n                          ? currency(\n                              setBooking?.summaryBookingTotal?.bookingTotal\n                            )\n                          : 0}{\" \"}\n                      </b>\n                      \n                    </>\n                  )}\n                </div>\n                <div className=\"add-card-item add-balance\">\n                  <a href=\"javascript:void(0)\" className=\"p-1\">\n                   <b className=\"fs-4\">: {userData?._id}</b>\n                  </a>\n                </div>\n              </div>\n            </div>\n            <div className=\"option-section mb-15\">\n              <div className=\"row gx-2\">\n                <div className=\"col-6 pb-15\">\n                  <div\n                    className=\"option-card card\"\n                    style={{ borderTop: \"1px solid #f54f02\" }}\n                  >\n                    <a\n                      href=\"javascript:void(0)\"\n                      data-bs-toggle=\"modal\"\n                      data-bs-target=\"#withdraw\"\n                    >\n                      <p></p>\n                      <div className=\"option-card-icon text-black\">\n                        {loadingCheckIn ? (\n                          loadingData(25)\n                        ) : (\n                          <>\n                            <b className=\"text-danger fs-4\">\n                              {CheckInHouse?.summaryBookingTotal?.bookingTotal >\n                              0\n                                ? currency(\n                                    CheckInHouse?.summaryBookingTotal\n                                      ?.bookingTotal\n                                  )\n                                : 0}{\" \"}\n                            </b>\n                            \n                          </>\n                        )}\n                      </div>\n                    </a>\n                  </div>\n                </div>\n\n                <div className=\"col-6 pb-15\">\n                  <div\n                    className=\"option-card  card \"\n                    style={{ borderTop: \"1px solid #f54f02\" }}\n                  >\n                    <a href=\"javascript:void(0)\">\n                      <p></p>\n                      <div className=\"option-card-icon text-black\">\n                        {loading ? (\n                          loadingData(25)\n                        ) : (\n                          <>\n                            <b className=\"text-danger fs-4\">\n                              {outHouse?.summaryBookingTotal?.bookingTotal > 0\n                                ? currency(\n                                    outHouse?.summaryBookingTotal?.bookingTotal\n                                  )\n                                : 0}{\" \"}\n                            </b>\n                            \n                          </>\n                        )}\n                      </div>\n                    </a>\n                  </div>\n                </div>\n                <OtherMoney />\n              </div>\n            </div>\n          </div>\n        </div>\n        <BottomNav />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const LOGIN_USER = gql`\nmutation StaffLogin($where: StaffLoginInput!) {\n  staffLogin(where: $where) {\n    accessToken\n    data {\n      _id\n      profileImage\n      firstName\n      lastName\n      phoneNumber\n      house {\n        _id\n        houseName\n        houseName_en\n        houseCode\n        contactPhone\n        contactEmail\n        contactWebsite\n        coverImage\n        map_lat\n        map_lng\n        province {\n          _id\n          provinceName\n        }\n        district {\n          _id\n          title\n        }\n        village {\n          _id\n          title\n        }\n        powerTime\n        createdAt\n      }\n      carSign\n      status\n      role\n      province {\n        provinceName\n        _id\n      }\n      district {\n        title\n        _id\n      }\n      village {\n        _id\n        title\n      }\n    }\n  }\n}\n`;\n","export default \"data:image/png;base64,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\"","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useState } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport \"./login.css\";\r\nimport { LOGIN_USER } from \"./gql\";\r\nimport Notiflix, { Loading } from \"notiflix\";\r\nimport { loadingScreen, messageError, messageWarning, TOKEN } from \"../../helper\";\r\nimport Imglogo from \"../../img/app-icon.png\";\r\nexport default function Login({ history }) {\r\n  window.history.forward();\r\n  const [employeeLogin] = useMutation(LOGIN_USER);\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={{\r\n          phoneNumber: \"\",\r\n          password: \"\",\r\n        }}\r\n        validate={(values) => {\r\n          const errors = {};\r\n          if (!values.phoneNumber) errors.phoneNumber = \"\";\r\n          else if (values.phoneNumber.length > 8) {\r\n            errors.phoneNumber = \" 8 \";\r\n          } else if (values.phoneNumber.length < 7) {\r\n            errors.phoneNumber = \" 7 \";\r\n          }\r\n          if (!values.password) errors.password = \"\";\r\n          return errors;\r\n        }}\r\n        onSubmit={async (values) => {\r\n          try {\r\n            let user = await employeeLogin({\r\n              variables: {\r\n                where: {\r\n                  phoneNumber: parseInt(values?.phoneNumber),\r\n                  password: String(values?.password),\r\n                },\r\n              },\r\n            });\r\n\r\n            if (user) {\r\n              localStorage.setItem(\r\n                TOKEN,\r\n                JSON.stringify(user?.data?.staffLogin)\r\n              );\r\n              const userRole = user?.data?.staffLogin?.data?.role;\r\n              if (\r\n                userRole === \"SUPER_ADMIN\" ||\r\n                userRole === \"IT\" ||\r\n                userRole === \"ADMIN\" ||\r\n                userRole === \"ACCOUNTANT\" ||\r\n                userRole === \"FINANCE\" ||\r\n                userRole === \"HR\"\r\n              ) {\r\n                loadingScreen();\r\n                setTimeout(() => {\r\n                  Loading.remove();\r\n                  window.location.href = `/home`;\r\n                }, 2000);\r\n              } else {\r\n                messageError(\"\");\r\n              }\r\n            } else {\r\n              messageWarning(\"  \");\r\n            }\r\n          } catch (error) {\r\n            messageWarning(\"\");\r\n          }\r\n        }}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          isSubmitting,\r\n        }) => (\r\n          <>\r\n            <div className=\"header-bg header-bg-1 text-white\" />\r\n            <div className=\"body-content bg-white\">\r\n              <center>\r\n                <img\r\n                  src={Imglogo}\r\n                  alt=\"logo\"\r\n                  className=\"logo p-2\"\r\n                  style={{\r\n                    marginTop: -70,\r\n                    width: 120,\r\n                    height: 120,\r\n                    borderRadius: \"40%\",\r\n                    border: \"2px solid f54f02\",\r\n                  }}\r\n                />\r\n              </center>\r\n              <div className=\"container\">\r\n                <center>\r\n                  <h2></h2>\r\n                </center>\r\n                <div className=\"authentication-form\">\r\n                  <form>\r\n                    <div className=\"form-group pb-15\">\r\n                      <label></label>\r\n                      <div className=\"input-group\">\r\n                        <span className=\"input-group-text btn btn-lg\">\r\n                          <i className=\"icon-phone ml-1 fs-3\" />\r\n                        </span>\r\n                        <input\r\n                          type=\"number\"\r\n                          name=\"phoneNumber\"\r\n                          className=\"form-control form-control-lg card\"\r\n                          placeholder=\"\"\r\n                          onChange={handleChange}\r\n                        />\r\n                      </div>\r\n                      <div className=\"invalid fs-5\">{errors?.phoneNumber}</div>\r\n                    </div>\r\n                    <div className=\"form-group pb-15\">\r\n                      <label></label>\r\n                      <div className=\"input-group\">\r\n                        <span className=\"input-group-text btn btn-lg\">\r\n                          <i className=\"fa-solid fa-key ml-1\" />\r\n                        </span>\r\n                        <input\r\n                          type=\"password\"\r\n                          name=\"password\"\r\n                          className=\"form-control form-control-lg password auto-complete card\"\r\n                          placeholder=\"**********\"\r\n                          onChange={handleChange}\r\n                        />\r\n                      </div>\r\n                      <div className=\"invalid fs-5\">{errors?.password}</div>\r\n                    </div>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleSubmit}\r\n                      disabled={isSubmitting}\r\n                      style={{ backgroundColor: \"#f54f02\" }}\r\n                      className=\"btn btn-block btn-lg text-white rounded mb-10\"\r\n                    >\r\n                      \r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\r\nexport const USERS = gql`\r\n  query Users(\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n    $where: UserWhereInput\r\n  ) {\r\n    users(orderBy: $orderBy, skip: $skip, limit: $limit, where: $where) {\r\n      data {\r\n        _id\r\n        profileImage\r\n        firstName\r\n        lastName\r\n        gender\r\n        province {\r\n          provinceName\r\n        }\r\n        district {\r\n          _id\r\n          title\r\n        }\r\n        village {\r\n          _id\r\n          title\r\n        }\r\n        phoneNumber\r\n        status\r\n        carSign\r\n        basicSalary\r\n        role\r\n        startWorkTime\r\n        endWorkTime\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, {useEffect, useState } from \"react\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport {\n  currency,\n  formatDate,\n  getStaffLogin,\n  getStatus,\n  loadingScreen,\n  setGender,\n  TOKEN,\n} from \"../../helper\";\nimport BottomNav from \"../../layouts/BottomNav\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport Imglogo from \"../../img/app-icon.png\";\nimport { LOGIN } from \"../../routes/app\";\nimport { USERS } from \"./apollo\";\nexport default function Profile({ history }) {\n  const [listData, setListData] = useState({});\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const [fetchData, { data: dataStaff, loading }] = useLazyQuery(USERS, {\n    fetchPolicy: \"cache-and-network\",\n  });\n\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          _id: parseInt(userData?._id),\n        },\n      },\n    });\n  }, []);\n  useEffect(() => {\n    setListData(dataStaff?.users?.data[0]);\n  }, [dataStaff]);\n  const onLogout = () => {\n    Notiflix.Confirm.show(\n      \"\",\n      \"  ?\",\n      \"\",\n      \"\",\n      () => {\n        loadingScreen();\n        setTimeout(() => {\n          Loading.remove();\n          localStorage.clear();\n          window.location.replace(LOGIN);\n          localStorage.removeItem(TOKEN);\n        }, 1000);\n      },\n      () => {\n        return false;\n      }\n    );\n  };\n  return (\n    <>\n      <div id=\"appCapsule\">\n        <div className=\"appHeader text-white border-0 \">\n          <div style={{ flex: 1 }} className=\"text-left\">\n            {/* <button\n              className=\"btn text-white mr-2\"\n              onClick={() => history.goBack()}\n            >\n              <i className=\"icon-x fs-4\" />\n            </button> */}\n          </div>\n          \n          <div\n            className=\"text-white pageTitle text-right text-nowrap pr-0 \"\n            style={{ flex: 1 }}\n          >\n            <button\n              className=\"btn text-white ml-0\"\n              onClick={() => onLogout()}\n              style={{ flex: 1, marginRight: -10 }}\n            >\n              <i className=\"icon-log-out1\" style={{ fontSize: 25 }} />\n            </button>\n          </div>\n        </div>\n        <div className=\"body-content bg-white\" style={{ marginTop: -30 }}>\n          <center>\n            <img\n              src={Imglogo}\n              alt=\"logo\"\n              className=\"logo p-2\"\n              style={{\n                width: 120,\n                height: 120,\n                borderRadius: \"40%\",\n                border: \"2px solid f54f02\",\n              }}\n            /><br/>\n            <b>ID-USER:{\" \"}{listData?._id}</b>\n          </center>\n          <div style={{ marginTop: -20 }}>\n            <div className=\"session-list\">\n              <div className=\"listview-title ml-0\"></div>\n              <>\n                <ul className=\"listview image-listview text\">\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div>  </div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {listData?.firstName ? listData?.firstName : \"-\"}{\" \"}\n                          {listData?.lastName ? listData?.lastName : \"-\"}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div></div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {setGender(listData?.gender ? listData?.gender : \"-\")}{\" \"}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div></div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {formatDate(\n                            listData?.startWorkTime\n                              ? listData?.startWorkTime\n                              : \"-\"\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div></div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {listData?.phoneNumber ? listData?.phoneNumber : \"-\"}\n                          <br />\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div></div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {getStatus(listData?.role ? listData?.role : \"-\")}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div></div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {currency(\n                            listData?.basicSalary ? listData?.basicSalary : 0\n                          )}{\" \"}\n                          \n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div></div>\n                        <div className=\"custom-control custom-switch\">\n                          {listData?.village?.title\n                            ? listData?.village?.title\n                            : \"-\"}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div></div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {listData?.district?.title\n                            ? listData?.district?.title\n                            : \"-\"}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div></div>\n                        <div className=\"custom-control custom-switch\">\n                          {listData?.province?.provinceName\n                            ? listData?.province?.provinceName\n                            : \"-\"}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                </ul>\n              </>\n            </div>\n          </div>\n        </div>\n        <BottomNav />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const BOOKINGS = gql`\n  query Bookings($where: BookingWhereInput) {\n    bookings(where: $where) {\n      total\n      data {\n        _id\n      }\n    }\n  }\n`;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport { Button, Col } from \"react-bootstrap\";\n// import \"./utils/index.css\";\nimport * as ROUTES from \"../../routes/app\";\nimport BottomNav from \"../../layouts/BottomNav\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  socketServer,\n} from \"../../helper\";\nimport { BOOKINGS } from \"./gql\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\n\nexport default function TabMenuOther() {\n  const { history } = useReactRouter();\n  const [reloadData, setReloadData] = useState(false);\n  const [house, setHouse] = useState(\"\");\n  const [userData, setUserData] = useState({});\n  const [clickButton, setButton] = useState(false);\n\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\n    BOOKINGS,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  const [queryBookingFull, { data: setDataFull, loading: loadingFull }] =\n    useLazyQuery(BOOKINGS, { fetchPolicy: \"cache-and-network\" });\n  const [\n    queryBookingRequested,\n    { data: setDataRequested, loading: loadingRequested },\n  ] = useLazyQuery(BOOKINGS, { fetchPolicy: \"cache-and-network\" });\n\n  socketServer.on(\"booking\", (data) => {\n    setReloadData(!reloadData);\n    // newSound.play();\n  });\n\n  socketServer.on(\"approveBooking\", (res) => {\n    if (res === house?._id) {\n      // newSound.play();\n      setReloadData(!reloadData);\n    }\n  });\n  // data HouseLocal\n  useEffect(() => {\n    const _local = getStaffLogin();\n    setUserData(_local?.data || {});\n    setHouse(getLocalHouse());\n    //sidebar min\n    const localSideBarMini = localStorage.getItem(\"SIDEBAR_MINI\");\n    if (localSideBarMini === \"true\") {\n      document.body.classList.add(\"sidebar-collapse\");\n    }\n  }, []);\n  // end\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(house?._id),\n    };\n    if (userData?.role === \"SUPER_ADMIN\" || userData?.role === \"IT\") {\n      delete whereData.house;\n    }\n    queryBookingFull({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"CHECK_IN\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n\n    queryBooking({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"BOOKING\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n    queryBookingRequested({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"REQUESTED\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [house?._id, reloadData]);\n\n  return (\n    <>\n      <div>\n        <div className=\"appHeader  border-0 mr-0\">\n          <div style={{ flex: 1 }} className=\"text-left\">\n            <button\n              className=\"btn text-white\"\n              onClick={(e) => {\n                setButton(!clickButton);\n              }}\n            >\n              <i className=\"fa-solid fa-magnifying-glass fa-2 ms-2\" />\n            </button>\n          </div>\n          {clickButton === true ? (\n            <>\n              <SelectLocalHouse\n                style={{ width: \"100%\" }}\n                value={house?._id}\n                onChange={(obj) => {\n                  if (obj?._id) {\n                    setHouse(obj);\n                    localStorage.setItem(\"HOUSE\", JSON.stringify(obj));\n                    window.location.reload();\n                  }\n                }}\n                ownerId={userData?._id}\n              />\n            </>\n          ) : (\n            <b className=\"text-white\">\n              {house?.houseName ? house?.houseName : \"\"}\n            </b>\n          )}\n          <div\n            className=\"text-white pageTitle text-right text-nowrap pr-0\"\n            style={{ flex: 1 }}\n          ></div>\n        </div>\n        <div id=\"appCapsule\" style={{ marginTop: -10 }}>\n          <div className=\"section wallet-card-section\">\n            <div className=\"session-list mt-1\" ng-controller=\"home\">\n              <div\n                className=\"wallet-card\"\n                style={{ borderBottom: \"1px solid red\" }}\n              >\n                <div className=\"wallet-footer\">\n                  <div className=\"item\">\n                    <a\n                      href=\"javascript:void(0)\"\n                      onClick={() => history.push(`${ROUTES.HOTEL}/1`)}\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-sharp fa-solid fa-person-booth fa-2x\" />\n                      </div>\n                      <h5></h5>\n                    </a>\n                  </div>\n                  <div className=\"item\">\n                    {loading ? (\n                      <span\n                        className=\"ms-2\"\n                        style={{\n                          position: \"fixed\",\n                          marginTop: -10,\n                          marginRight: -50,\n                          padding: 0,\n                          zIndex: 1000,\n                        }}\n                      >\n                        {loadingData(10)}\n                      </span>\n                    ) : setData?.bookings?.total > 0 ? (\n                      <span\n                        className=\"badge badge-success ms-2\"\n                        style={{\n                          position: \"fixed\",\n                          marginTop: -10,\n                          marginRight: -50,\n                          padding: 0,\n                          zIndex: 1000,\n                        }}\n                      >\n                        <small className=\"p-1\">\n                          {setData?.bookings?.total}\n                        </small>\n                      </span>\n                    ) : null}\n                    <a\n                      href=\"javascript:void(0)\"\n                      onClick={() => history.push(`${ROUTES.BOOKING}/1`)}\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-solid fa-circle-down fa-2x\" />\n                      </div>\n                      <h5></h5>\n                    </a>\n                  </div>\n                  <div className=\"item\">\n                    {loadingFull ? (\n                      <span\n                        className=\"ms-2\"\n                        style={{\n                          position: \"fixed\",\n                          marginTop: -10,\n                          marginRight: -50,\n                          padding: 0,\n                          zIndex: 1000,\n                        }}\n                      >\n                        {loadingData(10)}\n                      </span>\n                    ) : setDataFull?.bookings?.total > 0 ? (\n                      <span\n                        className=\"badge badge-success ms-2\"\n                        style={{\n                          position: \"fixed\",\n                          marginTop: -10,\n                          marginRight: -50,\n                          padding: 0,\n                          zIndex: 1000,\n                        }}\n                      >\n                        <small className=\"p-1\">\n                          {setDataFull?.bookings?.total}\n                        </small>\n                      </span>\n                    ) : null}\n                    <a\n                      onClick={(e) => history.push(`${ROUTES.HOTEL_CHECKOUT}`)}\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-solid fa-share-from-square fa-2x\" />\n                      </div>\n                      <h5></h5>\n                    </a>\n                  </div>\n                </div>\n                {/* rare */}\n                <div className=\"wallet-footer\">\n                  <div className=\"item\">\n                    <a\n                      onClick={(e) =>\n                        history.push(`${ROUTES.RATE_EXCHANGE_SCREEN}/1`)\n                      }\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-solid fa-kip-sign fa-2x\" />\n                      </div>\n                      <h5></h5>\n                    </a>\n                  </div>\n                  <div className=\"item\">\n                    <a onClick={(e) => history.push(`${ROUTES.TAB_MENU}/Type`)}>\n                      <div className=\"icon-wrapper\">\n                        <i className=\"icon-plus-circle me-1 fa-2x ms-1\" />\n                      </div>\n                      <h5></h5>\n                    </a>\n                  </div>\n                  <div className=\"item\">\n                    <a\n                      onClick={(e) => {\n                        history.push(`${ROUTES.TAB_MENU_INCOME}/Type`);\n                      }}\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-solid fa-book fa-2x\" />\n                      </div>\n                      <h5></h5>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/*  */}\n            {(userData?.role === \"SUPER_ADMIN\") |\n              (userData?.role === \"IT\") |\n              (userData?.role === \"ADMIN\") && (\n              <>\n                <div className=\"transactions mt-2 \">\n                  <a href=\"javascript:void(0)\" className=\"item pr-0\">\n                    <div className=\"\">\n                      {loadingRequested ? (\n                        <span\n                          className=\"ms-4\"\n                          style={{\n                            position: \"fixed\",\n                            marginTop: -5,\n                            marginRight: -10,\n                            padding: 0,\n                            zIndex: 1000,\n                          }}\n                        >\n                          {loadingData(10)}\n                        </span>\n                      ) : setDataRequested?.bookings?.total > 0 ? (\n                        <span\n                          className=\"badge badge-success ms-2\"\n                          style={{\n                            position: \"fixed\",\n                            marginTop: -10,\n                            marginRight: -50,\n                            padding: 0,\n                            zIndex: 1000,\n                          }}\n                        >\n                          <small className=\"p-1\">\n                            {setDataRequested?.bookings?.total\n                              ? setDataRequested?.bookings?.total\n                              : \"\"}\n                          </small>\n                        </span>\n                      ) : null}\n                      <a\n                        onClick={(e) => {\n                          history.push(\n                            `${`${ROUTES.REQUEST_BOOKING_SCREEN}/1`}`\n                          );\n                        }}\n                      >\n                        <div className=\"icon-wrapper mt-1\">\n                          <i className=\"fa-solid fa-cart-plus fa-2x text-center ms-2 mb-1\" />\n                        </div>\n                        <h5></h5>\n                      </a>\n                    </div>\n                    <div className=\"\">\n                      <a\n                        onClick={(e) => {\n                          history.push(`${ROUTES.BOOKING_CANCEL}/1`);\n                        }}\n                      >\n                        <div className=\"icon-wrapper\">\n                          <i class=\"fa-solid fa-triangle-exclamation fa-2x mb-1\" />\n                        </div>\n                        <h5></h5>\n                      </a>\n                    </div>\n                    <div className=\"me-3\">\n                      <a\n                        onClick={(e) => {\n                          history.push(`${ROUTES.SETTING}/1`);\n                        }}\n                      >\n                        <div className=\"icon-wrapper\">\n                          <i className=\"fa-solid fa-gear fa-2x mb-1\" />\n                        </div>\n                        <h5></h5>\n                      </a>\n                    </div>\n                  </a>\n                </div>\n              </>\n            )}\n          </div>\n          <BottomNav />\n        </div>\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\r\nexport const QUERY_ROOM = gql`\r\n  query Data(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: RoomWhereInput\r\n  ) {\r\n    rooms(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      data {\r\n        _id\r\n        typeRoom {\r\n          title_lao\r\n          title_eng\r\n        }\r\n        title_lao\r\n        title_eng\r\n        priceHalf\r\n        priceFull\r\n        status\r\n        detail\r\n        createdAt\r\n        isPublic\r\n        house {\r\n          _id\r\n          houseName\r\n        }\r\n      }\r\n      total\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_BOOKING = gql`\r\n  query Bookings(\r\n    $where: BookingWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n      total\r\n      data {\r\n        _id\r\n        status\r\n        bookDate\r\n        bookTime\r\n        bookingType\r\n        updatedAt\r\n        checkInAt\r\n        checkOutAt\r\n        room {\r\n          _id\r\n          title_lao\r\n          title_eng\r\n          priceHalf\r\n          priceFull\r\n        }\r\n        house {\r\n          _id\r\n          houseName\r\n        }\r\n        inTime\r\n        fee\r\n        paidStatus\r\n        halfPriceTotal\r\n        fullPriceTotal\r\n        incomeKIP\r\n        incomeTHB\r\n        incomeUSD\r\n        exChange\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_CHECK_IN = gql`\r\n  query CheckIns(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: CheckInWhereInput\r\n  ) {\r\n    checkIns(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      total\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_CHECK_IN = gql`\r\n  mutation CreateBooking($data: BookingInput!) {\r\n    createBooking(data: $data) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_ROOMS = gql`\r\n  query Rooms(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: RoomWhereInput\r\n  ) {\r\n    rooms(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      total\r\n      data {\r\n        _id\r\n        title_lao\r\n        title_eng\r\n        priceHalf\r\n        priceFull\r\n        status\r\n        detail\r\n        createdAt\r\n        typeRoom {\r\n          _id\r\n          title_lao\r\n        }\r\n        house {\r\n          _id\r\n          houseName\r\n          powerTime\r\n          type {\r\n            title_lao\r\n            title_eng\r\n          }\r\n        }\r\n        coverImage\r\n        images\r\n        createdBy {\r\n          lastName\r\n        }\r\n        updatedAt\r\n        updatedBy {\r\n          firstName\r\n        }\r\n        isPublic\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_BOOKING_STATUS = gql`\r\n  mutation UpdateBooking($data: BookingInput!, $where: BookingWhereInputOne!) {\r\n    updateBooking(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_ROOM = gql`\r\n  mutation UpdateRoom($data: RoomInput!, $where: RoomWhereInputOne!) {\r\n    updateRoom(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const ADD_CUSTOMER = gql`\r\n  mutation CreateCustomer($data: CustomerInput!) {\r\n    createCustomer(data: $data) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const CHECKOUT_BOOKING = gql`\r\n  query Bookings(\r\n    $where: BookingWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n      total\r\n      data {\r\n        _id\r\n        bookingType\r\n        room {\r\n          _id\r\n          title_lao\r\n        }\r\n        customer {\r\n          fullName\r\n          _id\r\n          phoneNumber\r\n        }\r\n        paidStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const QUERY_RATE = gql`\r\n  query RateExchanges(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: RateExchangeWhereInput\r\n  ) {\r\n    rateExchanges(\r\n      limit: $limit\r\n      skip: $skip\r\n      orderBy: $orderBy\r\n      where: $where\r\n    ) {\r\n      data {\r\n        laoKIP\r\n        laoTHB\r\n        laoUSD\r\n        house {\r\n          _id\r\n          houseCode\r\n        }\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const PROMOTIONS = gql`\r\n  query Promotions($where: PromotionWhereInput) {\r\n    promotions(where: $where) {\r\n      data {\r\n        _id\r\n        title\r\n        status\r\n        house {\r\n          _id\r\n          houseName\r\n        }\r\n        percent\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const TYPE_ROOM = gql`\r\n  query TypeRooms($where: TypeRoomWhereInput) {\r\n    typeRooms(where: $where) {\r\n      total\r\n      data {\r\n        _id\r\n        title_lao\r\n        title_eng\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { gql } from \"@apollo/client\";\nexport const QUERY_TYPE_ROOM = gql`\n  query TypeRooms(\n    $noLimit: Boolean\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: TypeRoomWhereInput\n  ) {\n    typeRooms(\n      noLimit: $noLimit\n      limit: $limit\n      skip: $skip\n      orderBy: $orderBy\n      where: $where\n    ) {\n      total\n      data {\n        _id\n        title_lao\n        title_eng\n      }\n    }\n  }\n`;\nexport const CUSTOMER = gql`\n  query Customers(\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: CustomerWhereInput\n    $noLimit: Boolean\n  ) {\n    customers(\n      limit: $limit\n      skip: $skip\n      orderBy: $orderBy\n      where: $where\n      noLimit: $noLimit\n    ) {\n      total\n      data {\n        _id\n        fullName\n        phoneNumber\n      }\n    }\n  }\n`;\n\nexport const PROVINCES = gql`\n  query Provinces(\n    $where: ProvinceWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    provinces(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      data {\n        _id\n        provinceName\n        provinceCode\n        province_map_lat\n        province_map_lng\n        addressInfo\n      }\n    }\n  }\n`;\n\nexport const DISTRICTS = gql`\n  query Data($where: DistrictWhereInput) {\n    districts(where: $where) {\n      data {\n        _id\n        title\n        province {\n          _id\n          provinceName\n        }\n      }\n    }\n  }\n`;\n\nexport const USER = gql`\n  query Users($where: UserWhereInput) {\n  users(where: $where) {\n    data {\n      _id\n      firstName\n      lastName\n    }\n  }\n}\n`;","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\n\nconst QUERY = gql`\n  query Provinces {\n    provinces {\n      data {\n        _id\n        provinceName\n      }\n    }\n  }\n`;\n\nexport default function SelectProvince({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [getData, setData] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data, loading }] = useLazyQuery(QUERY);\n\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {},\n      },\n    });\n  }, []);\n\n  useEffect(() => {\n    const results = data?.provinces?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((_data) => {\n        const object = {\n          ..._data,\n          value: _data?._id,\n          label: _data?.provinceName,\n        };\n        return object;\n      });\n      setData(_results);\n    } else {\n      setData([]);\n    }\n  }, [data]);\n\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = getData?.filter((_data) => _data?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [getData, value]);\n\n  return (\n    <div style={{ width: \"100%\", color:\"black\",fontSize:16 }}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"...\" : \"\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={getData}\n      />\n    </div>\n  );\n}\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\n\nconst QUERY = gql`\n  query Districts($where: DistrictWhereInput) {\n    districts(where: $where) {\n      data {\n        title\n        id_list\n        id_state {\n          id_state\n          provinceName\n        }\n      }\n    }\n  }\n`;\n\nexport default function SelectDistrict({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n  provinceId,\n}) {\n  const [getData, setData] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data, loading }] = useLazyQuery(QUERY);\n\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          // id_state: \"1\",\n        },\n      },\n    });\n  }, [provinceId]);\n\n  useEffect(() => {\n    const results = data?.districts?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((_data) => {\n        const object = {\n          ..._data,\n          value: _data?.id_list,\n          label: _data?.title,\n        };\n        return object;\n      });\n      setData(_results);\n    } else {\n      setData([]);\n    }\n  }, [data]);\n\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = getData?.filter((_data) => _data?.id_list === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [getData, value]);\n\n  return (\n    <div style={{ width: \"100%\", color: \"black\", fontSize: 16 }}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"...\" : \"\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={getData}\n      />\n    </div>\n  );\n}\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\nimport { useFormik } from \"formik\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport React, { useEffect, useState } from \"react\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  currency,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  toDayDash,\n  valiDate,\n} from \"../../../helper\";\nimport { ADD_CHECK_IN, QUERY_ROOMS, QUERY_RATE, PROMOTIONS } from \"./apollo\";\nimport {\n  FormControl,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  OutlinedInput,\n  Select,\n  TextField,\n} from \"@mui/material\";\nimport \"./utils/index.css\";\n\nimport RegisterCustomerOfHotel from \"./RegisterCustomerOfHoltel\";\nimport { TodayTwoTone } from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport SearchCustomer from \"../../../helper/components/SearchCustomer\";\nimport { Modal } from \"react-bootstrap\";\nimport { HOTEL } from \"../../../routes/app\";\n// import \"./utils/index.css\";\nexport default function CheckIn({\n  onSuccess,\n  params,\n  index,\n  getId,\n  OpenModalChange,\n  CloseModalChange,\n}) {\n  const { history, match, location } = useReactRouter();\n  let today = moment().format(\"YYYY-MM-DD HH:mm:ss\");\n  // let _time = moment().format(\"HH:mm:ss\");\n  const searchParams = new URLSearchParams(location?.search);\n  const [customerId, setCustomerId] = useState(\"\");\n  const userState = getStaffLogin();\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [bookingStatus, setBookingStatus] = useState(\"FULL\");\n  // query rate exchage\n  const [rateExchange, setRateExchange] = useState([]);\n  const [listRoom, setListRoom] = useState([]);\n  const [listPromotion, setListPromotion] = useState([]);\n  const [exChangeTotal, setExChangeTotal] = useState(0);\n  const [countTime, setCountTime] = useState(1);\n\n  // promotions\n  const getPromotion =\n    listPromotion?.percent / 100 ? listPromotion?.percent / 100 : 0;\n  // show price room\n  const [halfPrice, setHalfPrice] = useState(listRoom?.priceHalf);\n  const [fullPrice, setFullPrice] = useState(listRoom?.priceFull);\n  // get Percent\n  const feeInComeFull = (fullPrice * 2) / 100;\n  const feeIncomeHalf = (halfPrice * 2) / 100;\n  // show exChangeTotal price room\n  const [inputKIP, setInputKIP] = useState(0);\n  const [inputTHB, setInputTHB] = useState(0);\n  const [inputUSD, setInputUSD] = useState(0);\n  const _rateTHB = rateExchange?.laoTHB || 0;\n  const _rateUSD = rateExchange?.laoUSD || 0;\n  // final total\n  const [finalTotalKIP, setFinalTotalKIP] = useState(0);\n  // const [createCheckIn] = useMutation(ADD_CHECK_IN);\n\n  const [createCheckIn, { loading: creating }] = useMutation(ADD_CHECK_IN);\n\n  const [fetchPromotion, { data: setPromotion, loading: LoadingData }] =\n    useLazyQuery(PROMOTIONS, { fetchPolicy: \"network-only\" });\n\n  const [queryRateExchange, { data: rateExchangeData, error, loading }] =\n    useLazyQuery(QUERY_RATE, { fetchPolicy: \"network-only\" });\n  const [\n    queryRoom,\n    { data: roomData, error: roomError, loading: roomLoading },\n  ] = useLazyQuery(QUERY_ROOMS, { fetchPolicy: \"network-only\" });\n\n  useEffect(() => {\n    setHalfPrice(listRoom?.priceHalf * countTime * (1 - getPromotion));\n    setFullPrice(listRoom?.priceFull * countTime * (1 - getPromotion));\n    setInputTHB(inputTHB);\n    setInputUSD(inputUSD);\n    if (inputTHB) {\n      setInputKIP(inputTHB * _rateTHB);\n    }\n    if (inputUSD) {\n      setInputKIP(inputUSD * _rateUSD);\n    }\n    setFinalTotalKIP(inputKIP);\n    if (bookingStatus === \"FULL\") {\n      setExChangeTotal(finalTotalKIP - fullPrice);\n    } else {\n      setExChangeTotal(finalTotalKIP - halfPrice);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    listRoom,\n    rateExchange,\n    countTime,\n    inputKIP,\n    inputTHB,\n    inputUSD,\n    _rateTHB,\n    _rateUSD,\n    halfPrice,\n    fullPrice,\n    finalTotalKIP,\n    exChangeTotal,\n    bookingStatus,\n  ]);\n\n  //get IdHouses\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n  useEffect(() => {\n    if (!getId) {\n      return;\n    }\n    queryRateExchange({\n      variables: {\n        where: {\n          house: localHouse?._id,\n        },\n        orderBy: \"createdAt_DESC\",\n        limit: 1,\n      },\n    });\n    queryRoom({\n      variables: {\n        where: {\n          _id: getId,\n        },\n        limit: 1,\n      },\n    });\n  }, [getId]);\n\n  useEffect(() => {\n    if (rateExchangeData) {\n      setRateExchange(rateExchangeData.rateExchanges.data[0]);\n    }\n  }, [rateExchangeData]);\n  useEffect(() => {\n    if (roomData) {\n      setListRoom(roomData.rooms.data[0]);\n    }\n  }, [roomData]);\n\n  // promotions\n  useEffect(() => {\n    fetchPromotion({\n      variables: {\n        where: {\n          house: getLocalHouse()?._id,\n        },\n      },\n    });\n  }, []);\n  useEffect(() => {\n    if (setPromotion) {\n      setListPromotion(setPromotion.promotions.data[0]);\n    }\n  }, [setPromotion]);\n\n  const { handleChange, errors, values, handleSubmit, resetForm } = useFormik({\n    initialValues: {},\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      // if (!customerId?._id)errors.customer = \"\";\n      if (inputKIP == 0) {\n        errors.incomeKIP = \"\";\n      }\n      return errors;\n    },\n    onSubmit: async (values) => {\n      loadingScreen();\n      values.customer = String(customerId?._id);\n      values.paidStatus = 1;\n      values.status = \"CHECK_IN\";\n      values.checkInAt = today;\n      values.bookingType = String(bookingStatus);\n      values.inTime = parseInt(countTime);\n      values.incomeKIP = parseInt(inputKIP ? inputKIP : 0);\n      values.incomeTHB = parseInt(inputTHB ? inputTHB : 0);\n      values.incomeUSD = parseInt(inputUSD ? inputUSD : 0);\n      values.exChange = exChangeTotal;\n      if (bookingStatus === \"FULL\") {\n        values.fee = feeInComeFull;\n        values.fullPriceTotal = fullPrice;\n      } else {\n        values.fee = feeIncomeHalf;\n        values.halfPriceTotal = halfPrice;\n      }\n      try {\n        const { data: inputData } = await createCheckIn({\n          variables: {\n            data: {\n              ...values,\n              house: String(localHouse?._id),\n              houseCode: String(localHouse?.houseCode),\n              customer: String(customerId?._id ? customerId?._id : 0),\n              room: String(getId),\n            },\n          },\n        });\n        if (inputData) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"\");\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            history.push(`${HOTEL}/1`);\n          }, 100);\n          onSuccess((e) => {\n            CloseModalChange();\n          });\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"\");\n        }\n      } catch (error) {\n        Notiflix.Loading.remove();\n        console.log(error);\n      }\n    },\n  });\n  return (\n    <>\n      <Modal show={OpenModalChange} size=\"xl\">\n        <Modal.Header>\n          <h3>\n             {listRoom?.title_lao ? listRoom?.title_lao : \"...\"} /{\" \"}\n            {listRoom?.title_eng ? listRoom?.title_eng : \"...\"}\n          </h3>\n          {/* <RegisterCustomerOfHotel /> */}\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\" }}\n            onClick={() => CloseModalChange()}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        {/* <Modal.Body style={{ height: \"150%\" }}> */}\n        <div className=\"row bg-color\">\n          <div className=\" col-md-12\">\n            {/* <div className=\"form-row mt-3 col-11 ms-2  mb-2 me-2\">\n              <SearchCustomer\n                response={(obj) => {\n                  setCustomerId(obj);\n                }}\n                error={errors.customer}\n                roomID={getId}\n              />\n              <div className=\"text-danger fs-5\">{errors?.customer}</div>\n            </div> */}\n            <div className=\"card-body\">\n              {/* <div className=\"form-row mt-3\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#e3e0de\" }}\n                >\n                  <InputLabel\n                    className=\"inputLabel\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                       {valiDate()}\n                  </InputLabel>\n                  <OutlinedInput\n                    value={customerId?.fullName}\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        <i className=\"fa-solid fa-user text-secondary me-1\" />\n                      </InputAdornment>\n                    }\n                    label=\"  \"\n                    disabled={true}\n                    type=\"text\"\n                    error={errors.username}\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n              </div> */}\n              {/* <div className=\"form-row mt-3\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#e3e0de\" }}\n                >\n                  <InputLabel\n                    className=\"inputLabel\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                     {valiDate()}\n                  </InputLabel>\n                  <OutlinedInput\n                    value={customerId?.phoneNumber}\n                    disabled={true}\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        <i className=\"fa-solid fa-phone text-secondary me-1\" />\n                      </InputAdornment>\n                    }\n                    type=\"tel\"\n                    label=\"\"\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n              </div> */}\n              <div\n                className=\"btn-group btn-lg \"\n                style={{ marginLeft: -25, marginTop: 10 }}\n              >\n                <button\n                  type=\"button\"\n                  className={\n                    bookingStatus === \"HALF\"\n                      ? \"btn btn-lg btn-primary p-3\"\n                      : \"btn btn-outline-primary p-3\"\n                  }\n                  onClick={() => {\n                    setBookingStatus(\"HALF\");\n                  }}\n                >\n                  {bookingStatus === \"HALF\" ? (\n                    <>\n                      <i className=\"icon-check\" /> \n                    </>\n                  ) : (\n                    \"\"\n                  )}\n                </button>\n                <button\n                  type=\"button\"\n                  className={\n                    bookingStatus === \"FULL\"\n                      ? \"btn btn-lg btn-primary p-3\"\n                      : \"btn btn-outline-primary p-3\"\n                  }\n                  onClick={() => {\n                    setBookingStatus(\"FULL\");\n                  }}\n                >\n                  {bookingStatus === \"FULL\" ? (\n                    <>\n                      <i className=\"icon-check\" /> \n                    </>\n                  ) : (\n                    \"\"\n                  )}\n                </button>\n              </div>\n              {bookingStatus === \"FULL\" ? (\n                <div className=\"form-row mt-3\">\n                  <FormControl fullWidth>\n                    <InputLabel\n                      className=\"inputLabel text-black\"\n                      htmlFor=\"outlined-adornment-amount\"\n                    >\n                       {valiDate()}\n                    </InputLabel>\n                    <OutlinedInput\n                      type=\"number\"\n                      id=\"Number\"\n                      label=\"\"\n                      defaultValue={countTime}\n                      onWheel={(e) => e.target.blur()}\n                      onChange={(e) => {\n                        setCountTime(e.target.value);\n                      }}\n                      inputProps={{ maxLength: 10 }}\n                    />\n                  </FormControl>\n                </div>\n              ) : (\n                <div className=\"form-row mt-3\">\n                  <FormControl fullWidth>\n                    <InputLabel\n                      className=\"inputLabel text-black\"\n                      htmlFor=\"outlined-adornment-amount\"\n                    >\n                       {valiDate()}\n                    </InputLabel>\n                    <OutlinedInput\n                      type=\"number\"\n                      id=\"Number\"\n                      onWheel={(e) => e.target.blur()}\n                      label=\"\"\n                      defaultValue={countTime}\n                      onChange={(e) => {\n                        setCountTime(e.target.value);\n                      }}\n                      inputProps={{ maxLength: 10 }}\n                    />\n                  </FormControl>\n                </div>\n              )}\n              <div className=\"form-row mt-3\">\n                <FormControl fullWidth>\n                  <InputLabel\n                    className=\"inputLabel text-black\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    \n                  </InputLabel>\n                  <OutlinedInput\n                    type=\"text\"\n                    disabled={true}\n                    id=\"Number\"\n                    label=\"\"\n                    value={\n                      bookingStatus === \"FULL\"\n                        ? currency(listRoom?.priceFull * countTime) +\n                          \" - Pro: \" +\n                          currency(\n                            listRoom?.priceFull -\n                              listRoom?.priceFull *\n                                countTime *\n                                (1 - getPromotion)\n                          )\n                        : currency(listRoom?.priceHalf * countTime) +\n                          \" - Pro: \" +\n                          currency(\n                            listRoom?.priceHalf -\n                              listRoom?.priceHalf *\n                                countTime *\n                                (1 - getPromotion)\n                          )\n                    }\n                  />\n                </FormControl>\n              </div>{\" \"}\n              <div className=\"form-row mt-3\">\n                <FormControl fullWidth>\n                  <InputLabel\n                    className=\"inputLabel text-black\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    ()\n                  </InputLabel>\n                  <OutlinedInput\n                    startAdornment={\n                      <h2 className=\"fw-bold text-primary\">LAK</h2>\n                    }\n                    type=\"number\"\n                    id=\"Number\"\n                    onChange={(e) => {\n                      setInputKIP(e.target.value);\n                    }}\n                    onWheel={(e) => e.target.blur()}\n                    defaultValue={inputKIP}\n                    label=\"()\"\n                    error={errors.incomeKIP}\n                  />\n                  <div className=\"text-danger fs-5\">{errors?.incomeKIP}</div>\n                </FormControl>\n              </div>\n              <div className=\"form-row mt-3\">\n                <FormControl fullWidth>\n                  <InputLabel\n                    className=\"inputLabel text-black\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    ()\n                  </InputLabel>\n                  <OutlinedInput\n                    startAdornment={\n                      <h2 className=\"fw-bold text-primary\">THB</h2>\n                    }\n                    type=\"number\"\n                    id=\"Number\"\n                    onChange={(e) => {\n                      setInputTHB(e.target.value);\n                    }}\n                    onWheel={(e) => e.target.blur()}\n                    defaultValue={inputTHB}\n                    label=\"()\"\n                  />\n                </FormControl>\n              </div>\n              <div className=\"form-row mt-3\">\n                <FormControl fullWidth>\n                  <InputLabel\n                    className=\"inputLabel text-black\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    ()\n                  </InputLabel>\n                  <OutlinedInput\n                    startAdornment={\n                      <h2 className=\"fw-bold text-primary\">USD</h2>\n                    }\n                    type=\"number\"\n                    id=\"Number\"\n                    onWheel={(e) => e.target.blur()}\n                    onChange={(e) => {\n                      setInputUSD(e.target.value);\n                    }}\n                    defaultValue={inputUSD}\n                    label=\"()\"\n                  />\n                </FormControl>\n              </div>\n              <div className=\"form-row mt-3\">\n                <FormControl fullWidth>\n                  <InputLabel\n                    className=\"inputLabel text-black\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    \n                  </InputLabel>\n                  <OutlinedInput\n                    startAdornment={\n                      <h2 className=\"fw-bold text-success\">LAK</h2>\n                    }\n                    type=\"text\"\n                    id=\"Number\"\n                    className=\"fs-2 text-center\"\n                    disabled={true}\n                    value={currency(exChangeTotal)}\n                    label=\"\"\n                  />\n                </FormControl>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-success btn-lg p-3 mt-2 w-100\"\n            // onClick={() => handleSubmit()}\n            onClick={() => {\n              if (!creating) {\n                handleSubmit();\n              }\n            }}\n            onDoubleClick={() => {\n              return false;\n            }}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            \n          </button>\n        </Modal.Footer>\n        {/* </Modal.Body> */}\n      </Modal>\n    </>\n  );\n}\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getLocalHouse } from \"..\";\n\nconst SELECT_ROOM = gql`\n  query TypeRooms($where: TypeRoomWhereInput) {\n    typeRooms(where: $where) {\n      total\n      data {\n        _id\n        title_lao\n        title_eng\n      }\n    }\n  }\n`;\nexport default function SearchTypeRoom({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(\n    SELECT_ROOM,\n    { fetchPolicy: \"network-only\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          // house:localHouse,\n        },\n      },\n      orderBy: \"createdAt_DESC\",\n    });\n  }, [localHouse]);\n\n  useEffect(() => {\n    const results = data?.typeRooms?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.title_lao + \" / \" + item?.title_eng,\n        };\n        return object;\n      });\n      setItems([{ value: \"\", label: \"\" }, ..._results]);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        fontSize: 16,\n        color: \"black\",\n      }}\n    >\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"...\" : \"\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        errors\n        options={items}\n      />\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/logo-bg.c4e532cf.png\";","import React from \"react\";\nimport { Image } from \"react-bootstrap\";\nimport bgImage from \"../../img/logo-bg.png\";\nexport default function NoData({ loading }) {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"calc(80vh - 40px)\",\n      }}\n    >\n      {loading ? (\n        // <Image\n        //   src={require(\"../../img/empty.gif\").default}\n        //   style={{ width: \"50%\" }}\n        // />\n        <>\n        </>\n      ) : (\n        <>\n        <div\n          style={{\n            backgroundImage: `url(${bgImage})`,\n            backgroundSize: \"cover\",\n            minWidth: \"100%\",\n            minHeight: \"30%\",\n            backgroundSize: \"cover\",\n            backgroundPosition: \"center\",\n            opacity: 0.04,\n            position: \"absolute\",\n          }}\n        >\n        </div>\n          <h3 className=\"text-danger\"> !</h3>\n          </>\n      )}\n    </div>\n  );\n}\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getLocalHouse } from \"..\";\n\nconst SELECT_ROOM = gql`\n  query Rooms($where: RoomWhereInput) {\n    rooms(where: $where) {\n      data {\n        _id\n        title_lao\n        title_eng\n      }\n    }\n  }\n`;\nexport default function SearchRoomFee({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(\n    SELECT_ROOM,\n    { fetchPolicy: \"network-only\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          // house:localHouse,\n          status: \"FEE\",\n        },\n      },\n      orderBy: \"createdAt_DESC\",\n    });\n  }, [localHouse]);\n\n  useEffect(() => {\n    const results = data?.rooms?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.title_lao + \" / \" + item?.title_eng,\n        };\n        return object;\n      });\n      setItems([{ value: \"\", label: \"\" }, ..._results]);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n  return (\n    <div style={{ width: \"100%\", fontSize: 16, color: \"black\" }}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"...\" : \"\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","import React, { useRef, useState } from \"react\";\nimport { Pagination as Page } from \"react-bootstrap\";\n\nexport default function Pagination({\n  style,\n  onPageChange,\n  className,\n  pageTotal = [1],\n  limit = 6,\n  currentPage,\n}) {\n\n  const handleClick = (page) => {\n    if (onPageChange) onPageChange(page);\n  };\n  return (\n    <Page className={`justify-content-center  ${className}`} style={style}>\n      <Page.Prev\n        onClick={() => {\n          if (currentPage <= 1) {\n            handleClick(1);\n          } else {\n            handleClick(currentPage - 1);\n          }\n        }}\n      />\n      {pageTotal?.map((page, index) => (\n        <>\n          {page <= limit && (\n            <Page.Item\n             style={{backgroundColor:\"green\"}}\n              key={index}\n              active={currentPage === page ? true : false}\n              onClick={() => handleClick(page)}\n            >\n              {page}\n            </Page.Item>\n          )}\n        </>\n      ))}\n      {pageTotal?.length > limit && (\n        <select\n          className=\"form-select py-0\"\n          style={{ width: 80, color: \"#f54f02\" }}\n          onChange={(e) => {\n            let value = e.target.value;\n            if (value) {\n              handleClick(parseInt(value));\n            }\n          }}\n        >\n          <option value=\"\"></option>\n          {pageTotal?.map((page, index) => (\n            <>\n              {page > limit && (\n                <option\n                  key={index}\n                  value={page}\n                  selected={page === currentPage ? true : false}\n                >\n                  {page}\n                </option>\n              )}\n            </>\n          ))}\n        </select>\n      )}\n      <Page.Next\n        onClick={() => {\n          if (currentPage >= pageTotal.length) {\n            handleClick(currentPage);\n          } else {\n            handleClick(currentPage + 1);\n          }\n        }}\n      />\n    </Page>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport { OTHER } from \"../../../routes/app\";\nimport BottomNav from \"../../../layouts/BottomNav\";\nimport { QUERY_ROOM } from \"./apollo\";\nimport {\n  currency,\n  getLocalHouse,\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  loadingData,\n  setParams,\n  socketServer,\n} from \"../../../helper\";\nimport TypeRoom from \"../../../helper/components/typeRoom\";\nimport CheckIn from \"./CheckIn\";\nimport SearchTypeRoom from \"../../../helper/components/SearchTypeRoom\";\nimport NoData from \"../../../helper/components/NoData\";\nimport SearchRoomFee from \"../../../helper/components/SearchRoomFee\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nimport SelectLocalHouse from \"../../../helper/components/SelectLocalHouse\";\nexport default function Hotel() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [loadData, setLoadData] = useState(false);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [typeDataRoom, setTypeDataRoom] = useState({});\n  const [searchValue, setSearchValue] = useState();\n  const [clickButton, setButton] = useState(false);\n  const [userData, setUserData] = useState({});\n\n  const [house, setHouse] = useState(\"\");\n  //!\n  const [getData, setModal] = useState();\n  const [openModal, CloseModal] = useState(false);\n  const CloseModalChange = () => CloseModal(false);\n  const [fetchDataRoom, { data: setDataRoom, loading: loadingDataRoom }] =\n    useLazyQuery(QUERY_ROOM, { fetchPolicy: \"cache-and-network\" });\n  // useEffect(() => {\n  //   setLocalHouse(getLocalHouse()?._id);\n  // }, []);\n\n  // data HouseLoca\n  useEffect(() => {\n    const _local = getStaffLogin();\n    setUserData(_local?.data || {});\n    setLocalHouse(getLocalHouse());\n    //sidebar min\n    const localSideBarMini = localStorage.getItem(\"SIDEBAR_MINI\");\n    if (localSideBarMini === \"true\") {\n      document.body.classList.add(\"sidebar-collapse\");\n    }\n  }, []);\n  // end\n\n  useEffect(() => {\n    fetchDataRoom({\n      variables: {\n        where: {\n          house: localHouse?._id,\n          typeRoom: typeDataRoom?._id ? typeDataRoom?._id : undefined,\n          title_lao: searchValue ? searchValue : undefined,\n          status: \"FEE\",\n        },\n        skip: numberRow * (numberPage - 1),\n        limit: numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [localHouse, loadData, typeDataRoom, searchValue, numberRow, numberPage]);\n\n  //\n  const _onClick = (e) => {\n    setModal(e);\n    CloseModal(true);\n  };\n\n  // pagination\n  useEffect(() => {\n    const page = query.get(\"page\");\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(setDataRoom?.rooms?.total / numberRow); i++) {\n    countPage.push(i);\n  }\n\n  socketServer.on(\"approveBooking\", (res) => {\n    if (res === localHouse?._id) {\n      //   newSound.play();\n      setLoadData(!loadData);\n    }\n  });\n  socketServer.on(\"approveCheckOut\", (res) => {\n    if (res === localHouse) {\n      //   newSound.play();\n      setLoadData(!loadData);\n    }\n  });\n\n  return (\n    <>\n      <div className=\"appHeader text-light border-0 mr-0\">\n        <div style={{ flex: 1 }} className=\"text-left\">\n          <button\n            className=\"btn text-white\"\n            onClick={() => history.push(OTHER)}\n          >\n            <i className=\"fa fa-chevron-left fs-4\" />\n          </button>\n        </div>\n        {clickButton === true ? (\n          <>\n            <SelectLocalHouse\n              style={{ width: \"100%\" }}\n              value={localHouse?._id}\n              onChange={(obj) => {\n                if (obj?._id) {\n                  setLocalHouse(obj);\n                  localStorage.setItem(\"HOUSE\", JSON.stringify(obj));\n                  window.location.reload();\n                }\n              }}\n              ownerId={userData?._id}\n            />\n          </>\n        ) : (\n          <b className=\"text-white\"></b>\n        )}\n        <div\n          className=\"text-white pageTitle text-right text-nowrap pr-0\"\n          style={{ flex: 1 }}\n        >\n          <button\n            className=\"btn text-white\"\n            onClick={(e) => {\n              setButton(!clickButton);\n            }}\n          >\n            <i className=\"fa-solid fa-magnifying-glass fa-2 ms-2\" />\n          </button>\n        </div>\n      </div>\n\n      <div className=\" body-content-lg ms-1 me-1 \" style={{ marginTop: 50 }}>\n        <div className=\"option-section\">\n          <br />\n          <div className=\"row col-md-12  ms-3 mt-4\">\n            <div\n              className=\"col-6\"\n              style={{\n                position: \"fixed\",\n                right: 0.1,\n                zIndex: 100,\n                top: 57,\n              }}\n            >\n              <div className=\"option-card\">\n                <input\n                  type=\"search\"\n                  className=\"form-control form-control-lg text-black\"\n                  placeholder=\"\"\n                  value={searchValue}\n                  style={{ border: \" 1px solid #cccfc8\" }}\n                  onChange={(e) => setSearchValue(e.target.value)}\n                />\n              </div>\n            </div>\n            <div\n              className=\"col-6 \"\n              style={{\n                position: \"fixed\",\n                left: 0.1,\n                zIndex: 100,\n                top: 57,\n              }}\n            >\n              <div className=\"option-card\">\n                <SearchTypeRoom\n                  style={{ height: \"100%\", backgroundColor: \"red\" }}\n                  value={typeDataRoom?._id}\n                  onChange={(obj) => {\n                    setTypeDataRoom(obj);\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"option-section\">\n          <div className=\"row gx-2\">\n            {setDataRoom?.rooms?.total > 0 ? (\n              <>\n                {setDataRoom?.rooms?.data?.map((data, index) => (\n                  <>\n                    <div className=\"col-6 mt-1\">\n                      <div\n                        className=\"card border\"\n                        style={{ backgroundColor: \"#f0edeb\" }}\n                        onClick={() => _onClick(data?._id)}\n                        key={index}\n                      >\n                        <div className=\"border-bottom text-black text-center\">\n                          {data?.title_lao} / {data?.title_eng}\n                        </div>\n                        <div\n                          className=\"card-body text-black\"\n                          style={{ marginTop: -10 }}\n                        >\n                          <b style={{ color: \"#949492\" }}>\n                            {data?.typeRoom?.title_lao}\n                          </b>\n                          <br />\n                          <b>\n                            {currency(data?.priceFull)} /{\" \"}\n                            {currency(data?.priceHalf)}\n                          </b>\n                        </div>\n                      </div>\n                    </div>\n                  </>\n                ))}\n              </>\n            ) : (\n              <NoData loading={loadingDataRoom} />\n            )}\n            {setDataRoom?.rooms?.total > 100 && (\n              <Pagination\n                className=\"mt-2\"\n                pageTotal={countPage}\n                currentPage={numberPage}\n                onPageChange={(page) => {\n                  history.push({\n                    search: setParams(`page`, page),\n                  });\n                }}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n      <CheckIn\n        getId={getData}\n        OpenModalChange={openModal}\n        CloseModalChange={CloseModalChange}\n        onSuccess={(value) => {\n          CloseModalChange();\n          setLoadData(!loadData);\n        }}\n      />\n    </>\n  );\n}\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getLocalHouse } from \"..\";\n\nconst SELECT_ROOM = gql`\n  query Rooms($where: RoomWhereInput) {\n    rooms(where: $where) {\n      data {\n        _id\n        title_lao\n        title_eng\n      }\n    }\n  }\n`;\nexport default function SearchRoom({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(\n    SELECT_ROOM,\n    { fetchPolicy: \"network-only\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          house:localHouse,\n          status: \"FULL\",\n        },\n      },\n      orderBy: \"createdAt_DESC\",\n    });\n  }, [localHouse]);\n\n  useEffect(() => {\n    const results = data?.rooms?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.title_lao + \" / \" + item?.title_eng,\n        };\n        return object;\n      });\n      setItems([{ value: \"\", label: \"\" }, ..._results]);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n  return (\n    <div style={{ width: \"100%\", fontSize: 16, color: \"black\",heigh:\"100%\" }}>\n      <Select\n        styles={style}\n        className={className}\n        value={selectedOption}\n        placeholder={loading ? \"...\" : \"\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","import { Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  endOfMonth,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  messageConfirm,\n  messageSuccess,\n  setParams,\n  startOfMonth,\n} from \"../../helper\";\nimport { OTHER } from \"../../routes/app\";\nimport NoData from \"../../helper/components/NoData\";\nimport { QUERY_BOOKING, UPDATE_BOOKING_STATUS } from \"./hotel/apollo\";\nimport SearchRoom from \"../../helper/components/SearchRoom\";\nimport { TextField } from \"@mui/material\";\nimport Pagination from \"../../helper/controllers/Pagination\";\nexport default function PeopleCheckout() {\n  const { match, history, location } = useReactRouter();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const query = new URLSearchParams(location?.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [reloadData, setReloadData] = useState(false);\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [listRoom, setListRoom] = useState();\n\n  const [updateBookingStatus] = useMutation(UPDATE_BOOKING_STATUS);\n  // call Data\n  const [fetchDataRoom, { data: setData, loading: loading }] = useLazyQuery(\n    QUERY_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(localHouse),\n    };\n    if (userData?.role === \"SUPER_ADMIN\" || userData?.role === \"IT\") {\n      delete whereData.house;\n    }\n    fetchDataRoom({\n      variables: {\n        where: {\n          ...whereData,\n          room: listRoom?._id ? listRoom?._id : undefined,\n          status: \"CHECK_IN\",\n          checkInAt_gte: createdAt_gte(startDate),\n          checkInAt_lte: createdAt_lt(endDate),\n        },\n        skip: listRoom ? 0 : numberRow * (numberPage - 1),\n        limit: listRoom ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [localHouse, listRoom, reloadData, startDate, endDate]);\n\n  // pagination\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(setData?.bookings?.total / numberRow); i++) {\n    countPage.push(i);\n  }\n\n  // update status\n  const updateStatus = async (_id, roomId) => {\n    messageConfirm(\"  ?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"CHECK_OUT\",\n              room: roomId,\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n\n  return (\n    <div style={{ marginTop: -80 }}>\n      <div id=\"appCapsule\">\n        <div className=\"justify-content-md-center\">\n          <div className=\"appHeader text-light border-0\">\n            <div style={{ flex: 1 }} className=\"text-left\">\n              <button\n                className=\"btn text-white\"\n                onClick={() => history.push(OTHER)}\n              >\n                <i className=\"fa fa-chevron-left fs-4\" />\n              </button>\n            </div>\n            \n            <div\n              className=\"text-white pageTitle text-right text-nowrap pr-0\"\n              style={{ flex: 1 }}\n            >\n              <button\n                className=\"btn text-white mr-0\"\n                onClick={() => setReloadData(!reloadData)}\n              >\n                {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\n              </button>\n            </div>\n          </div>\n          <br />\n          <br />\n          <div className=\"option-section\">\n            <br />\n            <div className=\"row col-md-12  mt-1\">\n              <div className=\"col-6\">\n                <div className=\"option-card\">\n                  <input\n                    type=\"date\"\n                    className=\" form-control form-control-lg\"\n                    style={{ marginLeft: 6 }}\n                    value={formatDateDash(startDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`startDate`, e.target.value),\n                      });\n                    }}\n                  />\n                </div>\n              </div>\n              <div\n                className=\"col-6\"\n                style={{\n                  right: -10,\n                }}\n              >\n                <div className=\"option-card\">\n                  <input\n                    type=\"date\"\n                    className=\" form-control form-control-lg\"\n                    value={formatDateDash(endDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`endDate`, e.target.value),\n                      });\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"section  mb-2 mt-1\">\n            <div className=\"transactions\">\n              <div className=\"row\">\n                <div className=\"col-md-12 w-100\">\n                  <SearchRoom\n                    style={{ with: \"100%\", heigh: \"200px\" }}\n                    value={listRoom?._id}\n                    onChange={(obj) => {\n                      setListRoom(obj);\n                    }}\n                  />\n                </div>\n              </div>\n              <div className=\"text-center\">\n                {loading ? loadingData(25) : \"\"}\n              </div>\n              {setData?.bookings?.total > 0 ? (\n                <div className=\"listView mt-1\">\n                  {setData?.bookings?.data?.map((data, index) => (\n                    <>\n                      <a\n                        href=\"javascript:void(0)\"\n                        className=\"item pr-0 \"\n                        key={index}\n                        style={{ borderTop: \"1px solid #ed6b0e\" }}\n                      >\n                        <div className=\"detail col-md-10\">\n                          <div>\n                            <strong>: {data?.room?.title_lao}</strong>\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.room?.priceFull\n                                ? currency(data?.room?.priceFull)\n                                : 0}{\" \"}\n                              /\n                              {data?.room?.priceHalf\n                                ? currency(data?.room?.priceHalf)\n                                : 0}{\" \"}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.bookingType === \"FULL\" ? (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  \n                                </>\n                              ) : (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  \n                                </>\n                              )}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.fullPriceTotal > 0 ? (\n                                <>\n                                  {data?.fullPriceTotal\n                                    ? currency(data?.fullPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              ) : (\n                                <>\n                                  {data?.halfPriceTotal\n                                    ? currency(data?.halfPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              )}\n                            </b>\n                          </div>\n                        </div>\n                        <div className=\"\">\n                          <button\n                            className=\"btn btn-primary btn-sm btn-block\"\n                            onClick={(e) => {\n                              updateStatus(data?._id, data?.room?._id);\n                            }}\n                            onDoubleClick={() => {\n                              return false;\n                            }}\n                            style={{ marginRight: 50 }}\n                          >\n                            <i className=\"icon-check-circle mr-1\" /> \n                          </button>\n                        </div>\n                      </a>\n                    </>\n                  ))}\n                </div>\n              ) : (\n                <NoData loading={loading} />\n              )}\n              {setData?.bookings?.total > 100 && (\n                <Pagination\n                  className=\"mt-2\"\n                  pageTotal={countPage}\n                  currentPage={numberPage}\n                  onPageChange={(page) => {\n                    history.push({\n                      search: setParams(`page`, page),\n                    });\n                  }}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { gql } from \"@apollo/client\";\r\nexport const QUERY_BOOKING = gql`\r\n query Data(\r\n  $limit: Int\r\n  $skip: Int\r\n  $orderBy: OrderByInput\r\n  $where: BookingWhereInput\r\n) {\r\n  bookings(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n    total\r\n    data {\r\n      _id\r\n      houseCode\r\n      status\r\n      bookDate\r\n      bookDay\r\n      bookTime\r\n      inTime\r\n      checkInAt\r\n      checkOutAt\r\n      fee\r\n      feeBooking\r\n      paidStatus\r\n      bookingType\r\n      updatedAt\r\n      halfPriceTotal\r\n      fullPriceTotal\r\n      isDeleted\r\n      bookCode\r\n      images\r\n      incomeKIP\r\n      incomeTHB\r\n      incomeUSD\r\n      exChange\r\n      consolidateID\r\n      customer {\r\n        _id\r\n        gender\r\n        age\r\n        phoneNumber\r\n        fullName\r\n      }\r\n      acceptBy {\r\n        firstName\r\n        lastName\r\n      }\r\n      updatedBy {\r\n        firstName\r\n        lastName\r\n      }\r\n      room {\r\n        title_lao\r\n        title_eng\r\n        priceHalf\r\n        priceFull\r\n        _id\r\n      }\r\n      house {\r\n        _id\r\n        houseName\r\n        contactPhone\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n`;\r\n\r\nexport const UPDATE_CHECK_IN = gql`\r\nmutation UpdateRoom($data: RoomInput!, $where: RoomWhereInputOne!) {\r\n  updateRoom(data: $data, where: $where) {\r\n    _id\r\n  }\r\n}\r\n`;\r\n\r\nexport const UPDATE_BOOKING_STATUS = gql`\r\nmutation UpdateBooking($data: BookingInput!, $where: BookingWhereInputOne!) {\r\n  updateBooking(data: $data, where: $where) {\r\n    _id\r\n  }\r\n}\r\n`;\r\n\r\nexport const HOUSE = gql`\r\nquery Houses($where: HouseWhereInput, $limit: Int) {\r\n  houses(where: $where, limit: $limit) {\r\n    data {\r\n      type {\r\n        title_lao\r\n        title_eng\r\n      }\r\n      _id\r\n    }\r\n  }\r\n}\r\n`;","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateTime,\n  getLocalHouse,\n  ITEM_PER_PAGE,\n  loadingData,\n  paiStatus,\n  setParams,\n  socketServer,\n} from \"../../../helper\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  HOUSE,\n  UPDATE_BOOKING_STATUS,\n} from \"./apollo\";\nexport default function TypeHouse({ getId }) {\n  const { history, location, match } = useReactRouter();\n  const numberPage = match?.params?.page;\n  const [listData, setListData] = useState()\n  const query = new URLSearchParams(location.search);\n  const [queryHouse, { data: setData, loading: loadingId }] =\n    useLazyQuery(HOUSE, { fetchPolicy: \"cache-and-network\" });\n  // detail\n  useEffect(() => {\n    queryHouse({\n      variables: {\n        where: {\n          _id: getId,\n        },\n        orderBy: \"createdAt_DESC\",\n        limit: 1,\n      },\n    });\n  }, [getId]);\n\n  const getData = setData?.houses?.data[0];\n\n  return (\n    <>\n        <td className=\"text-end text-black\">\n          {getData?.type?.title_lao ? getData?.type?.title_lao : \"-\"}\n        </td>\n    </>\n  );\n}","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../helper\";\nimport { QUERY_BOOKING } from \"./apollo\";\nimport TypeHouse from \"./TypeHouse\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        animation={true}\n        show={show}\n        className=\"modal action-sheet\"\n        tabindex=\"-1\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  mr-4\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\"></p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-black me-1 border-top\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-primary\" />\n          \n        </button>\n      </Modal>\n    </>\n  );\n}\n","import { Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  endOfMonth,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  messageConfirm,\n  messageSuccess,\n  setParams,\n  socketServer,\n  startOfMonth,\n  _month,\n} from \"../../../helper\";\nimport BottomNav from \"../../../layouts/BottomNav\";\nimport { OTHER } from \"../../../routes/app\";\nimport NoData from \"../../../helper/components/NoData\";\nimport { QUERY_BOOKING, UPDATE_BOOKING_STATUS } from \"./apollo\";\nimport DetailRoom from \"./DetailRoom\";\nimport {\n  FormControl,\n  InputAdornment,\n  InputLabel,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nexport default function Booking() {\n  const { match, history, location } = useReactRouter();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const query = new URLSearchParams(location?.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [reloadData, setReloadData] = useState(false);\n  //state month adn year\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [detailRoom, setDetailRoom] = useState();\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const [updateBookingStatus] = useMutation(UPDATE_BOOKING_STATUS);\n  // call Data\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\n    QUERY_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(localHouse),\n    };\n    if (userData?.role === \"SUPER_ADMIN\" || userData?.role === \"IT\") {\n      delete whereData.house;\n    }\n    queryBooking({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"BOOKING\",\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n          // _id: parseInt(searchValue ? searchValue : undefined),\n        },\n        skip: numberRow * (numberPage - 1),\n        limit: numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberPage,\n    numberRow,\n    searchValue,\n    reloadData,\n    localHouse,\n    startDate,\n    endDate,\n  ]);\n  socketServer.on(\"approveBooking\", (res) => {\n    if (res === localHouse) {\n      // newSound.play();\n      setReloadData(!reloadData);\n    }\n  });\n\n  // pagination\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(setData?.bookings?.total / numberRow); i++) {\n    countPage.push(i);\n  }\n\n  // update status\n  const updateStatus = async (_id, roomId, houseID) => {\n    messageConfirm(\"  ?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"CHECK_IN\",\n              room: roomId,\n              house: houseID,\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n  // cancel\n  const _cancel = async (_id, roomId, houseID) => {\n    // return\n    messageConfirm(\"  ?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"CANCEL\",\n              room: roomId,\n              house: houseID,\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n\n  return (\n    <div style={{ marginTop: -80 }}>\n      <div id=\"appCapsule\">\n        <div className=\"justify-content-md-center\">\n          <div className=\"appHeader text-light border-0\">\n            <div style={{ flex: 1 }} className=\"text-left\">\n              <button\n                className=\"btn text-white\"\n                onClick={() => history.push(OTHER)}\n              >\n                <i className=\"fa fa-chevron-left fs-4\" />\n              </button>\n            </div>\n            \n            <div\n              className=\"text-white pageTitle text-right text-nowrap pr-0\"\n              style={{ flex: 1 }}\n            >\n              <button\n                className=\"btn text-white mr-0\"\n                onClick={() => setReloadData(!reloadData)}\n              >\n                {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\n              </button>\n            </div>\n          </div>\n          <br />\n          <br />\n          <div className=\"option-section\">\n            <br />\n            <div className=\"row col-md-12  mt-1\">\n              <div className=\"col-6\">\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={formatDateDash(startDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`startDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n              <div\n                className=\"col-6\"\n                style={{\n                  right: -15,\n                }}\n              >\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={formatDateDash(endDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`endDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"section  mb-2 mt-1\">\n            <div className=\"transactions\">\n              <div className=\"row\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        <i className=\"fa-solid fa-magnifying-glass\" />\n                      </InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"number\"\n                    placeholder=\"\"\n                    onChange={(e) => setSearchValue(e.target.value)}\n                  />\n                </FormControl>\n              </div>\n              <div className=\"text-center\">\n                {loading ? loadingData(25) : \"\"}\n              </div>\n              {setData?.bookings?.total > 0 ? (\n                <div className=\"listView mt-2\">\n                  {setData?.bookings?.data?.map((data, index) => (\n                    <>\n                      <b\n                        className=\"float-end\"\n                        style={{ marginTop: -8, marginRight: -10 }}\n                      >\n                        <i\n                          className=\"icon-x-circle text-danger\"\n                          onClick={(e) => {\n                            _cancel(\n                              data?._id,\n                              data?.room?._id,\n                              data?.house?._id\n                            );\n                          }}\n                          style={{ fontSize: 20 }}\n                        ></i>\n                      </b>\n                      <a\n                        href=\"javascript:void(0)\"\n                        className=\"item pr-0 \"\n                        key={index}\n                        style={{ borderTop: \"1px solid #ed6b0e\" }}\n                      >\n                        <div\n                          className=\"detail col-md-10\"\n                          onClick={() => setDetailRoom(data?._id)}\n                        >\n                          <div>\n                            <strong>: BH-{data?._id}</strong>\n                            <strong>: {data?.room?.title_lao}</strong>\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.room?.priceFull\n                                ? currency(data?.room?.priceFull)\n                                : 0}{\" \"}\n                              /\n                              {data?.room?.priceHalf\n                                ? currency(data?.room?.priceHalf)\n                                : 0}{\" \"}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.bookingType === \"FULL\" ? (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  \n                                </>\n                              ) : (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  \n                                </>\n                              )}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.fullPriceTotal > 0 ? (\n                                <>\n                                  {data?.fullPriceTotal\n                                    ? currency(data?.fullPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              ) : (\n                                <>\n                                  {data?.halfPriceTotal\n                                    ? currency(data?.halfPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              )}\n                            </b>\n                          </div>\n                        </div>\n                        <div className=\"right\">\n                          <button\n                            className=\"btn btn-primary btn-sm action-button\"\n                            onClick={(e) => {\n                              updateStatus(\n                                data?._id,\n                                data?.room?._id,\n                                data?.house?._id\n                              );\n                            }}\n                          >\n                            <i className=\"icon-check-circle me-1 \" /> \n                          </button>\n                        </div>\n                      </a>\n                    </>\n                  ))}\n                </div>\n              ) : (\n                <NoData loading={loading} />\n              )}\n              {setData?.bookings?.total > 100 && (\n                <Pagination\n                  className=\"mt-2\"\n                  pageTotal={countPage}\n                  currentPage={numberPage}\n                  onPageChange={(page) => {\n                    history.push({\n                      search: setParams(`page`, page),\n                    });\n                  }}\n                />\n              )}\n            </div>\n          </div>\n          <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { gql } from \"@apollo/client\";\r\nexport const QUERY_BOOKING = gql`\r\n query Data(\r\n  $limit: Int\r\n  $skip: Int\r\n  $orderBy: OrderByInput\r\n  $where: BookingWhereInput\r\n) {\r\n  bookings(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n    total\r\n    data {\r\n      _id\r\n      houseCode\r\n      status\r\n      bookDate\r\n      bookDay\r\n      bookTime\r\n      inTime\r\n      checkInAt\r\n      checkOutAt\r\n      fee\r\n      feeBooking\r\n      paidStatus\r\n      bookingType\r\n      updatedAt\r\n      halfPriceTotal\r\n      fullPriceTotal\r\n      isDeleted\r\n      bookCode\r\n      images\r\n      incomeKIP\r\n      incomeTHB\r\n      incomeUSD\r\n      exChange\r\n      consolidateID\r\n      customer {\r\n        _id\r\n        gender\r\n        age\r\n        phoneNumber\r\n        fullName\r\n      }\r\n      acceptBy {\r\n        firstName\r\n        lastName\r\n      }\r\n      updatedBy {\r\n        firstName\r\n        lastName\r\n      }\r\n      room {\r\n        title_lao\r\n        title_eng\r\n        priceHalf\r\n        priceFull\r\n        _id\r\n      }\r\n      house {\r\n        _id\r\n        houseName\r\n        contactPhone\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n`;\r\n\r\nexport const UPDATE_CHECK_IN = gql`\r\nmutation UpdateRoom($data: RoomInput!, $where: RoomWhereInputOne!) {\r\n  updateRoom(data: $data, where: $where) {\r\n    _id\r\n  }\r\n}\r\n`;\r\n\r\nexport const UPDATE_BOOKING_STATUS = gql`\r\nmutation UpdateBooking($data: BookingInput!, $where: BookingWhereInputOne!) {\r\n  updateBooking(data: $data, where: $where) {\r\n    _id\r\n  }\r\n}\r\n`;\r\n\r\nexport const HOUSE = gql`\r\nquery Houses($where: HouseWhereInput, $limit: Int) {\r\n  houses(where: $where, limit: $limit) {\r\n    data {\r\n      type {\r\n        title_lao\r\n        title_eng\r\n      }\r\n      _id\r\n    }\r\n  }\r\n}\r\n`;","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateTime,\n  getLocalHouse,\n  ITEM_PER_PAGE,\n  loadingData,\n  paiStatus,\n  setParams,\n  socketServer,\n} from \"../../../helper\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  HOUSE,\n  UPDATE_BOOKING_STATUS,\n} from \"./apollo\";\nexport default function TypeHouse({ getId }) {\n  const { history, location, match } = useReactRouter();\n  const numberPage = match?.params?.page;\n  const [listData, setListData] = useState()\n  const query = new URLSearchParams(location.search);\n  const [queryHouse, { data: setData, loading: loadingId }] =\n    useLazyQuery(HOUSE, { fetchPolicy: \"cache-and-network\" });\n  // detail\n  useEffect(() => {\n    queryHouse({\n      variables: {\n        where: {\n          _id: getId,\n        },\n        orderBy: \"createdAt_DESC\",\n        limit: 1,\n      },\n    });\n  }, [getId]);\n\n  const getData = setData?.houses?.data[0];\n\n  return (\n    <>\n        <td className=\"text-end text-black\">\n          {getData?.type?.title_lao ? getData?.type?.title_lao : \"-\"}\n        </td>\n    </>\n  );\n}","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../helper\";\nimport { QUERY_BOOKING } from \"./apollo\";\nimport TypeHouse from \"./TypeHouse\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        tabindex=\"-1\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  mr-4\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">{data?.room?.title_lao}</span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                      <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">{data?.house?.houseName}</span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">{data?.bookTime}</span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\"></p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-black me-1 border-top\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-primary\" />\n          \n        </button>\n      </Modal>\n    </>\n  );\n}\n","import { Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  endOfMonth,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  messageConfirm,\n  messageSuccess,\n  setParams,\n  socketServer,\n  startOfMonth,\n} from \"../../../helper\";\nimport BottomNav from \"../../../layouts/BottomNav\";\nimport { HOME_PAGE, OTHER } from \"../../../routes/app\";\nimport NoData from \"../../../helper/components/NoData\";\nimport moment from \"moment\";\nimport { QUERY_BOOKING, UPDATE_BOOKING_STATUS } from \"./apollo\";\nimport SearchRoom from \"../../../helper/components/SearchRoom\";\nimport DetailRoom from \"./DetailRoom\";\nimport {\n  FormControl,\n  InputAdornment,\n  InputLabel,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nexport default function BookingRequestScreen() {\n  const { match, history, location } = useReactRouter();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const query = new URLSearchParams(location?.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [reloadData, setReloadData] = useState(false);\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [detailRoom, setDetailRoom] = useState();\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const [updateBookingStatus] = useMutation(UPDATE_BOOKING_STATUS);\n  // call Data\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\n    QUERY_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  socketServer.on(\"booking\", (data) => {\n    setReloadData(!reloadData);\n    // newSound.play();\n  });\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(localHouse),\n    };\n    if (userData?.role === \"SUPER_ADMIN\" || userData?.role === \"IT\") {\n      delete whereData.house;\n    }\n    queryBooking({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"REQUESTED\",\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n          // _id: parseInt(searchValue ? searchValue : undefined),\n        },\n        skip: numberRow * (numberPage - 1),\n        limit: numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberPage,\n    numberRow,\n    searchValue,\n    reloadData,\n    localHouse,\n    startDate,\n    endDate,\n  ]);\n  // pagination\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(setData?.bookings?.total / numberRow); i++) {\n    countPage.push(i);\n  }\n\n  // update status\n  const updateStatus = async (_id, roomId, customerID, houseId) => {\n    messageConfirm(\"  ?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"BOOKING\",\n              paidStatus: 1,\n              room: roomId,\n              customer: customerID,\n              house: houseId,\n              bookDate: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n  // cancel\n  const _cancel = async (_id, roomId, houseID) => {\n    messageConfirm(\"  ?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"CANCEL\",\n              room: roomId,\n              house: houseID,\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n\n  return (\n    <div style={{ marginTop: -80 }}>\n      <div id=\"appCapsule\">\n        <div className=\"justify-content-md-center\">\n          <div className=\"appHeader text-light border-0\">\n            <div style={{ flex: 1 }} className=\"text-left\">\n              <button\n                className=\"btn text-white\"\n                onClick={() => history.push(OTHER)}\n              >\n                <i className=\"fa fa-chevron-left fs-4\" />\n              </button>\n            </div>\n            \n            <div\n              className=\"text-white pageTitle text-right text-nowrap pr-0\"\n              style={{ flex: 1 }}\n            >\n              <button\n                className=\"btn text-white mr-0\"\n                onClick={() => setReloadData(!reloadData)}\n              >\n                {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\n              </button>\n            </div>\n          </div>\n          <br />\n          <br />\n          <div className=\"option-section\">\n            <br />\n            <div className=\"row col-md-12  mt-1\">\n              <div className=\"col-6\">\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={startDate}\n                    name=\"startDate\"\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`startDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n              <div\n                className=\"col-6\"\n                style={{\n                  right: -15,\n                }}\n              >\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={endDate}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`endDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"section  mb-2 mt-1\">\n            <div className=\"transactions\">\n              <div className=\"row\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        <i className=\"fa-solid fa-magnifying-glass\" />\n                      </InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"number\"\n                    placeholder=\"\"\n                    onChange={(e) => setSearchValue(e.target.value)}\n                  />\n                </FormControl>\n              </div>\n              <div className=\"text-center\">\n                {loading ? loadingData(25) : \"\"}\n              </div>\n              {setData?.bookings?.total > 0 ? (\n                <div className=\"listView mt-2\">\n                  {setData?.bookings?.data?.map((data, index) => (\n                    <>\n                      <b\n                        className=\"float-end\"\n                        style={{ marginTop: -8, marginRight: -10 }}\n                      >\n                        <i\n                          className=\"icon-x-circle text-danger\"\n                          onClick={(e) => {\n                            _cancel(\n                              data?._id,\n                              data?.room?._id,\n                              data?.house?._id\n                            );\n                          }}\n                          style={{ fontSize: 20 }}\n                        ></i>\n                      </b>\n                      <a\n                        href=\"javascript:void(0)\"\n                        className=\"item pr-0 \"\n                        key={index}\n                        style={{ borderTop: \"1px solid #ed6b0e\" }}\n                      >\n                        <div\n                          className=\"detail col-md-10\"\n                          onClick={() => setDetailRoom(data?._id)}\n                        >\n                          <div>\n                            <strong>: BH-{data?._id}</strong>\n                            <strong>: {data?.room?.title_lao}</strong>\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.room?.priceFull\n                                ? currency(data?.room?.priceFull)\n                                : 0}{\" \"}\n                              /\n                              {data?.room?.priceHalf\n                                ? currency(data?.room?.priceHalf)\n                                : 0}{\" \"}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.bookingType === \"FULL\" ? (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  \n                                </>\n                              ) : (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  \n                                </>\n                              )}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.fullPriceTotal > 0 ? (\n                                <>\n                                  {data?.fullPriceTotal\n                                    ? currency(data?.fullPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              ) : (\n                                <>\n                                  {data?.halfPriceTotal\n                                    ? currency(data?.halfPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              )}\n                            </b>\n                          </div>\n                        </div>\n                        <div className=\"right\">\n                          <button\n                            className=\"btn btn-primary btn-sm action-button\"\n                            onClick={(e) => {\n                              updateStatus(\n                                data?._id,\n                                data?.room?._id,\n                                data.customer._id,\n                                data?.house?._id\n                              );\n                            }}\n                          >\n                            <i className=\"icon-check-circle me-1 \" /> \n                          </button>\n                        </div>\n                      </a>\n                    </>\n                  ))}\n                </div>\n              ) : (\n                <NoData loading={loading} />\n              )}\n              {setData?.bookings?.total > 100 && (\n                <Pagination\n                  className=\"mt-2\"\n                  pageTotal={countPage}\n                  currentPage={numberPage}\n                  onPageChange={(page) => {\n                    history.push({\n                      search: setParams(`page`, page),\n                    });\n                  }}\n                />\n              )}\n            </div>\n          </div>\n          <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { gql } from \"@apollo/client\";\r\nexport const QUERY_BOOKING = gql`\r\n  query Data(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: BookingWhereInput\r\n  ) {\r\n    bookings(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      total\r\n      data {\r\n        _id\r\n        houseCode\r\n        status\r\n        bookDate\r\n        bookDay\r\n        bookTime\r\n        inTime\r\n        checkInAt\r\n        checkOutAt\r\n        fee\r\n        feeBooking\r\n        paidStatus\r\n        bookingType\r\n        updatedAt\r\n        halfPriceTotal\r\n        fullPriceTotal\r\n        isDeleted\r\n        bookCode\r\n        images\r\n        incomeKIP\r\n        incomeTHB\r\n        incomeUSD\r\n        exChange\r\n        consolidateID\r\n        customer {\r\n          _id\r\n          gender\r\n          age\r\n          phoneNumber\r\n          fullName\r\n        }\r\n        acceptBy {\r\n          firstName\r\n          lastName\r\n        }\r\n        updatedBy {\r\n          firstName\r\n          lastName\r\n        }\r\n        room {\r\n          title_lao\r\n          title_eng\r\n          priceHalf\r\n          priceFull\r\n          _id\r\n        }\r\n        house {\r\n          _id\r\n          houseName\r\n          contactPhone\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_CHECK_IN = gql`\r\n  mutation UpdateRoom($data: RoomInput!, $where: RoomWhereInputOne!) {\r\n    updateRoom(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_BOOKING_STATUS = gql`\r\n  mutation UpdateBooking($data: BookingInput!, $where: BookingWhereInputOne!) {\r\n    updateBooking(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const HOUSE = gql`\r\n  query Houses($where: HouseWhereInput, $limit: Int) {\r\n    houses(where: $where, limit: $limit) {\r\n      data {\r\n        type {\r\n          title_lao\r\n          title_eng\r\n        }\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DELETE_BOOKING = gql`\r\nmutation DeleteBooking($where: BookingWhereInputOne!) {\r\n  deleteBooking(where: $where) {\r\n    _id\r\n  }\r\n}`;\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateTime,\n  getLocalHouse,\n  ITEM_PER_PAGE,\n  loadingData,\n  paiStatus,\n  setParams,\n  socketServer,\n} from \"../../../helper\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  HOUSE,\n  UPDATE_BOOKING_STATUS,\n} from \"./apollo\";\nexport default function TypeHouse({ getId }) {\n  const { history, location, match } = useReactRouter();\n  const numberPage = match?.params?.page;\n  const [listData, setListData] = useState()\n  const query = new URLSearchParams(location.search);\n  const [queryHouse, { data: setData, loading: loadingId }] =\n    useLazyQuery(HOUSE, { fetchPolicy: \"cache-and-network\" });\n  // detail\n  useEffect(() => {\n    queryHouse({\n      variables: {\n        where: {\n          _id: getId,\n        },\n        orderBy: \"createdAt_DESC\",\n        limit: 1,\n      },\n    });\n  }, [getId]);\n\n  const getData = setData?.houses?.data[0];\n\n  return (\n    <>\n        <td className=\"text-end text-black\">\n          {getData?.type?.title_lao ? getData?.type?.title_lao : \"-\"}\n        </td>\n    </>\n  );\n}","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../helper\";\nimport { QUERY_BOOKING } from \"./apollo\";\nimport TypeHouse from \"./TypeHouse\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        tabindex=\"-1\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  mr-4\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\"></p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-black me-1 border-top\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-primary\" />\n          \n        </button>\n      </Modal>\n    </>\n  );\n}\n","import { Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  endOfMonth,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  getYearCustom,\n  ITEM_PER_PAGE,\n  loadingData,\n  loadingScreen,\n  messageConfirm,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  notiflixConfirm,\n  setParams,\n  socketServer,\n  startOfMonth,\n  _month,\n} from \"../../../helper\";\nimport BottomNav from \"../../../layouts/BottomNav\";\nimport { HOME_PAGE, OTHER } from \"../../../routes/app\";\nimport NoData from \"../../../helper/components/NoData\";\nimport moment from \"moment\";\nimport { DELETE_BOOKING, QUERY_BOOKING, UPDATE_BOOKING_STATUS } from \"./apollo\";\nimport SearchRoom from \"../../../helper/components/SearchRoom\";\nimport DetailRoom from \"./DetailRoom\";\nimport {\n  FormControl,\n  InputAdornment,\n  InputLabel,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nexport default function BookingCancel() {\n  const { match, history, location } = useReactRouter();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const query = new URLSearchParams(location?.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [reloadData, setReloadData] = useState(false);\n  //state month adn year\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [listRoom, setListRoom] = useState();\n  const [detailRoom, setDetailRoom] = useState();\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const [updateBookingStatus] = useMutation(UPDATE_BOOKING_STATUS);\n  const [deleteData] = useMutation(DELETE_BOOKING);\n  // call Data\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\n    QUERY_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n\n  useEffect(() => {\n    queryBooking({\n      variables: {\n        where: {\n          // house: parseInt(localHouse),\n          status: \"CANCEL\",\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n          // _id: parseInt(searchValue ? searchValue : undefined),\n        },\n        skip: numberRow * (numberPage - 1),\n        limit: numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberPage,\n    numberRow,\n    searchValue,\n    reloadData,\n    localHouse,\n    listRoom,\n    startDate,\n    endDate,\n  ]);\n  socketServer.on(\"approveBooking\", (res) => {\n    if (res === localHouse) {\n      // newSound.play();\n      setReloadData(!reloadData);\n    }\n  });\n\n  // pagination\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(setData?.bookings?.total / numberRow); i++) {\n    countPage.push(i);\n  }\n  // update status\n  const updateStatus = async (_id, roomId, houseID) => {\n    messageConfirm(\"  ?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"REQUESTED\",\n              room: roomId,\n              house: houseID,\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n  // cancel\n  const _delete = async (_id) => {\n    messageConfirm(\"  ?\", async () => {\n      try {\n        const { data: _deleteData } = await deleteData({\n          variables: {\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (_deleteData) {\n          messageSuccess(\"\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n\n  return (\n    <div style={{ marginTop: -80 }}>\n      <div id=\"appCapsule\">\n        <div className=\"justify-content-md-center\">\n          <div className=\"appHeader text-light border-0\">\n            <div style={{ flex: 1 }} className=\"text-left\">\n              <button\n                className=\"btn text-white\"\n                onClick={() => history.push(OTHER)}\n              >\n                <i className=\"fa fa-chevron-left fs-4\" />\n              </button>\n            </div>\n            \n            <div\n              className=\"text-white pageTitle text-right text-nowrap pr-0\"\n              style={{ flex: 1 }}\n            >\n              <button\n                className=\"btn text-white mr-0\"\n                onClick={() => setReloadData(!reloadData)}\n              >\n                {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\n              </button>\n            </div>\n          </div>\n          <br />\n          <br />\n          <div className=\"option-section\">\n            <br />\n            <div className=\"row col-md-12  mt-1\">\n              <div className=\"col-6\">\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={formatDateDash(startDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`startDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n              <div\n                className=\"col-6\"\n                style={{\n                  right: -15,\n                }}\n              >\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={formatDateDash(endDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`endDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"section  mb-2 mt-1\">\n            <div className=\"transactions\">\n              <div className=\"row\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        <i className=\"fa-solid fa-magnifying-glass\" />\n                      </InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"number\"\n                    placeholder=\"\"\n                    onChange={(e) => setSearchValue(e.target.value)}\n                  />\n                </FormControl>\n              </div>\n              <div className=\"text-center\">\n                {loading ? loadingData(25) : \"\"}\n              </div>\n              {setData?.bookings?.total > 0 ? (\n                <div className=\"listView mt-2\">\n                  {setData?.bookings?.data?.map((data, index) => (\n                    <>\n                      <b\n                        className=\"float-end\"\n                        style={{ marginTop: -8, marginRight: -10 }}\n                      >\n                        <i\n                          className=\"fa-solid fa-trash text-danger\"\n                          onClick={(e) => {\n                            _delete(data?._id);\n                          }}\n                          style={{ fontSize: 20 }}\n                        ></i>\n                      </b>\n                      <a\n                        href=\"javascript:void(0)\"\n                        className=\"item pr-0 \"\n                        key={index}\n                        style={{\n                          borderTop: \"1px solid #ed6b0e\",\n                        }}\n                      >\n                        <div\n                          className=\"detail col-md-10\"\n                          onClick={() => setDetailRoom(data?._id)}\n                        >\n                          <div>\n                            <strong>: BH-{data?._id}</strong>\n                            <strong>: {data?.room?.title_lao}</strong>\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.room?.priceFull\n                                ? currency(data?.room?.priceFull)\n                                : 0}{\" \"}\n                              /\n                              {data?.room?.priceHalf\n                                ? currency(data?.room?.priceHalf)\n                                : 0}{\" \"}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.bookingType === \"FULL\" ? (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  \n                                </>\n                              ) : (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  \n                                </>\n                              )}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              :{\" \"}\n                              {data?.fullPriceTotal > 0 ? (\n                                <>\n                                  {data?.fullPriceTotal\n                                    ? currency(data?.fullPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              ) : (\n                                <>\n                                  {data?.halfPriceTotal\n                                    ? currency(data?.halfPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              )}\n                            </b>\n                          </div>\n                        </div>\n                        <div className=\"right\">\n                          <button\n                            className=\"btn btn-primary btn-sm action-button\"\n                            onDoubleClick={() => {\n                              return false;\n                            }}\n                            onClick={(e) => {\n                              updateStatus(\n                                data?._id,\n                                data?.room?._id,\n                                data?.house?._id\n                              );\n                            }}\n                          >\n                            <i className=\"fa-solid fa-rotate-left fa-1x\" />\n                          </button>\n                        </div>\n                      </a>\n                    </>\n                  ))}\n                </div>\n              ) : (\n                <NoData loading={loading} />\n              )}\n              {setData?.bookings?.total > 100 && (\n                <Pagination\n                  className=\"mt-2\"\n                  pageTotal={countPage}\n                  currentPage={numberPage}\n                  onPageChange={(page) => {\n                    history.push({\n                      search: setParams(`page`, page),\n                    });\n                  }}\n                />\n              )}\n            </div>\n          </div>\n          <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { gql } from \"@apollo/client\";\r\nexport const QUERY_HOUSE = gql`\r\n  query Query(\r\n    $where: HouseWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n    $noLimit: Boolean\r\n  ) {\r\n    houses(\r\n      where: $where\r\n      orderBy: $orderBy\r\n      skip: $skip\r\n      limit: $limit\r\n      noLimit: $noLimit\r\n    ) {\r\n      total\r\n      data {\r\n        _id\r\n        houseName\r\n        public\r\n        owner{\r\n          _id\r\n          firstName\r\n          lastName\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const UPDATE_HOUSE = gql`\r\n  mutation Mutation($data: HouseInput!, $where: HouseWhereInputOne!) {\r\n    updateHouse(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const QUERY_BRANCHES = gql`\r\n  query Branches(\r\n    $where: BranchWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    branches(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n      total\r\n      data {\r\n        id_branch\r\n        branch_name\r\n        public\r\n        address_info\r\n        codDay\r\n        map_lat\r\n        map_lng\r\n        powerTime\r\n        percentOfCom\r\n        percentOfPickup\r\n        percentOfCOD\r\n        timeScanOut\r\n        timeScanIn\r\n        provinceID {\r\n        _id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\nexport const QUERY_COMMISSIONS_FRANSHISE = gql`\r\n  query Branches(\r\n    $where: BranchWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    branches(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n      total\r\n      data {\r\n        id_branch\r\n        branch_name\r\n        percentOfCom\r\n        percentOfPickup\r\n        percentOfCOD\r\n        mainBranches\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const QUERY_USERS = gql`\r\n  query Users(\r\n    $where: UserWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n    $noLimit: Boolean\r\n  ) {\r\n    users(\r\n      where: $where\r\n      orderBy: $orderBy\r\n      skip: $skip\r\n      limit: $limit\r\n      noLimit: $noLimit\r\n    ) {\r\n      total\r\n      data {\r\n        _id\r\n        firstName\r\n        lastName\r\n        phoneNumber\r\n        password\r\n        status\r\n        role\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const QUERY_CUSTOMERS = gql`\r\n  query Customers(\r\n    $where: CustomerWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n    $noLimit: Boolean\r\n  ) {\r\n    customers(\r\n      where: $where\r\n      orderBy: $orderBy\r\n      skip: $skip\r\n      limit: $limit\r\n      noLimit: $noLimit\r\n    ) {\r\n      total\r\n      data {\r\n        _id\r\n        fullName\r\n        phoneNumber\r\n        password\r\n        status\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_BRANCHES = gql`\r\nmutation UpdateBranch($data: BranchInput!, $where: BranchWhereInputOne!) {\r\n  updateBranch(data: $data, where: $where) {\r\n    id_branch\r\n  }\r\n}\r\n`;\r\n \r\nexport const UPDATE_USERS = gql`\r\n  mutation Mutation($data: UserInput!, $where: UserWhereInputOne!) {\r\n    updateUser(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const UPDATE_CUSTOMER = gql`\r\n  mutation UpdateCustomer(\r\n    $data: CustomerInput!\r\n    $where: CustomerWhereInputOne!\r\n  ) {\r\n    updateCustomer(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\n\r\n\r\n\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport { QUERY_USERS, UPDATE_USERS } from \"../apollo\";\r\nexport default function BlockUser() {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n\r\n  const [queryUsers, { data: userData, loading }] = useLazyQuery(QUERY_USERS, {\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n  const [updateUser] = useMutation(UPDATE_USERS);\r\n\r\n  useEffect(() => {\r\n    queryUsers({\r\n      variables: {\r\n        where: {\r\n          firstName: searchValue ? searchValue : undefined,\r\n        },\r\n        limit: searchValue ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n  useEffect(() => {\r\n    if (userData) {\r\n      setUsers(userData?.users?.data);\r\n    }\r\n    if (searchValue === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [userData, searchValue]);\r\n\r\n  const _onSearch = () => {\r\n    setSearchValue(searchValue);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n\r\n  const _turnOnStatus = (id, statusCheck) => {\r\n    Notiflix.Confirm.show(\r\n      \"\",\r\n      statusCheck === \"ACTIVE\"\r\n        ? \"  user   ?\"\r\n        : \" user   ?\",\r\n      \"\",\r\n      \"\",\r\n      () => {\r\n        try {\r\n          const _updated = updateUser({\r\n            variables: {\r\n              data: {\r\n                status:\r\n                  statusCheck === \"ACTIVE\"\r\n                    ? String(\"UNACTIVE\")\r\n                    : String(\"ACTIVE\"),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"\");\r\n            setNewLoadData(!newLoadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"p-1 text-black \" onClick={() => setShow(true)}>\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n         User\r\n      </div>\r\n      <Modal show={show} animation={false} size=\"xl\">\r\n        <Modal.Header className=\"text-black\">\r\n           User\r\n          <a\r\n            className=\"pull-right ms-2 \"\r\n            style={{ textDecoration: \"none\", marginTop: -10 }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"...\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{ border: \"1px solid #c2c1be\" }}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => _onSearch()}\r\n              className=\"btn btn-primary btn-lg\"\r\n            >\r\n              <i className=\"icon-search1\" />\r\n            </button>\r\n          </div>\r\n          {loading ? (\r\n            loadingData(23, \"\")\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-bordered table-sm\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th className=\"text-nowrap\">  </th>\r\n                    <th className=\"text-nowrap\"></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {users &&\r\n                    users?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"\">{index + 1}</td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.firstName ? item?.firstName : \"-\"}{\" \"}\r\n                          {item?.lastName ? item?.lastName : \"-\"}\r\n                        </td>\r\n                        <td\r\n                          style={{ textAlign: \"center\" }}\r\n                          className=\"text-nowrap\"\r\n                        >\r\n                          <div className=\"form-check form-switch\">\r\n                            <input\r\n                              id=\"_dm-dbOfflineContact\"\r\n                              className=\"form-check-input\"\r\n                              type=\"checkbox\"\r\n                              checked={\r\n                                item?.status === \"ACTIVE\" ? \"ACTIVE\" : \"\"\r\n                              }\r\n                              onChange={() =>\r\n                                _turnOnStatus(item?._id, item?.status)\r\n                              }\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n                {/* <tbody>\r\n                  {users &&\r\n                    users?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"text-center\">{index + 1}</td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.firstName ? item?.firstName : \"-\"}{\" \"}\r\n                          {item?.lastName ? item?.lastName : \"-\"}\r\n                        </td>\r\n                        <td\r\n                          style={{ textAlign: \"center\" }}\r\n                          className=\"text-nowrap\"\r\n                        >\r\n                          <div className=\"form-check form-switch\">\r\n                            <input\r\n                              id=\"_dm-dbOfflineContact\"\r\n                              className=\"form-check-input\"\r\n                              type=\"checkbox\"\r\n                              checked={\r\n                                item?.status === \"ACTIVE\" ? \"ACTIVE\" : \"\"\r\n                              }\r\n                              onChange={() =>\r\n                                _turnOnStatus(item?._id, item?.status)\r\n                              }\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody> */}\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport { QUERY_USERS, UPDATE_USERS } from \"../apollo\";\r\nexport default function ChangeRole() {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n  const [editStatus, setEditStatus] = useState(false);\r\n  const [getIndex, setGetIndex] = useState(0);\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const [queryUsers, { data: userData, loading }] = useLazyQuery(QUERY_USERS, {\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n  const [updateUser] = useMutation(UPDATE_USERS);\r\n\r\n  useEffect(() => {\r\n    queryUsers({\r\n      variables: {\r\n        where: {\r\n          firstName: searchValue ? searchValue : undefined,\r\n        },\r\n        limit: searchValue ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n\r\n  useEffect(() => {\r\n    if (userData) {\r\n      setUsers(userData?.users?.data);\r\n    }\r\n    if (searchValue === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [userData, searchValue]);\r\n\r\n  const _onSearch = () => {\r\n    setSearchValue(searchValue);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n\r\n  const _changeRole = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"\",\r\n      \" user   ?\",\r\n      \"\",\r\n      \"\",\r\n      () => {\r\n        try {\r\n          const _updated = updateUser({\r\n            variables: {\r\n              data: {\r\n                role: String(text),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"\");\r\n            setText(text);\r\n            setNewLoadData(!newLoadData);\r\n            setEditStatus(false);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\" p-1 text-black border-top\" onClick={() => setShow(true)}>\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n        \r\n      </div>\r\n      <Modal show={show} animation={false} size=\"xl\">\r\n        <Modal.Header className=\"text-black\">\r\n          \r\n          <a\r\n            className=\"pull-right ms-2 \"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"...\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{ border: \"1px solid #c2c1be\" }}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => _onSearch()}\r\n              className=\"btn btn-primary btn-lg\"\r\n            >\r\n              <i className=\"icon-search1\" />\r\n            </button>\r\n          </div>\r\n          {loading ? (\r\n            loadingData(23, \"\")\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-bordered table-sm text-black\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">#</th>\r\n                    <th>  </th>\r\n                    <th></th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {users &&\r\n                    users?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"text-center\">{index + 1}</td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.firstName ? item?.firstName : \"-\"}{\" \"}\r\n                          {item?.lastName ? item?.lastName : \"-\"}\r\n                        </td>\r\n                        <td className=\"text-nowrap\">\r\n                          {editStatus && getIndex === item?._id ? (\r\n                            <select\r\n                              className=\"form-control\"\r\n                              onChange={(e) => setText(e.target.value)}\r\n                            >\r\n                              <option defaultValue=\"\">\r\n                                \r\n                              </option>\r\n                              <option\r\n                                value=\"HR\"\r\n                                selected={item?.role === \"HR\" ? true : false}\r\n                              >\r\n                                HR\r\n                              </option>\r\n                              <option\r\n                                value=\"ACCOUNTANT\"\r\n                                selected={\r\n                                  item?.role === \"ACCOUNTANT\" ? true : false\r\n                                }\r\n                              >\r\n                                ACCOUNTANT\r\n                              </option>\r\n                              <option\r\n                                value=\"FINANCE\"\r\n                                selected={\r\n                                  item?.role === \"FINANCE\" ? true : false\r\n                                }\r\n                              >\r\n                                FINANCE\r\n                              </option>\r\n\r\n                              <option\r\n                                value=\"STATE_DIRECTOR\"\r\n                                selected={\r\n                                  item?.role === \"STATE_DIRECTOR\" ? true : false\r\n                                }\r\n                              >\r\n                                STATE_DIRECTOR\r\n                              </option>\r\n                              <option\r\n                                value=\"IT\"\r\n                                selected={item?.role === \"IT\" ? true : false}\r\n                              >\r\n                                IT\r\n                              </option>\r\n                              <option\r\n                                value=\"CALL_CENTER\"\r\n                                selected={\r\n                                  item?.role === \"CALL_CENTER\" ? true : false\r\n                                }\r\n                              >\r\n                                CALL_CENTER\r\n                              </option>\r\n                              <option\r\n                                value=\"ADMIN\"\r\n                                selected={item?.role === \"ADMIN\" ? true : false}\r\n                              >\r\n                                ADMIN\r\n                              </option>\r\n                              <option\r\n                                value=\"SUPER_ADMIN\"\r\n                                selected={\r\n                                  item?.role === \"SUPER_ADMIN\" ? true : false\r\n                                }\r\n                              >\r\n                                SUPER_ADMIN\r\n                              </option>\r\n                              <option\r\n                                value=\"CUSTOMER_SERVICE\"\r\n                                selected={\r\n                                  item?.role === \"CUSTOMER_SERVICE\"\r\n                                    ? true\r\n                                    : false\r\n                                }\r\n                              >\r\n                                CUSTOMER_SERVICE\r\n                              </option>\r\n                            </select>\r\n                          ) : (\r\n                            item?.role\r\n                          )}\r\n                        </td>\r\n\r\n                        <td style={{ textAlign: \"center\" }}>\r\n                          {editStatus && getIndex === item?._id ? (\r\n                            <a\r\n                              href=\"javaScript:void(0)\"\r\n                              onClick={() => _changeRole(item?._id)}\r\n                              style={{ textDecoration: \"none\" }}\r\n                            >\r\n                              <i className=\"icon-check text-success fa-2x\" />\r\n                            </a>\r\n                          ) : (\r\n                            <a\r\n                              href=\"javaScript:void(0)\"\r\n                              onClick={() => {\r\n                                setEditStatus(true);\r\n                                setGetIndex(item?._id);\r\n                                setText(item?.role);\r\n                              }}\r\n                              style={{ textDecoration: \"none\" }}\r\n                            >\r\n                              <i className=\"icon-edit text-primary\" />\r\n                            </a>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport { QUERY_USERS, UPDATE_USERS } from \"../apollo\";\r\nexport default function ChangePasswordStaff() {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n  const [editStatus, setEditStatus] = useState(false);\r\n  const [getIndex, setGetIndex] = useState(0);\r\n  const [text, setText] = useState(\"\");\r\n  const [searchValuePhone, setSearchValuePhone] = useState(\"\");\r\n  const [queryUsers, { data: userData, loading }] = useLazyQuery(QUERY_USERS, {\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n  const [updateUser] = useMutation(UPDATE_USERS);\r\n\r\n  useEffect(() => {\r\n    queryUsers({\r\n      variables: {\r\n        where: {\r\n          firstName: searchValue ? searchValue : undefined,\r\n          phoneNumber: searchValuePhone\r\n            ? parseInt(searchValuePhone)\r\n            : undefined,\r\n        },\r\n        // limit: searchValue ? 1000 : 10,\r\n        limit: searchValue || searchValuePhone ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n\r\n  useEffect(() => {\r\n    if (userData) {\r\n      setUsers(userData?.users?.data);\r\n    }\r\n    if (searchValue === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [userData, searchValue, searchValuePhone]);\r\n\r\n  useEffect(() => {\r\n    if (searchValuePhone === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [searchValuePhone]);\r\n  const _onSearch = () => {\r\n    setSearchValue(searchValue);\r\n    setSearchValuePhone(searchValuePhone);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  // const _onSearch = () => {\r\n  //   setSearchValue(searchValue);\r\n  //   setNewLoadData(!newLoadData);\r\n  // };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n\r\n  const _changeRole = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"\",\r\n      \" user   ?\",\r\n      \"\",\r\n      \"\",\r\n      () => {\r\n        try {\r\n          const _updated = updateUser({\r\n            variables: {\r\n              data: {\r\n                password: String(text),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"\");\r\n            setText(text);\r\n            setNewLoadData(!newLoadData);\r\n            setEditStatus(false);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        className=\"p-1 text-black border-bottom\"\r\n        onClick={() => setShow(true)}\r\n      >\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n        \r\n      </div>\r\n      <Modal show={show}  animation={false} size=\"xl\">\r\n        <Modal.Header className=\"text-black\">\r\n          {\" \"}\r\n          \r\n          <a\r\n            className=\"pull-right ms-2 \"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"search\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"...\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{ border: \"1px solid #c2c1be\" }}\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"...\"\r\n              onChange={(e) => setSearchValuePhone(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{ border: \"1px solid #c2c1be\" }}\r\n              onWheel={(e) => e.target.blur()}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => _onSearch()}\r\n              className=\"btn btn-primary btn-lg\"\r\n            >\r\n              <i className=\"icon-search1\" />\r\n            </button>\r\n          </div>\r\n          {loading ? (\r\n            loadingData(23, \"\")\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-bordered table-sm text-black\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">#</th>\r\n                    <th className=\"text-nowrap\">  </th>\r\n                    <th className=\"text-nowrap\"></th>\r\n                    <th className=\"text-nowrap\"></th>\r\n                    <th className=\"text-nowrap\"></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {users &&\r\n                    users?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"text-center\">{index + 1}</td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.firstName ? item?.firstName : \"-\"}{\" \"}\r\n                          {item?.lastName ? item?.lastName : \"-\"}\r\n                        </td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.phoneNumber ? item?.phoneNumber : \"-\"}\r\n                        </td>\r\n                        <td className=\"text-center text-nowrap\">\r\n                          {editStatus && getIndex === item?._id ? (\r\n                            <input\r\n                              type=\"text\"\r\n                              onChange={(e) => setText(e.target.value)}\r\n                              className=\"form-control text-center\"\r\n                              placeholder=\"* * * * * *\"\r\n                            />\r\n                          ) : (\r\n                            \"* * * * * *\"\r\n                          )}\r\n                        </td>\r\n\r\n                        <td\r\n                          style={{ textAlign: \"center\" }}\r\n                          className=\"text-nowrap\"\r\n                        >\r\n                          {editStatus && getIndex === item?._id ? (\r\n                            <a\r\n                              href=\"javaScript:void(0)\"\r\n                              onClick={() => _changeRole(item?._id)}\r\n                              style={{ textDecoration: \"none\" }}\r\n                            >\r\n                              <i className=\"icon-check text-success fa-2x\" />\r\n                            </a>\r\n                          ) : (\r\n                            <a\r\n                              href=\"javaScript:void(0)\"\r\n                              onClick={() => {\r\n                                setEditStatus(true);\r\n                                setGetIndex(item?._id);\r\n                                setText(item?.role);\r\n                              }}\r\n                              style={{ textDecoration: \"none\" }}\r\n                            >\r\n                              <i className=\"icon-edit text-primary\" />\r\n                            </a>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport { QUERY_CUSTOMERS, UPDATE_CUSTOMER } from \"../apollo\";\r\nexport default function ChangePasswordCustomer() {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [searchValueID, setSearchValueID] = useState(\"\");\r\n  const [searchValuePhone, setSearchValuePhone] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n  const [editStatus, setEditStatus] = useState(false);\r\n  const [getIndex, setGetIndex] = useState(0);\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const [queryCustomer, { data: customerData, loading }] = useLazyQuery(\r\n    QUERY_CUSTOMERS,\r\n    {\r\n      fetchPolicy: \"cache-and-network\",\r\n    }\r\n  );\r\n  const [updateCustomer] = useMutation(UPDATE_CUSTOMER);\r\n\r\n  useEffect(() => {\r\n    queryCustomer({\r\n      variables: {\r\n        where: {\r\n          _id: searchValueID ? parseInt(searchValueID) : undefined,\r\n          phoneNumber: searchValuePhone\r\n            ? parseInt(searchValuePhone)\r\n            : undefined,\r\n        },\r\n        limit: searchValueID || searchValuePhone ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n  useEffect(() => {\r\n    if (customerData) {\r\n      setUsers(customerData?.customers?.data);\r\n    }\r\n    if (searchValueID === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [customerData, searchValueID]);\r\n  useEffect(() => {\r\n    if (searchValuePhone === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [searchValuePhone]);\r\n\r\n  const _onSearch = () => {\r\n    setSearchValueID(searchValueID);\r\n    setSearchValuePhone(searchValuePhone);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n\r\n  const _changeRole = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"\",\r\n      \" user   ?\",\r\n      \"\",\r\n      \"\",\r\n      () => {\r\n        try {\r\n          const _updated = updateCustomer({\r\n            variables: {\r\n              data: {\r\n                password: String(text),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"\");\r\n            setText(text);\r\n            setNewLoadData(!newLoadData);\r\n            setEditStatus(false);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"p-1 text-black \" onClick={() => setShow(true)}>\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n        \r\n      </div>\r\n      <Modal show={show} animation={false} size=\"xl\">\r\n        <Modal.Header className=\"text-black\">\r\n          \r\n          <a\r\n            className=\"pull-right ms-2 \"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <div className=\"input-group mb-3\">\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-lg\"\r\n            placeholder=\"...\"\r\n            onChange={(e) => setSearchValueID(e.target.value)}\r\n            onKeyPress={_handleKeypress}\r\n            style={{ border: \"1px solid #c2c1be\" }}\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-lg\"\r\n            placeholder=\"...\"\r\n            onChange={(e) => setSearchValuePhone(e.target.value)}\r\n            onKeyPress={_handleKeypress}\r\n            style={{ border: \"1px solid #c2c1be\" }}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => _onSearch()}\r\n            className=\"btn btn-primary btn-lg\"\r\n          >\r\n            <i className=\"icon-search1\" />\r\n          </button>\r\n        </div>\r\n        {loading ? (\r\n          loadingData(23, \"\")\r\n        ) : (\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-sm text-black\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"text-center\">#</th>\r\n                  <th className=\"text-nowrap\">ID</th>\r\n                  <th className=\"text-nowrap\">  </th>\r\n                  <th className=\"text-nowrap\"></th>\r\n                  <th className=\"text-nowrap\"></th>\r\n                  <th className=\"text-nowrap\"></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {users &&\r\n                  users?.map((item, index) => (\r\n                    <tr key={index}>\r\n                      <td className=\"text-center\">{index + 1}</td>\r\n                      <td className=\"text-center\">{item?._id}</td>\r\n                      <td className=\"text-nowrap\">\r\n                        {item?.fullName ? item?.fullName : \"-\"}{\" \"}\r\n                      </td>\r\n                      <td className=\"text-nowrap\">\r\n                        {item?.phoneNumber ? item?.phoneNumber : \"-\"}\r\n                      </td>\r\n                      <td className=\"text-center text-nowrap\">\r\n                        {editStatus && getIndex === item?._id ? (\r\n                          <input\r\n                            type=\"text\"\r\n                            onChange={(e) => setText(e.target.value)}\r\n                            className=\"form-control text-center\"\r\n                          />\r\n                        ) : (\r\n                          \"* * * *\"\r\n                        )}\r\n                      </td>\r\n\r\n                      <td\r\n                        style={{ textAlign: \"center\" }}\r\n                        className=\"text-nowrap\"\r\n                      >\r\n                        {editStatus && getIndex === item?._id ? (\r\n                          <a\r\n                            href=\"javaScript:void(0)\"\r\n                            onClick={() => _changeRole(item?._id)}\r\n                            style={{ textDecoration: \"none\" }}\r\n                          >\r\n                            <i className=\"icon-check text-success fa-2x\" />\r\n                          </a>\r\n                        ) : (\r\n                          <a\r\n                            href=\"javaScript:void(0)\"\r\n                            onClick={() => {\r\n                              setEditStatus(true);\r\n                              setGetIndex(item?._id);\r\n                              setText(item?.password);\r\n                            }}\r\n                            style={{ textDecoration: \"none\" }}\r\n                          >\r\n                            <i className=\"icon-edit text-primary\" />\r\n                          </a>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport \"./utils/index.css\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport { QUERY_HOUSE, UPDATE_HOUSE } from \"../apollo\";\r\nexport default function TurnOffHouse() {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const [house, setHouse] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n\r\n  const [queryHouse, { data: resPonData, loading }] = useLazyQuery(\r\n    QUERY_HOUSE,\r\n    { fetchPolicy: \"cache-and-network\" }\r\n  );\r\n  const [updateHouse] = useMutation(UPDATE_HOUSE);\r\n\r\n  useEffect(() => {\r\n    queryHouse({\r\n      variables: {\r\n        where: {\r\n          houseName: searchValue ? searchValue : undefined,\r\n        },\r\n        limit: searchValue ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n  useEffect(() => {\r\n    if (resPonData) {\r\n      setHouse(resPonData?.houses?.data);\r\n    }\r\n    if (searchValue === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [resPonData, searchValue]);\r\n\r\n  const _onSearch = () => {\r\n    setSearchValue(searchValue);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n  const _turnOnHouse = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"\",\r\n      \"    ?\",\r\n      \"\",\r\n      \"\",\r\n      async () => {\r\n        try {\r\n          const _updated = await updateHouse({\r\n            variables: {\r\n              data: {\r\n                public: String(\"ACTIVE\"),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"\");\r\n            setNewLoadData(!newLoadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  const _turnOffHouse = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"\",\r\n      \"    ?\",\r\n      \"\",\r\n      \"\",\r\n      async () => {\r\n        try {\r\n          const _updated = await updateHouse({\r\n            variables: {\r\n              data: {\r\n                public: String(\"INACTIVE\"),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"\");\r\n            setNewLoadData(!newLoadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        className=\"p-1 text-black border-bottom\"\r\n        onClick={() => setShow(true)}\r\n      >\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n          \r\n      </div>\r\n      <Modal show={show} animation={false} size=\"xl\">\r\n        <Modal.Header>\r\n            \r\n          <a\r\n            className=\"pull-right ms-2\"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"input-group mt-1\">\r\n            <input\r\n              type=\"search\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"...\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{ border: \"1px solid #c2c1be\" }}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => _onSearch()}\r\n              className=\"btn btn-primary btn-lg\"\r\n            >\r\n              <i className=\"icon-search1\" />\r\n            </button>\r\n          </div>\r\n          {loading ? (\r\n            loadingData(23, \"\")\r\n          ) : (\r\n            <div className=\"table-responsive mt-1\">\r\n              <table className=\"table table-bordered table-sm text-black\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">#</th>\r\n                    <th className=\"text-nowrap\"></th>\r\n                    <th className=\"text-nowrap\" width=\"30\">\r\n                      \r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {house &&\r\n                    house?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"text-center\">{index + 1}</td>\r\n                        <td>{item?.houseName ? item?.houseName : \"-\"}</td>\r\n                        <div className=\"form-check form-switch\">\r\n                          <input\r\n                            id=\"_dm-dbOfflineContact\"\r\n                            className=\"form-check-input ms-2\"\r\n                            type=\"checkbox\"\r\n                            checked={item?.public === \"ACTIVE\" ? \"ACTIVE\" : \"\"}\r\n                            onChange={\r\n                              item?.public === \"ACTIVE\"\r\n                                ? () => {\r\n                                    _turnOffHouse(item?._id);\r\n                                  }\r\n                                : () => {\r\n                                    _turnOnHouse(item?._id);\r\n                                  }\r\n                            }\r\n                          />\r\n                        </div>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useLazyQuery } from \"@apollo/client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData } from \"..\";\r\nimport { USER } from \"./apollo\";\r\n\r\nexport default function ListUser({\r\n  style,\r\n  className,\r\n  defaultValue,\r\n  size,\r\n  getData,\r\n  where,\r\n  disabled,\r\n}) {\r\n  const inputSize =\r\n    size === \"lg\"\r\n      ? \"form-control-lg\"\r\n      : size === \"sm\"\r\n      ? \"form-control-sm\"\r\n      : \"form-control-md\";\r\n  const [searchValue, setSearchValue] = useState();\r\n  const [show, setShow] = useState(false);\r\n  const [fetchData, { data, loading }] = useLazyQuery(USER);\r\n  useEffect(() => {\r\n    fetchData({\r\n      variables: {\r\n        where: {\r\n          firstName: searchValue ? searchValue : undefined,\r\n        },\r\n        limit: 100,\r\n      },\r\n    });\r\n  }, [searchValue, where]);\r\n\r\n  const handleClick = (value) => {\r\n    if (!value && getData) {\r\n      getData(null);\r\n      setShow(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const result = data?.users?.data?.filter(\r\n        (obj) => obj?.firstName === value\r\n      );\r\n\r\n      if (result.length > 0 && getData) {\r\n        getData(result[0]);\r\n        setShow(false);\r\n      }\r\n    } catch (error) {\r\n      if (getData) getData();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <input\r\n        type={\"button\"}\r\n        className={`form-control ${inputSize} ${className}`}\r\n        style={{ textAlign: \"left\" }}\r\n        value={defaultValue ? defaultValue : \"...\"}\r\n        onClick={() => setShow(true)}\r\n      />\r\n      <Modal\r\n        show={show}\r\n        centered\r\n        style={style}\r\n        className={className}\r\n        animation={false}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title className=\"fs-5\"></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"custom-modal-body\">\r\n          <div className=\"form-group\">\r\n            <input\r\n              type={\"search\"}\r\n              className=\"form-control form-control-lg\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onInput={(e) => {\r\n                if (!e.target.value && getData) getData();\r\n              }}\r\n              placeholder=\"\"\r\n            />\r\n          </div>\r\n          {loading ? (\r\n            <center>{loadingData(25, \"...\")}</center>\r\n          ) : (\r\n            <div className=\"mt-1\">\r\n\r\n              {data?.users?.data?.map((data, index) => (\r\n                <div\r\n                  className=\"d-flex py-2 border-bottom align-items-center text-black\"\r\n                  key={index}\r\n                  onClick={() => handleClick(data?.firstName)}\r\n                >\r\n                  <span>\r\n                    <i className=\"fa fa-user text-danger mr-2\" />{\" \"}\r\n                    {data?.firstName}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-block btn-danger\"\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x\" /> \r\n          </button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport ListUser from \"../../../helper/components/ListUser\";\r\nimport \"./utils/index.css\"\r\nimport { QUERY_HOUSE, UPDATE_HOUSE } from \"../apollo\";\r\nexport default function InviteOwner() {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const [house, setHouse] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n  const [itemID, setItemID] = useState(\"\");\r\n  const [userData, setUserData] = useState([]);\r\n  const [queryHouse, { data: resPonData, loading }] = useLazyQuery(\r\n    QUERY_HOUSE,\r\n    { fetchPolicy: \"cache-and-network\" }\r\n  );\r\n  const [updateHouse] = useMutation(UPDATE_HOUSE);\r\n\r\n  useEffect(() => {\r\n    queryHouse({\r\n      variables: {\r\n        where: {\r\n          houseName: searchValue ? searchValue : undefined,\r\n        },\r\n        limit: searchValue ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n  useEffect(() => {\r\n    if (resPonData) {\r\n      setHouse(resPonData?.houses?.data);\r\n    }\r\n    if (searchValue === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [resPonData, searchValue]);\r\n\r\n  const _onSearch = () => {\r\n    setSearchValue(searchValue);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n  const _handleSubmit = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"\",\r\n      \"  ?\",\r\n      \"\",\r\n      \"\",\r\n      async () => {\r\n        try {\r\n          const _updated = await updateHouse({\r\n            variables: {\r\n              data: {\r\n                owner: userData?._id,\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"\");\r\n            setItemID(\"\");\r\n            setNewLoadData(!newLoadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"p-1 text-black border-bottom\" onClick={() => setShow(true)}>\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n        \r\n      </div>\r\n      <Modal\r\n        show={show}\r\n        animation={false}size=\"xl\"\r\n      >\r\n        <Modal.Header>\r\n          \r\n          <a\r\n            className=\"pull-right ms-2 \"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <Modal.Body >\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"...\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{border:\"1px solid #c2c1be\"}}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => _onSearch()}\r\n              className=\"btn btn-primary btn-lg\"\r\n            >\r\n              <i className=\"icon-search1\" />\r\n            </button>\r\n          </div>\r\n          {loading ? (\r\n            loadingData(23, \"\")\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-bordered table-sm text-black\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">#</th>\r\n                    <th className=\"text-nowrap\"></th>\r\n                    <th className=\"text-nowrap\" width=\"200\">\r\n                      \r\n                    </th>\r\n                    <th className=\"text-nowrap\" width=\"120\">\r\n                      \r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {house &&\r\n                    house?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"text-center\">{index + 1}</td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.houseName ? item?.houseName : \"-\"}\r\n                        </td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?._id === itemID ? (\r\n                            <ListUser\r\n                              getData={(data) => {\r\n                                setUserData(data);\r\n                              }}\r\n                              defaultValue={userData?.firstName}\r\n                            />\r\n                          ) : (\r\n                            <span>\r\n                              {item?.owner?.firstName\r\n                                ? item?.owner?.firstName +\r\n                                  \" \" +\r\n                                  item?.owner?.lastName\r\n                                : \"-\"}\r\n                            </span>\r\n                          )}\r\n                        </td>\r\n                        <td>\r\n                          {item?._id === itemID ? (\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn btn-success btn-sm\"\r\n                              onClick={() => _handleSubmit(item?._id)}\r\n                            >\r\n                              <i className=\"icon-check\" /> \r\n                            </button>\r\n                          ) : (\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn btn-light btn-sm\"\r\n                              onClick={() => setItemID(item?._id)}\r\n                            >\r\n                              <i className=\"icon-edit\" /> \r\n                            </button>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport BlockUser from \"./widget/blockUser\";\r\n\r\nimport ChangeRole from \"./widget/changeRole\";\r\n\r\nimport ChangePasswordStaff from \"./widget/changePasswordStaff\";\r\nimport ChangePasswordCustomer from \"./widget/changePasswordCustomer\";\r\n\r\nimport TurnOffHouse from \"./widget/turnOffhouse\";\r\nimport InviteOwner from \"./widget/inviteOwner\";\r\nimport { OTHER } from \"../../routes/app\";\r\nexport default function SettingsScreen() {\r\n  const { history, location, match } = useReactRouter();\r\n  return (\r\n    <>\r\n      <div className=\"appHeader text-light border-0 mr-0\">\r\n        <div style={{ flex: 1 }} className=\"text-left\">\r\n          <button\r\n            className=\"btn text-white\"\r\n            onClick={() => history.push(OTHER)}\r\n          >\r\n            <i className=\"fa fa-chevron-left fs-4\" />\r\n          </button>\r\n        </div>\r\n        \r\n        <div\r\n          className=\"text-white pageTitle text-right text-nowrap pr-0\"\r\n          style={{ flex: 1 }}\r\n        ></div>\r\n      </div>\r\n      <div className=\"row\" style={{ marginTop: 70 }}>\r\n        <div className=\"col-md-4 mt-1\">\r\n          <div className=\"card border ms-1\">\r\n            <div\r\n              className=\"p-1 border-bottom  fs-5\"\r\n              style={{ backgroundColor: \"#fcfcfc\",color:\"#9c9695\" }}\r\n            >\r\n              <i\r\n                className=\"fa-sharp fa-solid fa-microchip me-2\"\r\n                style={{ color: \"#d9d1d0\" }}\r\n              />\r\n              \r\n            </div>\r\n            <TurnOffHouse />\r\n            <InviteOwner />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-4 mt-1\">\r\n          <div className=\"card border ms-1\">\r\n            <div\r\n              className=\"p-1  border-bottom  fs-5\"\r\n              style={{ backgroundColor: \"#fcfcfc\",color:\"#9c9695\" }}\r\n            >\r\n              <i\r\n                className=\"fa-sharp fa-solid fa-microchip me-2\"\r\n                style={{ color: \"#d9d1d0\" }}\r\n              />\r\n              \r\n            </div>\r\n            <BlockUser />\r\n            <ChangeRole />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-4 mt-1\">\r\n          <div className=\"card border ms-1\">\r\n            <div\r\n              className=\"p-1 border-bottom  fs-5\"\r\n              style={{ backgroundColor: \"#fcfcfc\", color:\"#9c9695\" }}\r\n            >\r\n              <i\r\n                className=\"fa-sharp fa-solid fa-microchip me-2\"\r\n                style={{ color: \"#d9d1d0\" }}\r\n              />\r\n              \r\n            </div>\r\n            <ChangePasswordStaff />\r\n            <ChangePasswordCustomer />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\"\r\n\r\nexport const QUERY_RATE_EXCHANGE = gql`\r\n  query Data(\r\n    $where: RateExchangeWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n    $noLimit: Boolean\r\n  ) {\r\n    rateExchanges(\r\n      where: $where\r\n      orderBy: $orderBy\r\n      skip: $skip\r\n      limit: $limit\r\n      noLimit: $noLimit\r\n    ) {\r\n      data {\r\n        _id\r\n        laoKIP\r\n        laoTHB\r\n        laoUSD\r\n        createdAt\r\n        createdBy {\r\n          _id\r\n          firstName\r\n          lastName\r\n        }\r\n        house {\r\n          _id\r\n          houseName\r\n        }\r\n      }\r\n      total\r\n    }\r\n  }\r\n`;\r\nexport const CREATE_RATE_EXCHANGE = gql`\r\n  mutation Mutation($data: RateExchangeInput!) {\r\n    createRateExchange(data: $data) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const DELETE_RATE_EXCHANGE = gql`\r\n  mutation Mutation($where: RateExchangeWhereInputOne!) {\r\n    deleteRateExchange(where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const UPDATE_RATE_EXCHANGE = gql`\r\n  mutation UpdateRateExchange(\r\n    $data: RateExchangeInput!\r\n    $where: RateExchangeWhereInputOne\r\n  ) {\r\n    updateRateExchange(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n","import { useMutation } from \"@apollo/client\";\nimport React, { useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { Formik } from \"formik\";\nimport {\n  messageError,\n  messageSuccess,\n  messageWarning,\n  valiDate,\n  getStaffLogin,\n} from \"../../helper\";\nimport { UPDATE_RATE_EXCHANGE } from \"./apollo\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\nimport \"./utils/index.css\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\n\nexport default function EditRateExChange({ dataValue, onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n\n  const [show, setShow] = useState(false);\n  const [updateRateExchange] = useMutation(UPDATE_RATE_EXCHANGE);\n  const handleClose = () => setShow(false);\n  const [house, setHouse] = useState(dataValue?.house);\n  return (\n    <Formik\n      initialValues={{\n        laoKIP: dataValue?.laoKIP,\n        laoTHB: dataValue?.laoTHB,\n        laoUSD: dataValue?.laoUSD,\n      }}\n      enableReinitialize={true}\n      validate={(values) => {\n        const errors = {};\n\n        if (!values.laoKIP) {\n          errors.laoKIP = \"\";\n        }\n        if (!values.laoTHB) {\n          errors.laoTHB = \"-\";\n        }\n        if (!values.laoUSD) {\n          errors.laoUSD = \"-\";\n        }\n\n        if (!house?._id) errors.house = \"\";\n\n        return errors;\n      }}\n      onSubmit={async (values) => {\n        try {\n          let _updateRateExchange = await updateRateExchange({\n            variables: {\n              data: {\n                laoKIP: parseFloat(values.laoKIP),\n                laoTHB: parseFloat(values.laoTHB),\n                laoUSD: parseFloat(values.laoUSD),\n                house: house?._id,\n              },\n              where: {\n                _id: parseInt(dataValue?._id),\n              },\n            },\n          });\n\n          if (_updateRateExchange) {\n            messageSuccess(\"\");\n            onSuccess();\n            setShow(false);\n          } else {\n            messageError(\"\");\n          }\n        } catch (error) {\n          console.log(error);\n          messageError(\"\");\n        }\n      }}\n    >\n      {({ values, errors, handleChange, handleSubmit, isDisabled }) => (\n        <React.Fragment>\n          <button\n            type=\"button\"\n            className=\"btn btn-lg\"\n            onClick={() => setShow(true)}\n            size=\"xl\"\n          >\n            <i className=\"fas fa-edit \" />\n          </button>\n          <Modal show={show}>\n            <Modal.Header className=\"text-black\">\n              \n              <a\n                className=\"pull-right ms-2 \"\n                style={{ textDecoration: \"none\", marginTop: -10 }}\n                onClick={() => setShow(false)}\n              >\n                <i className=\"icon-x fa-2x text-danger\" />\n              </a>\n            </Modal.Header>\n            <Modal.Body>\n              <div className=\"row bg-color\">\n                <div className=\" col-md-12\">\n                  <div className=\"form-group mb-3\">\n                    <label> {valiDate()}</label>\n                    <SelectLocalHouse\n                      style={{ width: \"100%\" }}\n                      value={house?._id}\n                      onChange={(obj) => {\n                        if (obj?._id) {\n                          setHouse(obj);\n                        }\n                      }}\n                      ownerId={userInfo?._id}\n                    />\n                    <span className=\"text-danger\">{errors.house}</span>\n                  </div>\n                  <div className=\"form-group mb-1\">\n                    <FormControl fullWidth sx={{ m: 0 }}>\n                      <OutlinedInput\n                        startAdornment={\n                          <InputAdornment position=\"start\">\n                            <i className=\"fa-sharp fa-solid fa-kip-sign\" />\n                          </InputAdornment>\n                        }\n                        onWheel={(e) => e.target.blur()}\n                        type=\"number\"\n                        name=\"laoKIP\"\n                        placeholder=\"\"\n                        value={values.laoKIP}\n                        onChange={handleChange}\n                      />\n                    </FormControl>\n                    <span className=\"text-danger\">{errors.laoKIP}</span>\n                  </div>\n                  <div className=\"form-group mb-1\">\n                    <FormControl fullWidth sx={{ m: 0 }}>\n                      <OutlinedInput\n                        startAdornment={\n                          <InputAdornment position=\"start\">\n                            <i className=\"fa-sharp fa-solid fa-bitcoin-sign\" />\n                          </InputAdornment>\n                        }\n                        onWheel={(e) => e.target.blur()}\n                        type=\"number\"\n                        name=\"laoTHB\"\n                        placeholder=\"-\"\n                        value={values.laoTHB}\n                        onChange={handleChange}\n                      />\n                    </FormControl>\n                    <span className=\"text-danger\">{errors.laoTHB}</span>\n                  </div>\n                  <div className=\"form-group\">\n                    <FormControl fullWidth sx={{ m: 0 }}>\n                      <OutlinedInput\n                        startAdornment={\n                          <InputAdornment position=\"start\">\n                            <i className=\"fa-sharp fa-solid fa-dollar-sign\" />\n                          </InputAdornment>\n                        }\n                        onWheel={(e) => e.target.blur()}\n                        type=\"number\"\n                        name=\"laoUSD\"\n                        placeholder=\"-\"\n                        value={values.laoUSD}\n                        onChange={handleChange}\n                      />\n                    </FormControl>\n                    <span className=\"text-danger\">{errors.laoUSD}</span>\n                  </div>\n                </div>\n              </div>\n            </Modal.Body>\n            <Modal.Footer>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-block btn-lg\"\n                onClick={() => handleSubmit()}\n                disabled={isDisabled}\n              >\n                <i className=\"icon-save\" style={{ marginRight: 3 }} />\n                \n              </button>\n            </Modal.Footer>\n          </Modal>\n        </React.Fragment>\n      )}\n    </Formik>\n  );\n}\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { Formik, useFormik } from \"formik\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  valiDate,\n} from \"../../helper\";\n\nimport { CREATE_RATE_EXCHANGE } from \"./apollo\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\nimport Notiflix from \"notiflix\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\n\nexport default function AddRateExchange({ onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n\n  const [show, setShow] = useState(false);\n  const [addRateExchange] = useMutation(CREATE_RATE_EXCHANGE);\n  const [house, setHouse] = useState({});\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n\n\n  const { handleChange, errors, values, handleSubmit, resetForm, isDisabled } =\n    useFormik({\n      initialValues: {\n        laoKIP: \"\",\n        laoTHB: \"\",\n        laoUSD: \"\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (!values.laoKIP) {\n          errors.laoKIP = \"\";\n        }\n        if (!values.laoTHB) {\n          errors.laoTHB = \"-\";\n        }\n        if (!values.laoUSD) {\n          errors.laoUSD = \"-\";\n        }\n        if (!house?._id) errors.house = \"\";\n\n        return errors;\n      },\n      onSubmit: async (values) => {\n        loadingScreen();\n        try {\n          const { data: inputData } = await addRateExchange({\n            variables: {\n              data: {\n                laoKIP: parseFloat(values.laoKIP),\n                laoTHB: parseFloat(values.laoTHB),\n                laoUSD: parseFloat(values.laoUSD),\n                house: house?._id,\n              },\n            },\n          });\n          if (inputData) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"\");\n            setShow(false);\n            onSuccess();\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"\");\n          }\n        } catch (error) {\n          Notiflix.Loading.remove();\n          console.log(error);\n        }\n      },\n    });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"icon-plus-circle me-1\" /> \n      </button>\n      <Modal\n        show={show}\n        animation={false}size=\"xl\"\n      >\n        <Modal.Header className=\"text-black\">\n          \n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"form-group mb-3\">\n            <label> {valiDate()}</label>\n            <SelectLocalHouse\n              style={{ width: \"100%\" }}\n              value={house?._id}\n              onChange={(obj) => {\n                if (obj?._id) {\n                  setHouse(obj);\n                }\n              }}\n              ownerId={userInfo?._id}\n            />\n            <span className=\"text-danger\">{errors.house}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-sharp fa-solid fa-kip-sign\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"number\"\n                name=\"laoKIP\"\n                placeholder=\"\"\n                value={values.laoKIP}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.laoKIP}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-sharp fa-solid fa-bitcoin-sign\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"number\"\n                name=\"laoTHB\"\n                placeholder=\"-\"\n                value={values.laoTHB}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.laoTHB}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-sharp fa-solid fa-dollar-sign\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"number\"\n                name=\"laoUSD\"\n                placeholder=\"-\"\n                value={values.laoUSD}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.laoUSD}</span>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            \n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import { Formik } from \"formik\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport {\r\n  createdAt_gte,\r\n  createdAt_lt,\r\n  currency,\r\n  endOfMonth,\r\n  formatDateDash,\r\n  formatDateTime,\r\n  getLocalHouse,\r\n  getStaffLogin,\r\n  loadingData,\r\n  messageConfirm,\r\n  messageError,\r\n  messageSuccess,\r\n  setParams,\r\n  socketServer,\r\n  startMonth,\r\n  _month,\r\n} from \"../../helper\";\r\nimport BottomNav from \"../../layouts/BottomNav\";\r\nimport { OTHER } from \"../../routes/app\";\r\nimport NoData from \"../../helper/components/NoData\";\r\nimport { QUERY_RATE_EXCHANGE, DELETE_RATE_EXCHANGE } from \"./apollo\";\r\nimport {\r\n  FormControl,\r\n  InputAdornment,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport Pagination from \"../../helper/controllers/Pagination\";\r\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\r\nimport Notiflix from \"notiflix\";\r\nimport EditRateExChange from \"./editRateExchange\";\r\nimport AddRateExchange from \"./addRateExchange\";\r\nexport default function RateExChange() {\r\n  const { match, history, location } = useReactRouter();\r\n  const userState = getStaffLogin();\r\n  const userData = userState?.data;\r\n  const query = new URLSearchParams(location?.search);\r\n  const [house, setHouse] = useState(\"\");\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [numberRow, setNumberRow] = useState(50);\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const [startDate, setStartDate] = useState(startMonth());\r\n  const [endDate, setEndDate] = useState(endOfMonth());\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [deleteRateExchange] = useMutation(DELETE_RATE_EXCHANGE);\r\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\r\n    QUERY_RATE_EXCHANGE,\r\n    { fetchPolicy: \"network-only\" }\r\n  );\r\n  useEffect(() => {\r\n    setHouse(getLocalHouse());\r\n  }, []);\r\n  useEffect(() => {\r\n    queryBooking({\r\n      variables: {\r\n        where: {\r\n          house: house?._id,\r\n          createdAt_gte: createdAt_gte(startDate),\r\n          createdAt_lt: createdAt_lt(endDate),\r\n        },\r\n        skip: numberRow * (numberPage - 1),\r\n        limit: searchValue ? 1000 : numberRow,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [\r\n    numberRow,\r\n    searchValue,\r\n    numberPage,\r\n    reloadData,\r\n    house,\r\n    startDate,\r\n    endDate,\r\n  ]);\r\n  // pagination\r\n  useEffect(() => {\r\n    const page = query.get(\"page\");\r\n    const _startDate = query.get(\"startDate\");\r\n    const _endDate = query.get(\"endDate\");\r\n    setStartDate(_startDate || startMonth());\r\n    setEndDate(_endDate || endOfMonth());\r\n    if (page) {\r\n      setNumberPage(parseInt(page));\r\n    } else {\r\n      setNumberRow(50);\r\n    }\r\n  }, [query]);\r\n  const countPage = [];\r\n  for (\r\n    var i = 1;\r\n    i <= Math.ceil(setData?.rateExchanges?.total / numberRow);\r\n    i++\r\n  ) {\r\n    countPage.push(i);\r\n  }\r\n\r\n  const _deleteRateExChange = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"\",\r\n      \"    ?\",\r\n      \"\",\r\n      \"\",\r\n      async () => {\r\n        try {\r\n          const _deleteRateExchange = await deleteRateExchange({\r\n            variables: {\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_deleteRateExchange) {\r\n            messageSuccess(\"\");\r\n            setReloadData(!reloadData);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n          messageError(\"\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: -80 }}>\r\n      <div id=\"appCapsule\">\r\n        <div className=\"justify-content-md-center\">\r\n          <div className=\"appHeader text-light border-0\">\r\n            <div style={{ flex: 1 }} className=\"text-left\">\r\n              <button\r\n                className=\"btn text-white\"\r\n                onClick={() => history.push(OTHER)}\r\n              >\r\n                <i className=\"fa fa-chevron-left fs-4\" />\r\n              </button>\r\n            </div>\r\n            \r\n            <div\r\n              className=\"text-white pageTitle text-right text-nowrap pr-0\"\r\n              style={{ flex: 1 }}\r\n            >\r\n              <button\r\n                className=\"btn text-white mr-0\"\r\n                onClick={() => setReloadData(!reloadData)}\r\n              >\r\n                {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <br />\r\n          <div className=\"option-section\">\r\n            <br />\r\n            <div className=\"row col-md-12  mt-1\">\r\n              <div className=\"col-6\">\r\n                <div className=\"option-card\">\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\" form-control form-control-lg\"\r\n                    style={{ marginLeft: 6 }}\r\n                    value={formatDateDash(startDate)}\r\n                    onChange={(e) => {\r\n                      history.push({\r\n                        search: setParams(`startDate`, e.target.value),\r\n                      });\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"col-6\"\r\n                style={{\r\n                  right: -10,\r\n                }}\r\n              >\r\n                <div className=\"option-card\">\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\" form-control form-control-lg\"\r\n                    value={formatDateDash(endDate)}\r\n                    onChange={(e) => {\r\n                      history.push({\r\n                        search: setParams(`endDate`, e.target.value),\r\n                      });\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"section  mb-2 mt-1\">\r\n            <div className=\"transactions\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12 w-100\">\r\n                  <SelectLocalHouse\r\n                    style={{ width: \"100%\" }}\r\n                    value={house?._id}\r\n                    onChange={(obj) => {\r\n                      if (obj?._id) {\r\n                        setHouse(obj);\r\n                      }\r\n                    }}\r\n                    ownerId={userData?._id}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                {loading ? loadingData(25) : \"\"}\r\n              </div>\r\n              {setData?.rateExchanges?.total > 0 ? (\r\n                <div className=\"listView mt-2\">\r\n                  {setData?.rateExchanges?.data?.map((data, index) => (\r\n                    <>\r\n                      <b\r\n                        className=\"float-end\"\r\n                        style={{ marginTop: -8, marginRight: -10 }}\r\n                      >\r\n                        <i\r\n                          className=\"icon-x-circle text-danger\"\r\n                          onClick={(e) => {\r\n                            _deleteRateExChange(data?._id);\r\n                          }}\r\n                          style={{ fontSize: 20 }}\r\n                        ></i>\r\n                      </b>\r\n\r\n                      <a\r\n                        href=\"javascript:void(0)\"\r\n                        className=\"item pr-0 \"\r\n                        key={index}\r\n                        style={{ borderTop: \"1px solid #ed6b0e\" }}\r\n                      >\r\n                        <div className=\"detail col-md-10\">\r\n                          <div>\r\n                            <strong>\r\n                              : {data?.house?.houseName}\r\n                            </strong>\r\n                            <b className=\"text-black\">\r\n                              : {currency(data?.laoKIP)}\r\n                            </b>\r\n                            <br />\r\n                            <b className=\"text-black\">\r\n                              : {currency(data?.laoTHB)}\r\n                            </b>\r\n                            <br />\r\n                            <b className=\"text-black pt-1\">\r\n                              : {currency(data?.laoUSD)}\r\n                            </b>\r\n                            <br />\r\n                            <b className=\"text-black\">\r\n                              : {formatDateTime(data?.createdAt)}\r\n                            </b>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"right\">\r\n                          <button className=\"btn  btn-sm\">\r\n                            <EditRateExChange\r\n                              dataValue={data}\r\n                              onSuccess={() => {\r\n                                setReloadData(!reloadData);\r\n                              }}\r\n                            />\r\n                          </button>\r\n                        </div>\r\n                      </a>\r\n                    </>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <NoData loading={loading} />\r\n              )}\r\n              {setData?.rateExchanges?.total > 50 && (\r\n                <Pagination\r\n                  className=\"mt-2\"\r\n                  pageTotal={countPage}\r\n                  currentPage={numberPage}\r\n                  onPageChange={(page) => {\r\n                    history.push({\r\n                      search: setParams(`page`, page),\r\n                    });\r\n                  }}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          bottom: 5,\r\n          backgroundColor: \"#f5f7f7\",\r\n        }}\r\n        className=\"col-md-12 appBottomMenu\"\r\n      >\r\n        <AddRateExchange\r\n          onSuccess={(e) => {\r\n            setReloadData(!reloadData);\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\nexport const CREATE_TYPE = gql`\n  mutation CreateTypeRoom($data: TypeRoomInput!) {\n    createTypeRoom(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_TYPE_ROOM = gql`\n  query TypeRooms(\n    $noLimit: Boolean\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: TypeRoomWhereInput\n  ) {\n    typeRooms(\n      noLimit: $noLimit\n      limit: $limit\n      skip: $skip\n      orderBy: $orderBy\n      where: $where\n    ) {\n      total\n      data {\n        _id\n        title_lao\n        title_eng\n        createdAt\n        createdBy {\n          firstName\n          lastName\n        }\n      }\n    }\n  }\n`;\n\nexport const EDIT_ROOM = gql`\n  mutation UpdateTypeRoom(\n    $data: TypeRoomInput!\n    $where: TypeRoomWhereInputOne!\n  ) {\n    updateTypeRoom(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n\nexport const DELETE = gql`\n  mutation DeleteTypeRoom($where: TypeRoomWhereInputOne!) {\n    deleteTypeRoom(where: $where) {\n      _id\n    }\n  }\n`;\n","import { useMutation } from \"@apollo/client\";\nimport React, { useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { Formik } from \"formik\";\nimport {\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  valiDate,\n} from \"../../../helper\";\nimport { EDIT_ROOM } from \"./apollo\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\nexport default function EditType({ getId, onSuccess }) {\n  const [show, setShow] = useState(false);\n  const [editProvinces] = useMutation(EDIT_ROOM);\n  const handleClose = () => setShow(false);\n  return (\n    <Formik\n      initialValues={{\n        title_lao: getId?.title_lao ? getId?.title_lao : \"\",\n        title_eng: getId?.title_eng ? getId?.title_eng : \"\",\n      }}\n      enableReinitialize={true}\n      validate={(values) => {\n        const errors = {};\n        if (!values.title_lao) {\n          errors.title_lao = \"error\";\n        }\n        return errors;\n      }}\n      onSubmit={async (values) => {\n        loadingScreen();\n        try {\n          let _upDate = await editProvinces({\n            variables: {\n              data: {\n                title_lao: String(values?.title_lao),\n                title_eng: String(values?.title_eng),\n              },\n              where: {\n                _id: getId?._id,\n              },\n            },\n          });\n          if (_upDate) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"\");\n            setShow(false);\n            onSuccess();\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"\");\n          }\n        } catch (error) {\n          Notiflix.Loading.remove();\n          console.log(error);\n          messageError(\"\");\n        }\n      }}\n    >\n      {({ values, errors, handleChange, handleSubmit, isDisabled }) => (\n        <React.Fragment>\n          <button\n            type=\"button\"\n            className=\"btn btn-light btn-lg\"\n            onClick={() => setShow(true)}\n          >\n            <i className=\"fas fa-edit \" />\n          </button>\n          <Modal show={show} size=\"xl\" animation={false}>\n            <Modal.Header>\n              \n              <a\n                className=\"pull-right ms-2 \"\n                style={{ textDecoration: \"none\", marginTop: -10 }}\n                onClick={() => setShow(false)}\n              >\n                <i className=\"icon-x fa-2x text-danger\" />\n              </a>\n            </Modal.Header>\n            <Modal.Body>\n              <div className=\"form-group\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">:</InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"text\"\n                    name=\"title_lao\"\n                    placeholder=\"...\"\n                    value={values.title_lao}\n                    error={errors.title_lao}\n                    onChange={handleChange}\n                  />\n                  <div className=\"text-danger\">{errors.title_lao}</div>\n                </FormControl>\n              </div>\n              <div className=\"form-group\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        :\n                      </InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"text\"\n                    name=\"title_eng\"\n                    placeholder=\"...\"\n                    value={values.title_eng}\n                    onChange={handleChange}\n                  />\n                </FormControl>\n              </div>\n            </Modal.Body>\n            <Modal.Footer>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-block btn-lg\"\n                onClick={() => handleSubmit()}\n                disabled={isDisabled}\n              >\n                <i className=\"icon-save\" style={{ marginRight: 3 }} />\n                \n              </button>\n            </Modal.Footer>\n          </Modal>\n        </React.Fragment>\n      )}\n    </Formik>\n  );\n}\n","import { useMutation } from \"@apollo/client\";\nimport React, { useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { Formik, useFormik } from \"formik\";\nimport {\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  valiDate,\n} from \"../../../helper\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\nimport { CREATE_TYPE } from \"./apollo\";\nexport default function AddTypeRoom({ getId, onSuccess }) {\n  const [show, setShow] = useState(false);\n  const [createType] = useMutation(CREATE_TYPE);\n\n  const { handleChange, errors, values, handleSubmit, resetForm } = useFormik({\n    initialValues: {\n      title_lao: \"\",\n      title_eng: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!values.title_lao) {\n        errors.title_lao = \"\";\n      }\n      return errors;\n    },\n    onSubmit: async (values) => {\n      loadingScreen();\n      try {\n        const { data: updated } = await createType({\n          variables: {\n            data: {\n              title_lao: String(values?.title_lao),\n              title_eng: String(values?.title_eng),\n            },\n          },\n        });\n        if (updated) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"\");\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            window.scrollTo(0, 0);\n          }, 100);\n          onSuccess();\n          setShow(false);\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"\");\n        }\n      } catch (error) {\n        Notiflix.Loading.remove();\n        messageError(\"\");\n      }\n    },\n  });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n        size=\"xl\"\n      >\n        <i className=\"icon-plus-circle me-1\" /> \n      </button>\n      <Modal show={show} size=\"xl\">\n        <Modal.Header>\n          \n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"form-group\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                name=\"title_lao\"\n                placeholder=\"...\"\n                value={values.title_lao}\n                error={errors.title_lao}\n                onChange={handleChange}\n              />\n              <div className=\"text-danger\">{errors.title_lao}</div>\n            </FormControl>\n          </div>\n          <div className=\"form-group\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                name=\"title_eng\"\n                placeholder=\"...\"\n                value={values.title_eng}\n                onChange={handleChange}\n              />\n            </FormControl>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            onDoubleClick={() => {\n              return false;\n            }}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            \n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  loadingData,\n  loadingScreen,\n  messageConfirm,\n  messageError,\n  messageSuccess,\n  setParams,\n  valiDate,\n} from \"../../../helper\";\nimport { useFormik } from \"formik\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport { CREATE_TYPE, DELETE, QUERY_TYPE_ROOM } from \"./apollo\";\nimport { Row } from \"react-bootstrap\";\nimport EditType from \"./editType\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  setRef,\n} from \"@mui/material\";\nimport NoData from \"../../../helper/components/NoData\";\nimport AddTypeRoom from \"./AddTypeRoom\";\nexport default function TypeRoom() {\n  const [numberRows, setNumberRows] = useState(ITEM_PER_PAGE);\n  const { history, location, match } = useReactRouter();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const numberPage = match?.params?.page;\n  const query = new URLSearchParams(location.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [createType] = useMutation(CREATE_TYPE);\n  const [_deleteType] = useMutation(DELETE);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(\n    QUERY_TYPE_ROOM,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          title_lao: searchValue ? searchValue : undefined,\n        },\n        skip: searchValue ? 0 : numberRows * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRows,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [numberRows, searchValue, numberPage, newLoadData]);\n\n  const countData = setData?.typeRooms?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRows); i++) {\n    countPage.push(i);\n  }\n\n  const _delete = (id) => {\n    messageConfirm(\"   ?\", async () => {\n      loadingScreen();\n      try {\n        const { data: _deleteData } = await _deleteType({\n          variables: {\n            where: {\n              _id: id,\n            },\n          },\n        });\n        if (_deleteData) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"\");\n          setNewLoadData(!newLoadData);\n        } else {\n          messageError(\"\");\n        }\n      } catch (error) {\n        console.log(error);\n        Notiflix.Loading.remove();\n        messageError(\"\");\n      }\n    });\n  };\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\"></h3>\n        </div>\n      </div>\n      {/* data */}\n      <div className=\"section\">\n        <div className=\"transactions\" style={{ marginTop: 30 }}>\n          <div className=\"row\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-solid fa-magnifying-glass\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"search\"\n                placeholder=\"\"\n                onChange={(e) => setSearchValue(e.target.value)}\n              />\n            </FormControl>\n          </div>\n          <div className=\"text-center\">{loading ? loadingData(25) : \"\"}</div>\n          {setData?.typeRooms?.total > 0 ? (\n            <div className=\"listView mt-2\">\n              {setData?.typeRooms?.data?.map((data, index) => (\n                <>\n                  <b\n                    className=\"float-end\"\n                    style={{ marginTop: -8, marginRight: -10 }}\n                  >\n                    <i\n                      className=\"fa-solid fa-trash\"\n                      onClick={(e) => {\n                        _delete(data?._id);\n                      }}\n                      style={{ fontSize: 20, color: \"#9c9695\" }}\n                    ></i>\n                  </b>\n                  <a\n                    href=\"javascript:void(0)\"\n                    className=\"item pr-0 \"\n                    key={index}\n                  >\n                    <div className=\"detail col-md-10\">\n                      <div>\n                        <strong>: {data?.title_lao}</strong>\n                        <strong>: {data?.title_eng}</strong>\n                      </div>\n                    </div>\n                    <div className=\"right\">\n                      <EditType\n                        getId={data}\n                        onSuccess={(e) => {\n                          setNewLoadData(!newLoadData);\n                        }}\n                      />\n                    </div>\n                  </a>\n                </>\n              ))}\n            </div>\n          ) : (\n            <NoData loading={loading} />\n          )}\n          {setData?.typeRooms?.total > 100 && (\n            <Pagination\n              className=\"mt-2\"\n              pageTotal={countPage}\n              currentPage={numberPage}\n              onPageChange={(page) => {\n                history.push({\n                  search: setParams(`page`, page),\n                });\n              }}\n            />\n          )}\n        </div>\n        <div\n          style={{\n            position: \"fixed\",\n            // bottom: 1,\n            backgroundColor: \"#f5f7f7\",\n            zIndex: 99999,\n          }}\n          className=\"col-md-12 appBottomMenu\"\n        >\n          <AddTypeRoom\n            onSuccess={(e) => {\n              setNewLoadData(!newLoadData);\n            }}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const CREATE_ROOM = gql`\n  mutation CreateRoom($data: RoomInput!) {\n    createRoom(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_ROOM = gql`\n  query Rooms(\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: RoomWhereInput\n  ) {\n    rooms(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\n      total\n      data {\n        _id\n        title_lao\n        title_eng\n        priceHalf\n        priceFull\n        status\n        detail\n        createdAt\n        typeRoom {\n          _id\n          title_lao\n        }\n        house {\n          _id\n          houseName\n        }\n        coverImage\n        images\n      }\n    }\n  }\n`;\n\nexport const EDIT_ROOM = gql`\n  mutation UpdateRoom($data: RoomInput!, $where: RoomWhereInputOne!) {\n    updateRoom(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n\nexport const DELETE_ROOM = gql`\n  mutation DeleteRoom($where: RoomWhereInputOne!) {\n    deleteRoom(where: $where) {\n      _id\n    }\n  }\n`;\n","import S3 from 'react-aws-s3';\n\nconst config = {\n    bucketName: 'bithouse-bucket',\n    dirName: 'images', \n    region: 'ap-southeast-1',\n    accessKeyId: 'AKIARU4Q6V6AGTS2DCIJ',\n    secretAccessKey: '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',\n    s3Url: 'https://bithouse-bucket.s3.ap-southeast-1.amazonaws.com', \n}\n\n\n\n export const s3Client = new S3(config);\n\n","import { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport \"./utils/index.css\";\nimport AddCircleOutlineTwoToneIcon from \"@material-ui/icons/AddCircleOutlineTwoTone\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  valiDate,\n} from \"../../../helper\";\nimport { CREATE_ROOM } from \"./apollo\";\nimport TypeRoom from \"../../../helper/components/typeRoom\";\nimport { s3Client } from \"../../../helper/s3Client\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport SearchTypeRoom from \"../../../helper/components/SearchTypeRoom\";\nimport { useInternalState } from \"@apollo/client/react/hooks/useQuery\";\nimport SelectLocalHouse from \"../../../helper/components/SelectLocalHouse\";\nexport default function AddRooms({ onSuccess, loadData, className }) {\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const [typeDataRoom, setTypeDataRoom] = useState({});\n  const [imageName, setImageName] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [createRoom] = useMutation(CREATE_ROOM);\n  const [getDocFiless, setDocFiless] = useState([]);\n  const [getFileNames, setFileNames] = useState([]);\n  const [status, setStatus] = useState(false);\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const [getHouse, setHouse] = useState(\"\");\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n  // pictrue\n  const handleUpload = async (event) => {\n    const imageName = uuidv4() + \".\" + event.target.files[0].type.split(\"/\")[1];\n    const _file = event.target.files[0];\n    setFile(_file);\n    const res = await s3Client.uploadFile(_file, imageName);\n    if (res?.location) {\n      setFile(_file);\n      setImageName(imageName);\n      messageSuccess(\"\");\n    } else {\n      setFile(null);\n      setImageName(\"\");\n      messageWarning(\"\");\n    }\n  };\n\n  // upload any file\n  const handleUploadDocFile = async (event) => {\n    try {\n      // setDocFiles(_image);\n      const error = [];\n      const success = [];\n      const files = [];\n      for (const doc of event.target.files) {\n        files.push(doc.name);\n        const docFileName = uuidv4() + \".\" + doc.type.split(\"/\")[1];\n        const res = await s3Client.uploadFile(doc, docFileName);\n        if (res?.location) {\n          success.push(docFileName);\n        } else {\n          error.push(docFileName);\n        }\n      }\n      setFileNames(files);\n      setDocFiless(success);\n      messageSuccess(\"\");\n    } catch (error) {\n      console.log({ error });\n    }\n  };\n  const removeArray = (index) => {\n    getDocFiless.splice(index, 1);\n    setDocFiless(getDocFiless);\n\n    getFileNames.splice(index, 1);\n    setFileNames(getFileNames);\n    setStatus(!status);\n  };\n  const { handleChange, errors, values, handleSubmit, resetForm } = useFormik({\n    initialValues: {\n      title_lao: \"\",\n      title_eng: \"\",\n      priceHalf: 0,\n      priceFull: \"\",\n      detail: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!values.title_lao) {\n        errors.title_lao = \"\";\n      }\n      if (!values.priceFull) {\n        errors.priceFull = \"\";\n      }\n      if (getDocFiless.length < 1) {\n        errors.docFile = \"\";\n      }\n      if (!getHouse?._id) errors.house = \"\";\n      if (!typeDataRoom?._id) errors.typeRoom = \"\";\n      return errors;\n    },\n    onSubmit: async (values, { resetForm }) => {\n      loadingScreen();\n      // return\n      try {\n        const { data: updated } = await createRoom({\n          variables: {\n            data: {\n              title_lao: String(values?.title_lao),\n              title_eng: String(values?.title_eng),\n              priceHalf: parseInt(values?.priceHalf),\n              priceFull: parseInt(values?.priceFull),\n              detail: String(values?.detail),\n              house: String(getHouse?._id),\n              typeRoom: String(typeDataRoom?._id),\n              coverImage: getDocFiless ? String(getDocFiless.join(\",\")) : \"\",\n              images: String(imageName),\n            },\n          },\n        });\n        if (updated) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"\");\n          onSuccess(loadData === true ? false : true);\n          setFile(\"\");\n          setFileNames(\"\");\n          setDocFiless(\"\");\n          resetForm();\n          setShow(false);\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"\");\n        }\n      } catch (error) {\n        Notiflix.Loading.remove();\n        messageError(\"\");\n      }\n    },\n  });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"icon-plus-circle me-1\" /> \n      </button>\n      <Modal show={show} size=\"xl\">\n        <Modal.Header>\n          \n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"row\">\n            <div className=\"form-group\">\n              <label className=\"control-label\"></label>\n              <div\n                style={{ textAlign: \"center\" }}\n                for=\"file-upload\"\n                className=\"long\"\n              >\n                <input\n                  type=\"file\"\n                  id=\"file-upload\"\n                  className=\"bg-danger\"\n                  onChange={handleUpload}\n                  hidden\n                />\n                <label for=\"file-upload\" style={{ padding: 20 }}>\n                  {file ? (\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      // style={{ width: 300, height: 250 }}\n                      style={{\n                        height: 200,\n                        width: 200,\n                        borderRadius: 100 / 2,\n                      }}\n                    />\n                  ) : (\n                    <AddCircleOutlineTwoToneIcon\n                      style={{ fontSize: 45 }}\n                      className=\"text-secondary\"\n                    />\n                  )}\n                </label>\n              </div>\n            </div>\n            <div className=\"col-md-6\">\n              <div className=\"form-group mb-2\">\n                <SearchTypeRoom\n                  style={{ height: \"100%\", backgroundColor: \"red\" }}\n                  value={typeDataRoom?._id}\n                  onChange={(obj) => {\n                    setTypeDataRoom(obj);\n                  }}\n                />\n                <div className=\"text-danger\">{errors.typeRoom}</div>\n              </div>\n            </div>\n            <div className=\"col-md-6\">\n              <div className=\"form-group mb-2\">\n                <SelectLocalHouse\n                  style={{ width: \"100%\" }}\n                  value={getHouse?._id}\n                  onChange={(obj) => {\n                    if (obj?._id) {\n                      setHouse(obj);\n                    }\n                  }}\n                  ownerId={userData?._id}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                name=\"title_lao\"\n                placeholder=\"...\"\n                value={values.title_lao}\n                onChange={handleChange}\n                error={errors.title_lao}\n              />\n              <div className=\"text-danger\">{errors.title_lao}</div>\n            </FormControl>\n          </div>\n          <div className=\"form-row mt-3\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      :\n                    </InputAdornment>\n                  }\n                  onWheel={(e) => e.target.blur()}\n                  type=\"text\"\n                  name=\"title_eng\"\n                  placeholder=\"...\"\n                  value={values.title_eng}\n                  onChange={handleChange}\n                />\n                <div className=\"text-danger\">{errors.title_eng}</div>\n              </FormControl>\n            </div>\n          </div>\n\n          <div className=\"form-row mt-3\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">:</InputAdornment>\n                  }\n                  onWheel={(e) => e.target.blur()}\n                  type=\"number\"\n                  name=\"priceFull\"\n                  placeholder=\"...\"\n                  value={values.priceFull}\n                  error={errors.priceFull}\n                  onChange={handleChange}\n                />\n                <div className=\"text-danger\">{errors.priceFull}</div>\n              </FormControl>\n            </div>\n          </div>\n          <div className=\"form-row mt-3\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">:</InputAdornment>\n                  }\n                  onWheel={(e) => e.target.blur()}\n                  type=\"number\"\n                  name=\"priceHalf\"\n                  placeholder=\"...\"\n                  value={values.priceHalf}\n                  onChange={handleChange}\n                />\n              </FormControl>\n            </div>\n          </div>\n\n          <div className=\"form-row mt-3\">\n            <label className=\"text-black\"></label>\n            <div className=\"col-md-12\">\n              <textarea\n                rows={3}\n                style={{ color: \"black\" }}\n                name=\"detail\"\n                className=\"form-control form-control-lg\"\n                placeholder=\"...\"\n                onChange={handleChange}\n                value={values?.detail}\n              ></textarea>\n            </div>\n          </div>\n          <div className=\"form-group mt-2\">\n            <label> () {valiDate()}</label>\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                type=\"file\"\n                name=\"docFile\"\n                value={values.docFile}\n                onChange={handleUploadDocFile}\n                placeholder=\"\"\n                error={errors.docFile}\n                multiple\n              />\n              <div className=\"text-danger\">{errors.docFile}</div>\n            </FormControl>\n          </div>\n          <hr />\n          <div className=\"form-group mb-2\">\n            <label></label>\n            <div>\n              <div className=\"col-md-12\">\n                {getFileNames &&\n                  getFileNames.map((item, index) => (\n                    <>\n                      <div className=\"row mb-0\" key={index}>\n                        <div className=\"col-md-6\">\n                          <h4>{item}</h4>\n                        </div>\n                        <div\n                          className=\"col-md-6\"\n                          style={{ textAlign: \"right\" }}\n                        >\n                          <button\n                            className=\"btn btn-icon btn-xs btn-danger rounded-circle dz-cancel\"\n                            onClick={() => removeArray(index)}\n                          >\n                            <i className=\"icon-delete\"></i>\n                          </button>\n                        </div>\n                      </div>\n                      <hr />\n                    </>\n                  ))}\n              </div>\n            </div>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            \n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport \"./utils/index.css\";\nimport AddCircleOutlineTwoToneIcon from \"@material-ui/icons/AddCircleOutlineTwoTone\";\nimport {\n  aws_url_image,\n  aws_url_images,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  valiDate,\n} from \"../../../helper\";\nimport { EDIT_ROOM } from \"./apollo\";\nimport TypeRoom from \"../../../helper/components/typeRoom\";\nimport { s3Client } from \"../../../helper/s3Client\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport male from \"../../../img/male.png\";\nimport SearchTypeRoom from \"../../../helper/components/SearchTypeRoom\";\nimport SelectLocalHouse from \"../../../helper/components/SelectLocalHouse\";\nimport {\n  FormControl,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  OutlinedInput,\n  Select,\n} from \"@mui/material\";\nexport default function EditRooms({ onSuccess, data, loadData }) {\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const [getValueStatus, setValueStatus] = useState();\n  const [typeDataRoom, setTypeDataRoom] = useState();\n  const [getHouse, setHouse] = useState();\n  const [imageName, setImageName] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [createRoom] = useMutation(EDIT_ROOM);\n  const [getDocFiles, setGetDocFiles] = useState(data.coverImage);\n  const [getImages, setImages] = useState(data.images);\n  const [getDocFiless, setDocFiless] = useState([]);\n  const [getFileNames, setFileNames] = useState([]);\n  const [status, setStatus] = useState(false);\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  // pictrue\n  const handleUpload = async (event) => {\n    const imageName = uuidv4() + \".\" + event.target.files[0].type.split(\"/\")[1];\n    const _file = event.target.files[0];\n    setFile(_file);\n    const res = await s3Client.uploadFile(_file, imageName);\n    if (res?.location) {\n      setFile(_file);\n      setImageName(imageName);\n      messageSuccess(\"\");\n    } else {\n      setFile(null);\n      setImageName(\"\");\n      messageWarning(\"\");\n    }\n  };\n\n  // upload any file\n  const handleUploadDocFile = async (event) => {\n    try {\n      // setDocFiles(_image);\n      const error = [];\n      const success = [];\n      const files = [];\n      for (const doc of event.target.files) {\n        files.push(doc.name);\n        const docFileName = uuidv4() + \".\" + doc.type.split(\"/\")[1];\n        const res = await s3Client.uploadFile(doc, docFileName);\n        if (res?.location) {\n          success.push(docFileName);\n        } else {\n          error.push(docFileName);\n        }\n      }\n      setFileNames(files);\n      setDocFiless(success);\n      messageSuccess(\"\");\n    } catch (error) {\n      console.log({ error });\n    }\n  };\n  const newArray = [];\n  for (let i = 0; i < getDocFiles?.split(\",\").length; i++) {\n    newArray.push(getDocFiles?.split(\",\")[i]);\n  }\n  const removeArray = (index) => {\n    getDocFiless.splice(index, 1);\n    setDocFiless(getDocFiless);\n\n    getFileNames.splice(index, 1);\n    setFileNames(getFileNames);\n    setStatus(!status);\n  };\n  const {\n    handleChange,\n    errors,\n    values,\n    handleSubmit,\n    resetForm,\n    setFieldValue,\n  } = useFormik({\n    initialValues: {\n      title_lao: \"\",\n      title_eng: \"\",\n      priceHalf: \"\",\n      priceFull: \"\",\n      detail: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!values.title_lao) {\n        errors.title_lao = \"\";\n      }\n      if (!values.priceFull) {\n        errors.priceFull = \"\";\n      }\n      if (getDocFiles === \"\" && getDocFiless.length < 1) {\n        errors.docFile = \"\";\n      }\n      if (!getHouse?._id) errors.house = \"error\";\n      if (!typeDataRoom?._id) errors.typeRoom = \"error\";\n      return errors;\n    },\n    onSubmit: async (values) => {\n      loadingScreen();\n      try {\n        const { data: updated } = await createRoom({\n          variables: {\n            data: {\n              title_lao: String(values?.title_lao),\n              title_eng: String(values?.title_eng),\n              priceHalf: parseInt(values?.priceHalf),\n              priceFull: parseInt(values?.priceFull),\n              status: String(getValueStatus),\n              detail: String(values?.detail),\n              house: String(getHouse?._id),\n              typeRoom: String(typeDataRoom?._id),\n              coverImage:\n                getDocFiless.length > 0\n                  ? String(getDocFiless.join(\",\"))\n                  : getDocFiles,\n              images: String(imageName ? imageName : getImages),\n            },\n            where: {\n              _id: data?._id,\n            },\n          },\n        });\n\n        if (updated) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"\");\n          onSuccess(loadData === true ? false : true);\n          setFileNames(\"\");\n          setDocFiless(\"\");\n          setShow(false);\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"\");\n        }\n      } catch (error) {\n        console.log(error);\n        Notiflix.Loading.remove();\n        messageError(\"\");\n      }\n    },\n  });\n\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    setFieldValue(\"title_lao\", data?.title_lao ? data?.title_lao : \"\", false);\n    setFieldValue(\"title_eng\", data?.title_eng ? data?.title_eng : \"\", false);\n    setFieldValue(\"priceFull\", data?.priceFull ? data?.priceFull : 0, false);\n    setFieldValue(\"priceHalf\", data?.priceHalf ? data?.priceHalf : 0, false);\n    setFieldValue(\"detail\", data?.detail ? data?.detail : \"\", false);\n    setValueStatus(data.status);\n    setTypeDataRoom(data?.typeRoom);\n    setHouse(data?.house);\n  }, [data, show]);\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn btn-sm\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"fas fa-edit\" />\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header>\n          {\" \"}\n          \n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <Modal.Body className=\"container\">\n          <div className=\"row\">\n            <div className=\"form-group\">\n              <label className=\"control-label\"></label>\n              <div\n                style={{ textAlign: \"center\" }}\n                for=\"file-upload\"\n                className=\"long\"\n              >\n                <input\n                  type=\"file\"\n                  id=\"file-upload\"\n                  className=\"bg-danger\"\n                  onChange={handleUpload}\n                  hidden\n                />\n                <label for=\"file-upload\" style={{ padding: 20 }}>\n                  {file ? (\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      style={{\n                        height: 200,\n                        width: 200,\n                        borderRadius: 100 / 2,\n                      }}\n                    />\n                  ) : (\n                    <img\n                      src={data?.images ? aws_url_images + data?.images : male}\n                      style={{ width: \"170px\", height: \"180px\" }}\n                    />\n                  )}\n                </label>\n              </div>\n            </div>\n            <div className=\"col-md-6 mt-2\">\n              <div className=\"form-group mb-2\">\n                <label> {valiDate()}</label>\n                {/* <TypeRoom\n                  size={\"lg\"}\n                  getData={(data) => {\n                    setTypeDataRoom(data);\n                  }}\n                  defaultValue={typeDataRoom?.title_lao}\n                  className={errors.typeRoom ? \"is-invalid\" : \"\"}\n                /> */}\n                <SearchTypeRoom\n                  style={{ height: \"100%\", backgroundColor: \"red\" }}\n                  value={typeDataRoom?._id}\n                  onChange={(obj) => {\n                    setTypeDataRoom(obj);\n                  }}\n                />\n              </div>\n            </div>\n            <div className=\"col-md-6 mt-2\">\n              <div className=\"form-group mb-2\">\n                <SelectLocalHouse\n                  style={{ width: \"100%\" }}\n                  value={getHouse?._id}\n                  onChange={(obj) => {\n                    if (obj?._id) {\n                      setHouse(obj);\n                    }\n                  }}\n                  ownerId={userData?._id}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                name=\"title_lao\"\n                placeholder=\"...\"\n                value={values.title_lao}\n                onChange={handleChange}\n                error={errors.title_lao}\n              />\n              <div className=\"text-danger\">{errors.title_lao}</div>\n            </FormControl>\n          </div>\n          <div className=\"form-row mt-3\">\n            <div>\n              <div className=\"col-md-12\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        :\n                      </InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"text\"\n                    name=\"title_lao\"\n                    placeholder=\"...\"\n                    value={values.title_eng}\n                    onChange={handleChange}\n                    error={errors.title_eng}\n                  />\n                </FormControl>\n              </div>\n            </div>\n          </div>\n          <div className=\"row mt-1\">\n            <div className=\"col-md-6\">\n              <div className=\"form-row mt-2\">\n                <div className=\"col-md-12\">\n                  <FormControl fullWidth sx={{ m: 0 }}>\n                    <OutlinedInput\n                      startAdornment={\n                        <InputAdornment position=\"start\">\n                          :\n                        </InputAdornment>\n                      }\n                      onWheel={(e) => e.target.blur()}\n                      type=\"number\"\n                      name=\"priceFull\"\n                      placeholder=\"...\"\n                      value={values.priceFull}\n                      error={errors.priceFull}\n                      onChange={handleChange}\n                    />\n                    <div className=\"text-danger\">{errors.priceFull}</div>\n                  </FormControl>\n                  <div className=\"invalid fs-5\">{errors?.priceFull}</div>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-md-6 ml-auto\">\n              <div className=\"form-row mt-2\">\n                <div className=\"col-md-12\">\n                  <FormControl fullWidth sx={{ m: 0 }}>\n                    <OutlinedInput\n                      startAdornment={\n                        <InputAdornment position=\"start\">\n                          :\n                        </InputAdornment>\n                      }\n                      onWheel={(e) => e.target.blur()}\n                      type=\"number\"\n                      name=\"priceHalf\"\n                      placeholder=\"...\"\n                      value={values.priceHalf}\n                      onChange={handleChange}\n                    />\n                    <div className=\"text-danger\">{errors.priceHalf}</div>\n                  </FormControl>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"form-row mt-3\">\n            <label className=\"text-black\"></label>\n            <div className=\"col-md-12\">\n              <textarea\n                rows={3}\n                name=\"detail\"\n                style={{ color: \"black\" }}\n                className=\"form-control form-control-lg\"\n                placeholder=\"\"\n                onChange={handleChange}\n                value={values?.detail}\n              ></textarea>\n            </div>\n          </div>\n          <div className=\"form-group mt-2\">\n            <label> () {valiDate()}</label>\n            {/* <input\n              type=\"file\"\n              className={\n                errors.docFile\n                  ? \"form-control mb-3 is-invalid\"\n                  : \"form-control mb-3 invalid\"\n              }\n              name=\"docFile\"\n              value={values.docFile}\n              onChange={handleUploadDocFile}\n              placeholder=\"\"\n              multiple\n            /> */}\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                type=\"file\"\n                name=\"docFile\"\n                value={values.docFile}\n                onChange={handleUploadDocFile}\n                placeholder=\"\"\n                error={errors.docFile}\n                multiple\n              />\n              <div className=\"text-danger\">{errors.docFile}</div>\n            </FormControl>\n          </div>\n          <div className=\"form-group mb-2\">\n            <label></label>\n            <div>\n              <div className=\"col-md-12\">\n                {getFileNames.length === 0 ? (\n                  <>\n                    {newArray &&\n                      newArray.map((item, index) => (\n                        <>\n                          <div className=\"row mb-0 border-bottom\" key={index}>\n                            <div className=\"col-md-6\">\n                              <h4>{item}</h4>\n                            </div>\n                          </div>\n                        </>\n                      ))}\n                  </>\n                ) : (\n                  <>\n                    {getFileNames &&\n                      getFileNames.map((item, index) => (\n                        <>\n                          <div className=\"row mb-0\" key={index}>\n                            <div className=\"col-md-6\">\n                              <h4>{item}</h4>\n                            </div>\n                            <div\n                              className=\"col-md-6\"\n                              style={{ textAlign: \"right\" }}\n                            >\n                              <button\n                                className=\"btn btn-icon btn-xs btn-danger rounded-circle dz-cancel\"\n                                onClick={() => removeArray(index)}\n                              >\n                                <i className=\"icon-delete\"></i>\n                              </button>\n                            </div>\n                          </div>\n                        </>\n                      ))}\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            \n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  formatDateTime,\n  getStatus,\n  ITEM_PER_PAGE,\n  loadingData,\n  messageConfirm,\n  messageError,\n  messageSuccess,\n  currency,\n  getLocalHouse,\n  getStaffLogin,\n  setParams,\n} from \"../../../helper\";\nimport { DELETE_ROOM, QUERY_ROOM } from \"./apollo\";\nimport AddRooms from \"./addRooms\";\nimport EditRooms from \"./editRooms\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\nimport NoData from \"../../../helper/components/NoData\";\nexport default function Rooms() {\n  const { history, location, match } = useReactRouter();\n  const numberPage = match?.params?.page;\n  // get query search\n  const query = new URLSearchParams(location.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [numberRows, setNumberRows] = useState(rows ? rows : ITEM_PER_PAGE);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const jsonObj = getStaffLogin();\n  const userInfo = jsonObj?.data;\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [loadData, setLoadData] = useState(false);\n  const [provinceData, setProvinceData] = useState(\"\");\n  const [deleteRoom] = useMutation(DELETE_ROOM);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_ROOM, {\n    fetchPolicy: \"cache-and-network\",\n  });\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n\n  // let _where = {\n  //   title_lao: String(searchValue),\n  //   house: parseInt(localHouse),\n  // };\n\n  // if(userInfo?.role === \"SUPER_ADMIN\"){\n  //   delete _where.house\n  // }\n\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          title_lao: String(searchValue),\n          house: parseInt(localHouse),\n        },\n        skip: searchValue ? 0 : numberRows * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRows,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRows,\n    searchValue,\n    numberPage,\n    loadData,\n    provinceData,\n    setData,\n    localHouse,\n  ]);\n\n  //pageination\n  const countData = setData?.rooms?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRows); i++) {\n    countPage.push(i);\n  }\n  const NO = (index) => {\n    const no = numberRows * numberPage - numberRows;\n    if (numberRows > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n\n  const _deleteRoom = (id) => {\n    messageConfirm(\"   ?\", async () => {\n      Loading.dots();\n      try {\n        const { data: _deleteData } = await deleteRoom({\n          variables: {\n            where: {\n              _id: id,\n            },\n          },\n        });\n        if (_deleteData) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"\");\n          setLoadData(!loadData);\n        } else {\n          messageError(\"\");\n        }\n      } catch (error) {\n        Notiflix.Loading.remove();\n        messageError(\"\");\n      }\n    });\n  };\n\n  return (\n    <>\n      <div className=\"section\" style={{ marginTop: 50 }}>\n        <div className=\"transactions mt-2\">\n          <div className=\"row\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-solid fa-magnifying-glass\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"search\"\n                placeholder=\"...\"\n                onChange={(e) => setSearchValue(e.target.value)}\n              />\n            </FormControl>\n          </div>\n          <div className=\"text-center\">{loading ? loadingData(25) : \"\"}</div>\n          {setData?.rooms?.total > 0 ? (\n            <div className=\"listView mt-2\">\n              {setData?.rooms?.data?.map((data, index) => (\n                <>\n                  <b\n                    className=\"float-end\"\n                    style={{ marginTop: -8, marginRight: -10 }}\n                  >\n                    <i\n                      className=\"fa-solid fa-trash\"\n                      onClick={(e) => {\n                        _deleteRoom(data?._id);\n                      }}\n                      style={{ fontSize: 20, color: \"#9c9695\" }}\n                    ></i>\n                  </b>\n                  <a\n                    href=\"javascript:void(0)\"\n                    className=\"item pr-0 \"\n                    key={index}\n                  >\n                    <div className=\"detail col-md-10\">\n                      <div>\n                        <strong>\n                          : {data?.title_lao ? data?.title_lao : \"-\"}/\n                          {data?.title_eng ? data?.title_eng : \"-\"}\n                        </strong>\n                        <b className=\"colors\">\n                          :{\" \"}\n                          {currency(data?.priceFull ? data?.priceFull : \"-\")} /{\" \"}\n                          {currency(data?.priceFull ? data?.priceFull : \"-\")}\n                        </b>\n                        <br />\n                        <b className=\"colors\">\n                          :{\" \"}\n                          {currency(data?.priceFull ? data?.priceFull : \"-\")}\n                        </b>\n                        <br />\n                        <b className=\"colors\">\n                          : {data?.detail ? data?.detail : \"-\"}\n                        </b>\n                      </div>\n                    </div>\n                    <div className=\"right\">\n                      <EditRooms\n                        data={data}\n                        loadData={loadData}\n                        onSuccess={(item) => {\n                          setLoadData(item);\n                        }}\n                      />\n                    </div>\n                  </a>\n                </>\n              ))}\n            </div>\n          ) : (\n            <NoData loading={loading} />\n          )}\n          {setData?.typeRooms?.total > 100 && (\n            <Pagination\n              className=\"mt-2\"\n              pageTotal={countPage}\n              currentPage={numberPage}\n              onPageChange={(page) => {\n                history.push({\n                  search: setParams(`page`, page),\n                });\n              }}\n            />\n          )}\n        </div>\n        <div\n          style={{\n            position: \"fixed\",\n            // bottom: 1,\n            backgroundColor: \"#f5f7f7\",\n            zIndex: 99999,\n          }}\n          className=\"col-md-12 appBottomMenu\"\n        >\n          <AddRooms\n            loadData={loadData}\n            onSuccess={(item) => {\n              setLoadData(item);\n            }}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport useReactRouter from \"use-react-router\";\nimport { Button, Col } from \"react-bootstrap\";\nimport { OTHER } from \"../../routes/app\";\nimport TypeRoom from \"./type_room\";\nimport Rooms from \"./rooms\";\nimport \"./util/index.css\";\nimport { getLocalHouse } from \"../../helper\";\nexport default function TabMenu() {\n  const { history, location } = useReactRouter();\n  const params = new URLSearchParams(location?.search);\n  //useState\n  const [tabActive, setTabActive] = useState(\"Type\");\n  const [houseId, setLocalHouse] = useState(\"\");\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n\n  useEffect(() => {\n    const tab = params.get(\"tab\");\n    if (tab) {\n      setTabActive(tab);\n    }\n  }, [params]);\n\n  useEffect(() => {\n    const elmTab = document.querySelectorAll(\".nav-tabs-custom\")[0];\n    const elmItemTab = document.querySelectorAll(\"button.active\")[0];\n    if (elmTab && elmItemTab) {\n      const left = elmItemTab.offsetLeft - 10;\n      elmTab.scrollLeft = left;\n    }\n  }, [tabActive]);\n\n  return (\n    <>\n      <div className=\"appHeader text-light border-0 mr-0\">\n        <div style={{ flex: 1 }} className=\"text-left\">\n          <button\n            className=\"btn text-white\"\n            onClick={() => history.push(OTHER)}\n          >\n            <i className=\"fa fa-chevron-left fs-4\" />\n          </button>\n        </div>\n        {tabActive === \"Type\" ? (\n          <></>\n        ) : (\n          <>{houseId?.houseName ? houseId?.houseName : \"\"}</>\n        )}\n        <div\n          className=\"text-white pageTitle text-right text-nowrap pr-0\"\n          style={{ flex: 1 }}\n        ></div>\n      </div>\n      <div className=\"extraHeaderB\">\n        <div className=\"extraHeader pr-0 pl-0 nav-tabs-custom\">\n          <Button\n            className={`item-tab btn-block btn-lg  ${\n              tabActive === \"Type\" ? \"activeClick\" : \"\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=Type\" })}\n          >\n            \n          </Button>\n          <Button\n            className={`item-tab btn-block btn-lg mb-1  ${\n              tabActive === \"room\" ? \"activeClick\" : \"\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=room\" })}\n          >\n            \n          </Button>\n        </div>\n      </div>\n      <div id=\"appCapsule\" className=\"extra-header-activeClick\">\n        {tabActive === \"Type\" && <TypeRoom />}\n        {tabActive === \"room\" && <Rooms />}\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const ADD_PROVINCES = gql`\n  mutation CreateProvince($data: ProvinceInput!) {\n    createProvince(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_REPORT_BOOKING = gql`\n  query Bookings(\n    $where: BookingWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        _id\n        customer {\n          _id\n          fullName\n        }\n        house {\n          _id\n          houseName\n        }\n        room {\n          _id\n          title_lao\n        }\n        bookDate\n        bookTime\n        checkInAt\n        feeBooking\n        halfPriceTotal\n        fullPriceTotal\n      }\n    }\n  }\n`;\n\nexport const CLEAR_REDIS = gql`\n  mutation DeleteRedis($where: RedisWhereInput!) {\n    deleteRedis(where: $where) {\n      status\n    }\n  }\n`;\nexport const EDIT_PROVINCES = gql`\n  mutation UpdateProvince(\n    $data: ProvinceInput!\n    $where: ProvinceWhereInputOne!\n  ) {\n    updateProvince(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../../helper\";\nimport TypeHouse from \"../../booking/TypeHouse\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_REPORT_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  mr-4\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime ? data?.inTime : 0)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal ? data?.fullPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal ? data?.halfPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\"></p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-black me-1 border-top\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-primary\" />\n          \n        </button>\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  currency,\n  formatDateDash,\n  startOfMonth,\n  getLocalHouse,\n  createdAt_gte,\n  createdAt_lt,\n  setParams,\n  endOfMonth,\n} from \"../../../../helper\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\nimport SearchRoom from \"../../../../helper/components/SearchRoom\";\nimport LimitData from \"../../../../helper/controllers/LimitData\";\nimport DetailRoom from \"./DetailRoom\";\nexport default function ReportBooking() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const userState = getStaffLogin();\n  const userInfo = userState?.data;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [listRoom, setListRoom] = useState(\"\");\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [detailRoom, setDetailRoom] = useState();\n  const toDay = new Date();\n  const forMatDate = moment(toDay).format(\"YYYY-MM-DD\");\n  const [bookingDate_lt, setBookingDate_lt] = useState(forMatDate);\n  const [houseID, setHouseID] = useState(getLocalHouse());\n\n  const [getReportBooking, { data: resReportBooking, loading }] = useLazyQuery(\n    QUERY_REPORT_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(houseID?._id),\n    };\n    if (userInfo?.role === \"IT\" || userInfo?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    getReportBooking({\n      variables: {\n        where: {\n          ...whereData,\n          room: listRoom?._id ? listRoom?._id : undefined,\n          status: \"BOOKING\",\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n        },\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRow,\n    searchValue,\n    numberPage,\n    newLoadData,\n    listRoom,\n    houseID,\n    startDate,\n    endDate,\n  ]);\n\n  const _sumAll = resReportBooking?.bookings?.data;\n  const _sumFeeBooking = _.sumBy(_sumAll, \"feeBooking\");\n  //pageination\n  const countData = resReportBooking?.bookings?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n  const _onChangeRows = (e) => {\n    let _value = e?.target?.value;\n    history.push(`?rows=${_value}`);\n    setNumberRow(parseInt(_value));\n  };\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\"></h3>\n        </div>\n      </div>\n\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6 mb-2\">\n                      <div className=\"input-group\">\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={startDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`startDate`, e.target.value),\n                            });\n                          }}\n                        />\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={endDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`endDate`, e.target.value),\n                            });\n                          }}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"col-md-3\"\n                     style={{\n                      position: \"fixed\",\n                      zIndex: 100,\n                      top: 57,\n                    }}\n                    >\n                      <SearchRoom\n                        style={{ with: \"100%\", heigh: \"200px\" }}\n                        value={listRoom?._id}\n                        onChange={(obj) => {\n                          setListRoom(obj);\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"card-body \">\n                  <div className=\"table-responsive\">\n                    <table className=\"table table-striped table-sm\">\n                      <thead>\n                        <tr>\n                          <th className=\"text-nowrap\"></th>\n                          <th className=\"text-nowrap\"></th>\n                          <th className=\"text-nowrap text-end\"></th>\n                          <th className=\"text-nowrap text-center\"></th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {resReportBooking &&\n                          resReportBooking?.bookings?.data?.map(\n                            (item, index) => (\n                              <>\n                                <tr\n                                  key={index}\n                                  style={{\n                                    cursor: \"pointer\",\n                                  }}\n                                  className=\"text-black\"\n                                  onClick={() => setDetailRoom(item?._id)}\n                                >\n                                  <td className=\"text-nowrap\">{NO(index)}</td>\n                                  <td className=\"text-nowrap\">\n                                    {item?.room?.title_lao\n                                      ? item?.room?.title_lao\n                                      : \"-\"}\n                                  </td>\n                                  <td className=\"text-nowrap text-end\">\n                                    {item?.feeBooking\n                                      ? currency(item?.feeBooking)\n                                      : \"0\"}{\" \"}\n                                    \n                                  </td>\n                                  <td className=\"text-nowrap text-center\">\n                                    {item?.bookDate\n                                      ? formatDateDash(item?.bookDate)\n                                      : \"\"}\n                                    <i className=\"fa-solid fa-angle-right ms-1 text-black ms-2\" />\n                                  </td>\n                                </tr>\n                              </>\n                            )\n                          )}\n                        <tr\n                          className=\"bg-light\"\n                          style={{ backgroundColor: \"#d1fc97\" }}\n                        >\n                          <td\n                            className=\"text-nowrap text-center\"\n                            colSpan={2}\n                            style={{ textAlign: \"center\" }}\n                          >\n                            <h4></h4>\n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            <h4>{currency(_sumFeeBooking)} </h4>\n                          </td>\n                          <td></td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {resReportBooking?.bookings?.total > 100 && (\n          <Pagination\n            className=\"mt-2\"\n            pageTotal={countPage}\n            currentPage={numberPage}\n            onPageChange={(page) => {\n              history.push({\n                search: setParams(`page`, page),\n              });\n            }}\n          />\n        )}\n        <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const ADD_PROVINCES = gql`\n  mutation CreateProvince($data: ProvinceInput!) {\n    createProvince(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_REPORT_BOOKING = gql`\n  query Bookings(\n    $where: BookingWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        _id\n        customer {\n          _id\n          fullName\n        }\n        house {\n          _id\n          houseName\n        }\n        room {\n          _id\n          title_lao\n        }\n        bookDate\n        bookTime\n        checkInAt\n        feeBooking\n        halfPriceTotal\n        fullPriceTotal\n        incomeKIP\n        incomeTHB\n        incomeUSD\n      }\n    }\n  }\n`;\n\nexport const CLEAR_REDIS = gql`\n  mutation DeleteRedis($where: RedisWhereInput!) {\n    deleteRedis(where: $where) {\n      status\n    }\n  }\n`;\nexport const EDIT_PROVINCES = gql`\n  mutation UpdateProvince(\n    $data: ProvinceInput!\n    $where: ProvinceWhereInputOne!\n  ) {\n    updateProvince(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../../helper\";\nimport TypeHouse from \"../../booking/TypeHouse\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_REPORT_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  mr-4\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime ? data?.inTime : 0)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal ? data?.fullPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal ? data?.halfPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\"></p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-black me-1 border-top\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-primary\" />\n          \n        </button>\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  currency,\n  formatDateDash,\n  startOfMonth,\n  getLocalHouse,\n  createdAt_gte,\n  createdAt_lt,\n  setParams,\n  endOfMonth,\n} from \"../../../../helper\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\nimport SearchRoom from \"../../../../helper/components/SearchRoom\";\nimport LimitData from \"../../../../helper/controllers/LimitData\";\nimport DetailRoom from \"./DetailRoom\";\nexport default function ReportCheckIn() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const userState = getStaffLogin();\n  const userInfo = userState?.data;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [listRoom, setListRoom] = useState(\"\");\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [detailRoom, setDetailRoom] = useState();\n  const [houseID, setHouseID] = useState(getLocalHouse());\n\n  const [getReportBooking, { data: resReportBooking, loading }] = useLazyQuery(\n    QUERY_REPORT_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(houseID?._id),\n    };\n    if (userInfo?.role === \"IT\" || userInfo?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    getReportBooking({\n      variables: {\n        where: {\n          ...whereData,\n          room: listRoom?._id ? listRoom?._id : undefined,\n          status: \"CHECK_IN\",\n          checkInAt_gte: createdAt_gte(startDate),\n          checkInAt_lte: createdAt_lt(endDate),\n        },\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRow,\n    searchValue,\n    numberPage,\n    newLoadData,\n    listRoom,\n    houseID,\n    startDate,\n    endDate,\n  ]);\n\n  const _sumAll = resReportBooking?.bookings?.data;\n  const _sumFeeBooking = _.sumBy(_sumAll, \"feeBooking\");\n  const _sumIncomeKip = _.sumBy(_sumAll, \"incomeKIP\");\n  const _sumIncomeTHB = _.sumBy(_sumAll, \"incomeTHB\");\n  const _sumIncomeUSD = _.sumBy(_sumAll, \"incomeUSD\");\n  //pageination\n  const countData = resReportBooking?.bookings?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n  const _onChangeRows = (e) => {\n    let _value = e?.target?.value;\n    history.push(`?rows=${_value}`);\n    setNumberRow(parseInt(_value));\n  };\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\">\n            \n          </h3>\n        </div>\n      </div>\n\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6 mb-2\">\n                      <div className=\"input-group\">\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={startDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`startDate`, e.target.value),\n                            });\n                          }}\n                        />\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={endDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`endDate`, e.target.value),\n                            });\n                          }}\n                        />\n                      </div>\n                    </div>\n                    <div\n                      className=\"col-md-3\"\n                      style={{\n                        position: \"fixed\",\n                        zIndex: 100,\n                        top: 57,\n                      }}\n                    >\n                      <SearchRoom\n                        style={{ with: \"100%\", heigh: \"200px\" }}\n                        value={listRoom?._id}\n                        onChange={(obj) => {\n                          setListRoom(obj);\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"card-body \">\n                  <div className=\"table-responsive\">\n                    <table className=\"table table-striped table-sm\">\n                      <thead>\n                        <tr>\n                          <th className=\"text-nowrap\"></th>\n                          <th className=\"text-nowrap\"></th>\n                          <th className=\"text-nowrap text-end\"></th>\n                          <th className=\"text-nowrap text-center\"></th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {resReportBooking &&\n                          resReportBooking?.bookings?.data?.map(\n                            (item, index) => (\n                              <>\n                                <tr\n                                  key={index}\n                                  style={{\n                                    cursor: \"pointer\",\n                                  }}\n                                  className=\"text-black\"\n                                  onClick={() => setDetailRoom(item?._id)}\n                                >\n                                  <td className=\"text-nowrap\">{NO(index)}</td>\n                                  <td className=\"text-nowrap\">\n                                    {item?.room?.title_lao\n                                      ? item?.room?.title_lao\n                                      : \"-\"}\n                                  </td>\n                                  <td className=\"text-nowrap text-end\">\n                                    {item?.bookDate ? (\n                                      <>\n                                        {item?.feeBooking\n                                          ? currency(item?.feeBooking)\n                                          : \"0\"}{\" \"}\n                                        \n                                      </>\n                                    ) : (\n                                      <>\n                                        {item?.incomeKIP > 0 && (\n                                          <>\n                                            {item?.incomeKIP\n                                              ? currency(item?.incomeKIP)\n                                              : \"0\"}{\" \"}\n                                            \n                                            <br />\n                                          </>\n                                        )}\n                                        {item?.incomeTHB > 0 && (\n                                          <>\n                                            {item?.incomeTHB\n                                              ? currency(item?.incomeTHB)\n                                              : \"0\"}{\" \"}\n                                            \n                                            <br />\n                                          </>\n                                        )}\n                                        {item?.incomeUSD > 0 && (\n                                          <>\n                                            {item?.incomeUSD\n                                              ? currency(item?.incomeUSD)\n                                              : \"0\"}{\" \"}\n                                            \n                                          </>\n                                        )}\n                                      </>\n                                    )}\n                                  </td>\n                                  <td className=\"text-nowrap text-center\">\n                                    {item?.bookDate\n                                      ? formatDateDash(item?.bookDate)\n                                      : \"\"}\n                                    <i className=\"fa-solid fa-angle-right ms-1 text-black ms-2\" />\n                                  </td>\n                                </tr>\n                              </>\n                            )\n                          )}\n                        <tr\n                          className=\"bg-light\"\n                          style={{ backgroundColor: \"#d1fc97\" }}\n                        >\n                          <td\n                            className=\"text-nowrap text-center\"\n                            colSpan={2}\n                            style={{ textAlign: \"center\" }}\n                          >\n                            <h4></h4>\n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            \n                            <h4>{currency(_sumFeeBooking)} </h4>\n                            <h4>{currency(_sumIncomeKip)} </h4>\n                            <h4>{currency(_sumIncomeTHB)} </h4>\n                            <h4>{currency(_sumIncomeUSD)} </h4>\n                          </td>\n                          <td></td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {resReportBooking?.bookings?.total > 100 && (\n          <Pagination\n            className=\"mt-2\"\n            pageTotal={countPage}\n            currentPage={numberPage}\n            onPageChange={(page) => {\n              history.push({\n                search: setParams(`page`, page),\n              });\n            }}\n          />\n        )}\n        <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const ADD_PROVINCES = gql`\n  mutation CreateProvince($data: ProvinceInput!) {\n    createProvince(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_REPORT_BOOKING = gql`\n  query Bookings(\n    $where: BookingWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        _id\n        customer {\n          _id\n          fullName\n        }\n        house {\n          _id\n          houseName\n        }\n        room {\n          _id\n          title_lao\n        }\n        bookDate\n        bookTime\n        checkInAt\n        feeBooking\n        halfPriceTotal\n        fullPriceTotal\n        incomeKIP\n        incomeTHB\n        incomeUSD\n      }\n    }\n  }\n`;\n\nexport const CLEAR_REDIS = gql`\n  mutation DeleteRedis($where: RedisWhereInput!) {\n    deleteRedis(where: $where) {\n      status\n    }\n  }\n`;\nexport const EDIT_PROVINCES = gql`\n  mutation UpdateProvince(\n    $data: ProvinceInput!\n    $where: ProvinceWhereInputOne!\n  ) {\n    updateProvince(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../../helper\";\nimport TypeHouse from \"../../booking/TypeHouse\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_REPORT_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  mr-4\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime ? data?.inTime : 0)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal ? data?.fullPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal ? data?.halfPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\"></p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-black me-1 border-top\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-primary\" />\n          \n        </button>\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  currency,\n  formatDateDash,\n  startOfMonth,\n  getLocalHouse,\n  createdAt_gte,\n  createdAt_lt,\n  setParams,\n  endOfMonth,\n} from \"../../../../helper\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\nimport SearchRoom from \"../../../../helper/components/SearchRoom\";\nimport LimitData from \"../../../../helper/controllers/LimitData\";\nimport DetailRoom from \"./DetailRoom\";\nexport default function ReportCheckOut() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const userState = getStaffLogin();\n  const userInfo = userState?.data;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [listRoom, setListRoom] = useState(\"\");\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [detailRoom, setDetailRoom] = useState();\n  const [houseID, setHouseID] = useState(getLocalHouse());\n\n  const [getReportBooking, { data: resReportBooking, loading }] = useLazyQuery(\n    QUERY_REPORT_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(houseID?._id),\n    };\n    if (userInfo?.role === \"IT\" || userInfo?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    getReportBooking({\n      variables: {\n        where: {\n          ...whereData,\n          room: listRoom?._id ? listRoom?._id : undefined,\n          status: \"CHECK_OUT\",\n          checkOutAt_gte: createdAt_gte(startDate),\n          checkOutAt_lte: createdAt_lt(endDate),\n        },\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRow,\n    searchValue,\n    numberPage,\n    newLoadData,\n    listRoom,\n    houseID,\n    startDate,\n    endDate,\n  ]);\n\n  const _sumAll = resReportBooking?.bookings?.data;\n  const _sumFeeBooking = _.sumBy(_sumAll, \"feeBooking\");\n  //pageination\n  const countData = resReportBooking?.bookings?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n  const _onChangeRows = (e) => {\n    let _value = e?.target?.value;\n    history.push(`?rows=${_value}`);\n    setNumberRow(parseInt(_value));\n  };\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\">\n            \n          </h3>\n        </div>\n      </div>\n\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6 mb-2\">\n                      <div className=\"input-group\">\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={startDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`startDate`, e.target.value),\n                            });\n                          }}\n                        />\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={endDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`endDate`, e.target.value),\n                            });\n                          }}\n                        />\n                      </div>\n                    </div>\n                    <div\n                      className=\"col-md-3\"\n                      style={{\n                        position: \"fixed\",\n                        zIndex: 100,\n                        top: 57,\n                      }}\n                    >\n                      <SearchRoom\n                        style={{ with: \"100%\", heigh: \"200px\" }}\n                        value={listRoom?._id}\n                        onChange={(obj) => {\n                          setListRoom(obj);\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"card-body \">\n                  <div className=\"table-responsive\">\n                    <table className=\"table table-striped table-sm\">\n                      <thead>\n                        <tr>\n                          <th className=\"text-nowrap\"></th>\n                          <th className=\"text-nowrap\"></th>\n                          <th className=\"text-nowrap text-end\"></th>\n                          <th className=\"text-nowrap text-center\"></th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {resReportBooking &&\n                          resReportBooking?.bookings?.data?.map(\n                            (item, index) => (\n                              <>\n                                <tr\n                                  key={index}\n                                  style={{\n                                    cursor: \"pointer\",\n                                  }}\n                                  className=\"text-black\"\n                                  onClick={() => setDetailRoom(item?._id)}\n                                >\n                                  <td className=\"text-nowrap\">{NO(index)}</td>\n                                  <td className=\"text-nowrap\">\n                                    {item?.room?.title_lao\n                                      ? item?.room?.title_lao\n                                      : \"-\"}\n                                  </td>\n                                  <td className=\"text-nowrap text-end\">\n                                    {item?.bookDate ? (\n                                      <>\n                                        {item?.feeBooking\n                                          ? currency(item?.feeBooking)\n                                          : \"0\"}{\" \"}\n                                        \n                                      </>\n                                    ) : (\n                                      <>\n                                        {item?.incomeKIP > 0 && (\n                                          <>\n                                            {item?.incomeKIP\n                                              ? currency(item?.incomeKIP)\n                                              : \"0\"}{\" \"}\n                                            \n                                            <br />\n                                          </>\n                                        )}\n                                        {item?.incomeTHB > 0 && (\n                                          <>\n                                            {item?.incomeTHB\n                                              ? currency(item?.incomeTHB)\n                                              : \"0\"}{\" \"}\n                                            \n                                            <br />\n                                          </>\n                                        )}\n                                        {item?.incomeUSD > 0 && (\n                                          <>\n                                            {item?.incomeUSD\n                                              ? currency(item?.incomeUSD)\n                                              : \"0\"}{\" \"}\n                                            \n                                          </>\n                                        )}\n                                      </>\n                                    )}\n                                  </td>\n                                  <td className=\"text-nowrap text-center\">\n                                    {item?.bookDate\n                                      ? formatDateDash(item?.bookDate)\n                                      : \"\"}\n                                    <i className=\"fa-solid fa-angle-right ms-1 text-black ms-2\" />\n                                  </td>\n                                </tr>\n                              </>\n                            )\n                          )}\n                        <tr\n                          className=\"bg-light\"\n                          style={{ backgroundColor: \"#d1fc97\" }}\n                        >\n                          <td\n                            className=\"text-nowrap text-center\"\n                            colSpan={2}\n                            style={{ textAlign: \"center\" }}\n                          >\n                            <h4></h4>\n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            <h4>{currency(_sumFeeBooking)} </h4>\n                          </td>\n                          <td></td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {resReportBooking?.bookings?.total > 100 && (\n          <Pagination\n            className=\"mt-2\"\n            pageTotal={countPage}\n            currentPage={numberPage}\n            onPageChange={(page) => {\n              history.push({\n                search: setParams(`page`, page),\n              });\n            }}\n          />\n        )}\n        <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const ADD_PROVINCES = gql`\n  mutation CreateProvince($data: ProvinceInput!) {\n    createProvince(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_REPORT_BOOKING = gql`\n  query Bookings(\n    $where: BookingWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        _id\n        customer {\n          _id\n          fullName\n        }\n        house {\n          _id\n          houseName\n        }\n        room {\n          _id\n          title_lao\n        }\n        fee\n        bookDate\n        bookTime\n        checkInAt\n        feeBooking\n        halfPriceTotal\n        fullPriceTotal\n      }\n    }\n  }\n`;\n\nexport const CLEAR_REDIS = gql`\n  mutation DeleteRedis($where: RedisWhereInput!) {\n    deleteRedis(where: $where) {\n      status\n    }\n  }\n`;\nexport const EDIT_PROVINCES = gql`\n  mutation UpdateProvince(\n    $data: ProvinceInput!\n    $where: ProvinceWhereInputOne!\n  ) {\n    updateProvince(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../../helper\";\nimport TypeHouse from \"../../booking/TypeHouse\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_REPORT_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  mr-4\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span></span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime ? data?.inTime : 0)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal ? data?.fullPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal ? data?.halfPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span></span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\"></p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-black me-1 border-top\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-primary\" />\n          \n        </button>\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  currency,\n  formatDateDash,\n  startOfMonth,\n  getLocalHouse,\n  createdAt_gte,\n  createdAt_lt,\n  setParams,\n  endOfMonth,\n} from \"../../../../helper\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\nimport SearchRoom from \"../../../../helper/components/SearchRoom\";\nimport LimitData from \"../../../../helper/controllers/LimitData\";\nimport DetailRoom from \"./DetailRoom\";\nexport default function DividendReport() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const userState = getStaffLogin();\n  const userInfo = userState?.data;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [listRoom, setListRoom] = useState(\"\");\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [detailRoom, setDetailRoom] = useState();\n  const [houseID, setHouseID] = useState(getLocalHouse());\n\n  const [getReportBooking, { data: resReportBooking, loading }] = useLazyQuery(\n    QUERY_REPORT_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(houseID?._id),\n    };\n    if (userInfo?.role === \"IT\" || userInfo?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    getReportBooking({\n      variables: {\n        where: {\n          ...whereData,\n          room: listRoom?._id ? listRoom?._id : undefined,\n          status: \"CHECK_OUT\",\n          checkOutAt_gte: createdAt_gte(startDate),\n          checkOutAt_lte: createdAt_lt(endDate),\n        },\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRow,\n    searchValue,\n    numberPage,\n    newLoadData,\n    listRoom,\n    houseID,\n    startDate,\n    endDate,\n  ]);\n  const _sumAll = resReportBooking?.bookings?.data;\n  const _sumFee = _.sumBy(_sumAll, \"fee\");\n  //pageination\n  const countData = resReportBooking?.bookings?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n  const _onChangeRows = (e) => {\n    let _value = e?.target?.value;\n    history.push(`?rows=${_value}`);\n    setNumberRow(parseInt(_value));\n  };\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\">\n            \n          </h3>\n        </div>\n      </div>\n\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6 mb-2\">\n                      <div className=\"input-group\">\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={startDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`startDate`, e.target.value),\n                            });\n                          }}\n                        />\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={endDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`endDate`, e.target.value),\n                            });\n                          }}\n                        />\n                      </div>\n                    </div>\n                    <div\n                      className=\"col-md-3\"\n                      style={{\n                        position: \"fixed\",\n                        zIndex: 100,\n                        top: 57,\n                      }}\n                    >\n                      <SearchRoom\n                        style={{ with: \"100%\", heigh: \"200px\" }}\n                        value={listRoom?._id}\n                        onChange={(obj) => {\n                          setListRoom(obj);\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"card-body \">\n                  <div className=\"table-responsive\">\n                    <table className=\"table table-striped table-sm\">\n                      <thead>\n                        <tr>\n                          <th className=\"text-nowrap\"></th>\n                          <th className=\"text-nowrap\"></th>\n                          <th className=\"text-nowrap\"></th>\n                          <th className=\"text-nowrap text-end\"></th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {resReportBooking &&\n                          resReportBooking?.bookings?.data?.map(\n                            (item, index) => (\n                              <>\n                                <tr\n                                  key={index}\n                                  style={{\n                                    cursor: \"pointer\",\n                                  }}\n                                  className=\"text-black\"\n                                  onClick={() => setDetailRoom(item?._id)}\n                                >\n                                  <td className=\"text-nowrap\">{NO(index)}</td>\n                                  <td className=\"text-nowrap\">\n                                    {item?.house?.houseName\n                                      ? item?.house?.houseName\n                                      : \"-\"}\n                                  </td>\n                                  <td className=\"text-nowrap\">\n                                    {item?.room?.title_lao\n                                      ? item?.room?.title_lao\n                                      : \"-\"}\n                                  </td>\n\n                                  <td className=\"text-nowrap text-end\">\n                                    {item?.fee ? currency(item?.fee) : \"0\"}\n                                    \n                                  </td>\n                                 \n                                </tr>\n                              </>\n                            )\n                          )}\n                        <tr\n                          className=\"bg-light\"\n                          style={{ backgroundColor: \"#d1fc97\" }}\n                        >\n                          <td\n                            className=\"text-nowrap text-center\"\n                            colSpan={2}\n                            style={{ textAlign: \"center\" }}\n                          >\n                            <h4></h4>\n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            <h4>{currency(_sumFee)} </h4>\n                          </td>\n                          <td></td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {resReportBooking?.bookings?.total > 100 && (\n          <Pagination\n            className=\"mt-2\"\n            pageTotal={countPage}\n            currentPage={numberPage}\n            onPageChange={(page) => {\n              history.push({\n                search: setParams(`page`, page),\n              });\n            }}\n          />\n        )}\n        <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const ADD_PROVINCES = gql`\n  mutation CreateProvince($data: ProvinceInput!) {\n    createProvince(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_REPORT_BOOKING = gql`\n  query Bookings(\n    $where: BookingWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        _id\n        customer {\n          _id\n          fullName\n        }\n        house {\n          _id\n          houseName\n        }\n        room {\n          _id\n          title_lao\n        }\n        fee\n        bookDate\n        bookTime\n        checkInAt\n        feeBooking\n        halfPriceTotal\n        fullPriceTotal\n        incomeKIP\n        incomeTHB\n        incomeUSD\n      }\n    }\n  }\n`;\n\nexport const CLEAR_REDIS = gql`\n  mutation DeleteRedis($where: RedisWhereInput!) {\n    deleteRedis(where: $where) {\n      status\n    }\n  }\n`;\nexport const EDIT_PROVINCES = gql`\n  mutation UpdateProvince(\n    $data: ProvinceInput!\n    $where: ProvinceWhereInputOne!\n  ) {\n    updateProvince(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\nexport const QUERY_SUM_TOTAL = gql`\n  query SummaryBookingTotal($where: BookingWhereInput) {\n    summaryBookingTotal(where: $where) {\n      bookingTotal\n      feeBookingAmount\n      halfPriceTotal\n      fullPriceTotal\n      incomeKIP\n      incomeTHB\n      incomeUSD\n      exChange\n    }\n  }\n`;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { Modal, Row } from \"react-bootstrap\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport _ from \"lodash\";\nimport \"./utils/index.css\";\nimport moment from \"moment\";\nimport logo from \"../../../../img/app-icon.png\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  currency,\n  formatDateDash,\n  formatDateTime,\n  formateDateSlash,\n  houseStatus,\n} from \"../../../../helper\";\nimport { getStaffLogin } from \"../../../../helper\";\nfunction Export({ _Data }) {\n  const jsonObj = getStaffLogin();\n  const userInfo = jsonObj?.data;\n  const inputRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => inputRef.current,\n  });\n  let today = moment().format(\"YYYY-MM-DD\");\n  const [show, setShow] = useState(false);\n  const { history, location, match } = useReactRouter();\n  const queryParams = new URLSearchParams(location.search);\n\n  return (\n    <React.Fragment>\n      <div className=\"col-md-12 mb-1\">\n        <button\n          type=\"button\"\n          className=\"btn btn-dark float-right mb-1\"\n          width=\"10px\"\n          onClick={() => setShow(true)}\n        >\n          <i className=\"fas fa-print\" />\n        </button>\n      </div>\n\n      <Modal show={show} onHide={() => setShow(false)} animation={false}>\n        <Modal.Header>\n          \n          <a\n            href=\"javaScript:void(0)\"\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\" }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <Modal.Body className=\"modal-container\">\n          <Row>\n            <div className=\"col-md-12 \">\n              <button\n                onClick={handlePrint}\n                type=\"button\"\n                className=\"btn btn-dark me-2 float-start\"\n              >\n                <i className=\"icon-print mr-1\"></i> \n              </button>\n            </div>\n          </Row>\n          <div style={{ paddingBottom: \"10px\" }} />\n          <div className=\"table-responsive\">\n            <table\n              className=\"table-sm\"\n              border=\"0\"\n              style={{\n                marginTop: 20,\n                width: \"100%\",\n                fontFamily: \"Phetsarath OT\",\n                backgroundColor: \"#ffffff\",\n              }}\n              ref={inputRef}\n            >\n              <thead>\n                <tr>\n                  <td colSpan={3} style={{ textAlign: \"left\", color: \"black\" }}>\n                    <img\n                      src={logo}\n                      style={{\n                        width: 80,\n                        marginBottom: 1,\n                        marginTop: 20,\n                      }}\n                      alt=\"\"\n                      id=\"table-to-xls\"\n                    />\n                    <br />\n                    :   \n                    <br />\n                    :\n                  </td>\n                  <td colSpan={6} className=\"text-end text-black\">\n                    :{formateDateSlash(today)}\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={8}>\n                    <h3 className=\"text-center\"></h3>\n                    <span className=\"text-center text-black\">\n                      : {userInfo?.firstName ? userInfo?.firstName : \"\"}{\" \"}\n                      {userInfo?.lastName ? userInfo?.lastName : \"\"}\n                    </span>\n                  </td>\n                </tr>\n                <tr style={{ backgroundColor: \"#f54f02\", color: \"white\" }}>\n                  <td className=\"textCenter text-nowrap\"></td>\n                  <td className=\"textCenter text-nowrap\"></td>\n                  <td className=\"textCenter text-nowrap\"></td>\n                  <td className=\"textCenter text-nowrap\"></td>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td className=\"text-nowrap text-center border text-black\">\n                    {currency(\n                      _Data?.summaryBookingTotal?.bookingTotal\n                        ? _Data?.summaryBookingTotal?.bookingTotal\n                        : 0\n                    )}\n                  </td>\n                  <td className=\"text-nowrap border text-black text-center\">\n                    {currency(\n                      _Data?.summaryBookingTotal?.feeBookingAmount\n                        ? _Data?.summaryBookingTotal?.feeBookingAmount\n                        : 0\n                    )}\n                  </td>\n                  <td className=\"text-nowrap border text-end text-black\">\n                    {currency(\n                      _Data?.summaryBookingTotal?.halfPriceTotal\n                        ? _Data?.summaryBookingTotal?.halfPriceTotal\n                        : 0\n                    )}{\" \"}\n                    \n                  </td>\n                  <td className=\"text-nowrap border text-end text-black\">\n                    {currency(\n                      _Data?.summaryBookingTotal?.fullPriceTotal\n                        ? _Data?.summaryBookingTotal?.fullPriceTotal\n                        : 0\n                    )}{\" \"}\n                    \n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={1} className=\" text-center p-4\">\n                    <h4 className=\"text-center\"></h4>\n                  </td>\n                  <td className=\" text-end p-4\" colSpan={3}>\n                    <h4></h4>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </Modal.Body>\n      </Modal>\n    </React.Fragment>\n  );\n}\nexport default Export;\n","import React, { useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getStaffLogin,\n  currency,\n  startOfMonth,\n  getLocalHouse,\n  createdAt_gte,\n  createdAt_lt,\n  endOfMonth,\n  setParams,\n} from \"../../../../helper\";\n\nimport { QUERY_SUM_TOTAL } from \"./apollo\";\n\nimport _ from \"lodash\";\nimport Export from \"./Export\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\nimport SearchRoom from \"../../../../helper/components/SearchRoom\";\nexport default function SumTotalBooking() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const userState = getStaffLogin();\n  const userInfo = userState?.data;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [getRoomValue, setGetRoomValue] = useState(\"\");\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [getReportBooking, { data: resReportSumBooking, loading }] =\n    useLazyQuery(QUERY_SUM_TOTAL, { fetchPolicy: \"cache-and-network\" });\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(localHouse?._id),\n    };\n    if (userInfo?.role === \"IT\" || userInfo?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n\n    getReportBooking({\n      variables: {\n        where: {\n          ...whereData,\n          checkInAt_gte: createdAt_gte(startDate),\n          checkInAt_lte: createdAt_lt(endDate),\n        },\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRow,\n    searchValue,\n    numberPage,\n    newLoadData,\n    getRoomValue,\n    localHouse,\n    startDate,\n    endDate,\n  ]);\n  //pageination\n  const countData = resReportSumBooking?.bookingTotal?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n  const _onChangeRows = (e) => {\n    let _value = e?.target?.value;\n    history.push(`?rows=${_value}`);\n    setNumberRow(parseInt(_value));\n  };\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\"></h3>\n        </div>\n      </div>\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6 mb-2\">\n                      <div className=\"input-group\">\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={startDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`startDate`, e.target.value),\n                            });\n                          }}\n                        />\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={endDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`endDate`, e.target.value),\n                            });\n                          }}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"col-md-3\">\n                      <SearchRoom\n                        style={{ with: \"100%\", heigh: \"200px\" }}\n                        value={getRoomValue?._id}\n                        onChange={(obj) => {\n                          setGetRoomValue(obj);\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"card-body\">\n                  <div className=\"table-responsive\">\n                    <table className=\"table table-striped table-sm\">\n                      <thead>\n                        <tr>\n                          <th className=\"text-nowrap\"></th>\n                          <th className=\"text-nowrap text-center\"></th>\n                          <th className=\"text-nowrap text-center\">\n                            \n                          </th>\n                          <th className=\"text-nowrap text-end\"></th>\n                          <th className=\"text-nowrap text-end\"></th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr>\n                          <td className=\"text-nowrap\">1</td>\n                          <td className=\"text-nowrap text-end\">\n                            {resReportSumBooking?.summaryBookingTotal\n                              ?.bookingTotal\n                              ? currency(\n                                  resReportSumBooking?.summaryBookingTotal\n                                    ?.bookingTotal\n                                )\n                              : 0}{\" \"}\n                            \n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            {resReportSumBooking?.summaryBookingTotal\n                              ?.feeBookingAmount\n                              ? currency(\n                                  resReportSumBooking?.summaryBookingTotal\n                                    ?.feeBookingAmount\n                                )\n                              : 0}{\" \"}\n                            \n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            {resReportSumBooking?.summaryBookingTotal\n                              ?.halfPriceTotal\n                              ? currency(\n                                  resReportSumBooking?.summaryBookingTotal\n                                    ?.halfPriceTotal\n                                )\n                              : 0}{\" \"}\n                            \n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            {resReportSumBooking?.summaryBookingTotal\n                              ?.fullPriceTotal\n                              ? currency(\n                                  resReportSumBooking?.summaryBookingTotal\n                                    ?.fullPriceTotal\n                                )\n                              : 0}{\" \"}\n                            \n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                  {resReportSumBooking?.bookings?.total > 100 && (\n                    <Pagination\n                      className=\"mt-2\"\n                      pageTotal={countPage}\n                      currentPage={numberPage}\n                      onPageChange={(page) => {\n                        history.push({\n                          search: setParams(`page`, page),\n                        });\n                      }}\n                    />\n                  )}\n                </div>\n                <div\n                  style={{\n                    position: \"fixed\",\n                    bottom: 15,\n                    right: 25,\n                    opacity: 0.7,\n                  }}\n                >\n                  <Export _Data={resReportSumBooking} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport useReactRouter from \"use-react-router\";\nimport { Button, Col } from \"react-bootstrap\";\nimport { OTHER } from \"../../../routes/app\";\nimport { getLocalHouse } from \"../../../helper\";\nimport \"./util/index.css\";\nimport ReportBooking from \"./reportBooking\";\nimport ReportCheckIn from \"./reportCheckIn\";\nimport ReportCheckOut from \"./reportCheckOut\";\nimport DividendReport from \"./dividend_report\";\nimport SumTotalBooking from \"./sumTotalBooking\";\nexport default function TabMenuIncome() {\n  const { history, location } = useReactRouter();\n  const params = new URLSearchParams(location?.search);\n  //useState\n  const [tabActive, setTabActive] = useState(\"reportBooking\");\n  const [houseId, setLocalHouse] = useState(\"\");\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n\n  useEffect(() => {\n    const tab = params.get(\"tab\");\n    if (tab) {\n      setTabActive(tab);\n    }\n  }, [params]);\n\n  useEffect(() => {\n    const elmTab = document.querySelectorAll(\".nav-tabs-custom\")[0];\n    const elmItemTab = document.querySelectorAll(\"button.active\")[0];\n    if (elmTab && elmItemTab) {\n      const left = elmItemTab.offsetLeft - 10;\n      elmTab.scrollLeft = left;\n    }\n  }, [tabActive]);\n\n  return (\n    <>\n      <div className=\"appHeader text-light border-0 mr-0\">\n        <div style={{ flex: 1 }} className=\"text-left\">\n          <button\n            className=\"btn text-white\"\n            onClick={() => history.push(OTHER)}\n          >\n            <i className=\"fa fa-chevron-left fs-4\" />\n          </button>\n        </div>\n        {houseId?.houseName ? houseId?.houseName : \"\"}\n        <div\n          className=\"text-white pageTitle text-right text-nowrap pr-0\"\n          style={{ flex: 1 }}\n        ></div>\n      </div>\n      <div className=\"extraHeaders\">\n        <div className=\"extraHeader pr-0 pl-0 nav-tabs-custom\">\n          <Button\n            className={`item-tab ${\n              tabActive === \"reportBooking\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=reportBooking\" })}\n          >\n            \n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"reportAll\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=reportAll\" })}\n          >\n            \n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"checkout\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=checkout\" })}\n          >\n            \n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"dividendReport\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=dividendReport\" })}\n          >\n            \n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"sumTotalBooking\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=sumTotalBooking\" })}\n          >\n            \n          </Button>\n        </div>\n      </div>\n      <div id=\"appCapsule\" className=\"extra-header-activeClick\">\n        {tabActive === \"reportBooking\" && <ReportBooking />}\n        {tabActive === \"reportAll\" && <ReportCheckIn />}\n        {tabActive === \"checkout\" && <ReportCheckOut />}\n        {tabActive === \"dividendReport\" &&<DividendReport />}\n        {tabActive === \"sumTotalBooking\" &&<SumTotalBooking />}\n      </div>\n    </>\n  );\n}\n","import React, { useContext, useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport HomePage from \"../pages/home/index\";\nimport Login from \"../pages/login/Login\";\nimport { AppContext } from \"../App\";\nimport { TOKEN } from \"../helper\";\nimport * as ROUTES from \"./app\";\nimport Profile from \"../pages/profile/Profile\";\nimport Other from \"../pages/other/TabMenuOther\";\nimport TabMenuOther from \"../pages/other/TabMenuOther\";\nimport Hotel from \"../pages/other/hotel\";\nimport PeopleCheckout from \"../pages/other/PeopleCheckout\";\nimport Booking from \"../pages/other/booking\";\nimport BookingRequestScreen from \"../pages/other/bookingRequest\";\nimport BookingCancel from \"../pages/other/cancel\";\nimport SettingsScreen from \"../pages/settings\";\nimport RateExChange from \"../pages/rateExchange\";\nimport TabMenu from \"../pages/management_house/TabMenu\";\nimport TabMenuIncome from \"../pages/other/reportIncome/TabMenuIncome\";\n\nexport default function Routes() {\n  const { userDispatch } = useContext(AppContext);\n  const _local = localStorage.getItem(TOKEN);\n\n  useEffect(() => {\n    if (_local) {\n      const data = JSON.parse(_local);\n      userDispatch({ type: \"landing\", payload: data });\n    }\n  }, [_local]);\n\n  return (\n    <>\n      <Router>\n        <>\n          <Switch>\n            {!_local ? (\n              <>\n                <Route exact path=\"/\">\n                  <Redirect to={ROUTES.LOGIN} />\n                </Route>\n                <Route\n                  exact\n                  path={ROUTES.LOGIN}\n                  component={(props) => <Login {...props} />}\n                />\n                <Route\n                  exact\n                  path=\"/\"\n                  component={(props) => <Login {...props} />}\n                />\n              </>\n            ) : (\n              <>\n                <Route exact path=\"/\">\n                  <Redirect to=\"/home\" />\n                </Route>\n                <Route\n                  exact\n                  path={`${ROUTES.OTHER}`}\n                  component={(props) => <TabMenuOther {...props} />}\n                />\n\n                <Route\n                  exact\n                  path={`${ROUTES.PROFILES}`}\n                  component={(props) => <Profile {...props} />}\n                />\n                {/* hotel */}\n                <Route\n                  exact\n                  path={`${ROUTES.HOTEL}/:_id`}\n                  component={(props) => <Hotel {...props} />}\n                />\n                <Route\n                  exact\n                  path={`${ROUTES.HOTEL_CHECKOUT}`}\n                  component={(props) => <PeopleCheckout {...props} />}\n                />\n                {/* booking */}\n                <Route\n                  exact\n                  path={`${ROUTES.BOOKING}/:_id`}\n                  component={(props) => <Booking {...props} />}\n                />\n                <PrivateRoute\n                  path={`${ROUTES.REQUEST_BOOKING_SCREEN}/:_id`}\n                  exact\n                  component={(props) => <BookingRequestScreen {...props} />}\n                />\n                <PrivateRoute\n                  path={`${ROUTES.BOOKING_CANCEL}/:_id`}\n                  exact\n                  component={(props) => <BookingCancel {...props} />}\n                />\n                {/* setting */}\n                <PrivateRoute\n                  path={`${ROUTES.SETTING}/:_id`}\n                  exact\n                  component={(props) => <SettingsScreen {...props} />}\n                />\n                {/* rateEx */}\n                <PrivateRoute\n                  path={`${ROUTES.RATE_EXCHANGE_SCREEN}/:page`}\n                  exact\n                  component={(props) => <RateExChange {...props} />}\n                />\n                {/* managementhouse*/}\n                <PrivateRoute\n                  path={`${ROUTES.TAB_MENU}/:page`}\n                  exact\n                  component={(props) => <TabMenu {...props} />}\n                />\n                <PrivateRoute\n                  path={`${ROUTES.TAB_MENU_INCOME}/:page`}\n                  exact\n                  component={(props) => <TabMenuIncome {...props} />}\n                />\n\n                <Route\n                  render={({ location, history }) => (\n                    <>\n                      <PrivateRoute\n                        path={\"/home\"}\n                        exact\n                        component={(props) => <HomePage />}\n                      />\n                    </>\n                  )}\n                />\n              </>\n            )}\n          </Switch>\n        </>\n      </Router>\n    </>\n  );\n}\n","export const userReducer = (state, action) => {\r\n  if (action.type === \"landing\") {\r\n    return action.payload;\r\n  }\r\n  if (action.type === \"logout\") {\r\n    return null;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const pageTitleReducer = (state, action) => {\r\n  if (action) {\r\n    return action;\r\n  }\r\n  return state;\r\n};\r\nexport const tabController = (state, action) => {\r\n  if (action.type === \"tab\") {\r\n    return action.payload;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const dateReducer = (state, action) => {\r\n  if (action) {\r\n    return action.payload;\r\n  }\r\n  return state;\r\n};","import React, { useReducer, useState } from \"react\";\r\nimport \"moment/locale/lo\";\r\nimport \"./index.css\";\r\nimport { clearLocalStorage, TOKEN } from \"./helper\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink,\r\n  from,\r\n} from \"@apollo/client\";\r\nimport { setContext } from \"@apollo/client/link/context\";\r\nimport { onError } from \"@apollo/client/link/error\";\r\nimport Routes from \"./routes\";\r\nimport { pageTitleReducer, userReducer, dateReducer } from \"./store\";\r\nimport { LOGIN } from \"./routes/app\";\r\nimport Notiflix from \"notiflix\";\r\nconst api = \"https://api.bit-houses.com/graphql\";\r\nconst AppContext = React.createContext();\r\nexport default function App() {\r\n  const [userState, userDispatch] = useReducer(userReducer, null);\r\n  const [titleState, titleDispatch] = useReducer(pageTitleReducer, null);\r\n  const [dateState, dateDispatch] = useReducer(dateReducer, {\r\n    startDate: new Date(),\r\n    endDate: new Date(),\r\n  });\r\n\r\n  const authLink = setContext((_, { headers }) => {\r\n    const _local = localStorage.getItem(TOKEN);\r\n    let token = JSON.parse(_local);\r\n    token = token?.accessToken;\r\n    return {\r\n      headers: {\r\n        ...headers,\r\n        authorization: token,\r\n      },\r\n    };\r\n  });\r\n\r\n  const errorLink = onError(({ graphQLErrors, networkError }) => {\r\n    if (networkError?.message === \"Failed to fetch\") {\r\n      Notiflix.Report.warning(\r\n        \"\",\r\n        \". .\",\r\n        \"\",()=>{\r\n          window.location.reload();\r\n        }\r\n      );\r\n      return;\r\n    }\r\n    const isError1 = _.some(graphQLErrors, {\r\n      message: \"Error: TokenExpiredError: jwt expired\",\r\n    });\r\n    const isError2 = _.some(graphQLErrors, {\r\n      message: \"Error: JsonWebTokenError: jwt must be provided\",\r\n    });\r\n    const isError3 = _.some(graphQLErrors, {\r\n      message: \"Error: DO_NOT_HAVE_PERMISSION\",\r\n    });\r\n    let message = \"\";\r\n    if (isError1) {\r\n      message =\r\n        \" \";\r\n    }\r\n    if (isError2) {\r\n      message = \"  \";\r\n    }\r\n    if (isError3) {\r\n      message = \" \";\r\n    }\r\n    if (isError1 || isError2 || isError3 ) {\r\n      Notiflix.Report.warning(\"\", message, \"\", async () => {\r\n        Notiflix.Loading.standard(\"...\");\r\n        clearLocalStorage();\r\n        window.location.replace(LOGIN);\r\n      });\r\n    }\r\n  });\r\n\r\n  const client = new ApolloClient({\r\n    link: from([\r\n      errorLink,\r\n      authLink.concat(\r\n        createHttpLink({\r\n          uri: api,\r\n        })\r\n      ),\r\n    ]),\r\n    cache: new InMemoryCache({\r\n      addTypename: false,\r\n    }),\r\n  });\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        userState,\r\n        userDispatch,\r\n        titleState,\r\n        titleDispatch,\r\n        dateState,\r\n        dateDispatch,\r\n      }}\r\n    >\r\n      <ApolloProvider client={client}>\r\n        <div className=\"app-container\">\r\n          <Routes />\r\n        </div>\r\n      </ApolloProvider>\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport { AppContext };\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React, { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./App.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVital\";\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\nreportWebVitals();\n"],"sourceRoot":""}