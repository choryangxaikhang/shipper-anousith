{"version":3,"sources":["img/loading.gif","audio/sound.wav","helper/index.js","routes/PrivateRoute.js","routes/app.js","layouts/BottomNav.js","pages/home/apollo/index.js","img/male.png","pages/home/OtherMoney.js","helper/components/SelectLocalHouse.js","pages/home/index.js","pages/login/gql.js","img/app-icon.png","pages/login/Login.js","pages/profile/apollo/index.js","pages/profile/Profile.js","pages/other/gql.js","pages/other/TabMenuOther.js","img/logo-bg.png","img/wrong.png","helper/components/NoData.js","pages/other/bookingRequest/apollo/index.js","helper/components/SearchRoom.js","pages/other/bookingRequest/TypeHouse.js","pages/other/bookingRequest/DetailRoom.js","helper/controllers/Pagination.js","pages/other/bookingRequest/index.js","pages/other/cancel/apollo/index.js","pages/other/cancel/TypeHouse.js","pages/other/cancel/DetailRoom.js","pages/other/cancel/index.js","pages/settings/apollo/index.js","pages/settings/widget/blockUser.js","pages/settings/widget/changeRole.js","pages/settings/widget/changePasswordStaff.js","pages/settings/widget/changePasswordCustomer.js","pages/settings/widget/turnOffhouse.js","helper/components/apollo/index.js","helper/components/ListUser.js","pages/settings/widget/inviteOwner.js","pages/user_staff/apollo/index.js","img/female.png","pages/user_staff/DetailProfile.js","helper/Gender.js","helper/s3Client.js","helper/components/SelectDistrict.js","helper/components/SelectProvince.js","helper/components/SelectVillage.js","pages/user_staff/EditUserStaff.js","pages/user_staff/addUser_staff.js","pages/user_staff/index.js","pages/settings/index.js","pages/rateExchange/apollo/index.js","pages/rateExchange/editRateExchange.js","pages/rateExchange/addRateExchange.js","pages/rateExchange/index.js","pages/management_house/type_room/apollo/index.js","pages/management_house/type_room/editType.js","pages/management_house/type_room/AddTypeRoom.js","pages/management_house/type_room/index.js","pages/management_house/rooms/apollo/index.js","helper/components/SearchTypeRoom.js","pages/management_house/rooms/addRooms.js","pages/management_house/rooms/editRooms.js","pages/management_house/rooms/index.js","pages/management_house/TabMenu.js","pages/other/reportIncome/reportBooking/apollo/index.js","pages/other/TypeHouse.js","img/placeholder.png","pages/other/reportIncome/reportBooking/DetailRoom.js","pages/other/reportIncome/reportBooking/index.js","pages/other/reportIncome/reportCheckIn/apollo/index.js","pages/other/reportIncome/reportCheckIn/DetailRoom.js","pages/other/reportIncome/reportCheckIn/index.js","pages/other/reportIncome/reportCheckOut/apollo/index.js","pages/other/reportIncome/reportCheckOut/DetailRoom.js","pages/other/reportIncome/reportCheckOut/index.js","pages/other/reportIncome/dividend_report/apollo/index.js","pages/other/reportIncome/dividend_report/DetailRoom.js","pages/other/reportIncome/dividend_report/index.js","pages/other/reportIncome/sumTotalBooking/apollo/index.js","pages/other/reportIncome/sumTotalBooking/Export.js","pages/other/reportIncome/sumTotalBooking/index.js","pages/other/reportIncome/TabMenuIncome.js","pages/room_services/booking/apollo/index.js","pages/room_services/booking/TypeHouse.js","pages/room_services/booking/DetailRoom.js","pages/room_services/booking/index.js","pages/room_services/hotel/apollo/index.js","pages/room_services/PeopleCheckout.js","pages/room_services/hotel/CheckIn.js","helper/components/SearchRoomFee.js","pages/room_services/hotel/index.js","pages/room_services/gql.js","pages/room_services/TabMenuRoom.js","pages/other/equiment/equimentType/apollo/index.js","pages/other/equiment/equimentType/AddTypeData.js","pages/other/equiment/equimentType/index..js","pages/other/equiment/equiment/apollo/index.js","helper/components/SelectEquimentType.js","pages/other/equiment/equiment/AddData.js","pages/other/equiment/equiment/EditData.js","pages/other/equiment/equiment/Detail.js","helper/components/SearchEquimentType.js","pages/other/equiment/equiment/CheckOutOrder.js","pages/other/equiment/equiment/Export.js","pages/other/equiment/equiment/ListEquimentOut.js","pages/other/equiment/equiment/index..js","pages/other/equiment/equimentStock/apollo/index.js","helper/components/SelectEquiment.js","pages/other/equiment/equimentStock/AddData.js","pages/other/equiment/equimentStock/EditData.js","helper/components/SearchEquiment.js","pages/other/equiment/equimentStock/index..js","pages/other/equiment/generateBill/apollo/index.js","pages/other/equiment/generateBill/AddData.js","pages/other/equiment/generateBill/EditData.js","pages/other/equiment/generateBill/index.js","pages/other/equiment/equimentHistory/apollo/index.js","pages/other/equiment/equimentHistory/DetailData.js","pages/other/equiment/equimentHistory/index.js","pages/other/equiment/TabMenu.js","pages/pomotions/apollo/index.js","pages/pomotions/AddPromotions.js","pages/pomotions/editPromotions.js","pages/pomotions/index.js","pages/other/accounting/inComeType/apollo/index.js","pages/other/accounting/inComeType/AddTypeData.js","pages/other/accounting/inComeType/index..js","pages/other/accounting/expenseType/apollo/index.js","pages/other/accounting/expenseType/AddTypeData.js","pages/other/accounting/expenseType/index..js","pages/other/accounting/apollo/index.js","helper/components/SelectIncomeType.js","pages/other/accounting/widgets/AddIncome.js","pages/other/accounting/Export.js","helper/components/SelectExpressTypes.js","pages/other/accounting/widgets/Expeses.js","pages/other/accounting/previewImage.js","pages/other/accounting/widgets/EditAddIncome.js","pages/other/accounting/widgets/EditExpeses.js","pages/other/accounting/index.js","pages/other/accounting/accountSummary/apollo/index.js","pages/other/accounting/accountSummary/AddAccount.js","pages/other/accounting/accountSummary/TotalSummaryAccount.js","pages/other/accounting/accountSummary/Export.js","pages/other/accounting/accountSummary/index.js","pages/other/accounting/TabMenu.js","routes/index.js","store/index.js","App.js","reportWebVital.js","index.js"],"names":["ITEM_PER_PAGE","Date","getFullYear","aws_url_images","newSound","Audio","sound","socketServer","io","TOKEN","getStaffLogin","json","localStorage","getItem","JSON","parse","getLocalHouse","local","userLogin","data","house","valiDate","style","color","setGender","SetGender","res","messageConfirm","title","action","Notiflix","Confirm","show","paiStatus","status","setParams","key","val","urlSearch","window","location","search","_symbol","oldValue","URLSearchParams","get","replace","startOfMonth","moment","subtract","startOf","format","startMonth","clone","endOfMonth","endOf","currency","value","currencys","Intl","NumberFormat","formatDateTime","dateTime","formatDate","locale","resp","formateDateSlash","slashData","formatDateDash","dashDate","toDay","today","toDayDash","loadingScreen","Loading","hourglass","backgroundColor","svgColor","messageSuccess","e","Notify","init","position","success","messageError","failure","messageWarning","warning","loadingData","size","content","src","loadingImage","alt","width","height","createdAt_gte","date","_date","createdAt_lt","add","userStatus","item","PrivateRoute","Component","component","rest","headerTitle","token","render","props","to","LOGIN","OTHER","ROOM_SERVICES","PROFILES","HOTEL","HOTEL_CHECKOUT","BOOKING","REQUEST_BOOKING_SCREEN","BOOKING_CANCEL","SETTING","RATE_EXCHANGE_SCREEN","TAB_MENU","TAB_MENU_INCOME","TAB_EQUIMENT","EQUIMENT_LIST","PROMOTION_SCREEN","TAB_ACCOUNT","BottomNav","userState","userInfo","console","log","role","className","paddingTop","borderTopLeftRadius","marginLeft","fontSize","borderTopRightRadius","marginRight","borderTop","QUERY_SUMMARY_BOOKING","gql","SummaryMoney","useState","startDate","endDate","reloadData","setReloadData","localHouse","setLocalHouse","userData","useLazyQuery","fetchPolicy","fetchData","bookingToday","loading","outHouseData","outHouse","loadingCheckout","fetchDataCheckIn","CheckInHouse","loadingCheckIn","useEffect","_id","on","play","whereData","parseInt","variables","where","bookDate_gte","bookDate_lte","orderBy","checkOutAt_gte","checkOutAt_lte","checkInAt_gte","checkInAt_lte","summaryBookingTotal","feeBookingAmount","class","fullPriceTotal","halfPriceTotal","QUERY","SelectLocalHouse","onChange","ownerId","items","setItems","selectedOption","setSelectedOption","searchValue","houseName","undefined","owner","results","houses","length","_results","map","label","result","filter","styles","placeholder","options","Home","history","useReactRouter","setHouse","setUserData","clickButton","setButton","fetchBooking","setBooking","loadingBooking","checkOut","_local","document","body","classList","id","marginBottom","paddingBottom","whidth","flex","onClick","obj","setItem","stringify","reload","push","right","top","bookingTotal","marginTop","href","LOGIN_USER","Login","forward","showPassword","setShowPassword","useMutation","userLogIn","initialValues","phoneNumber","password","validate","values","errors","onSubmit","String","user","staffLogin","userRole","setTimeout","remove","handleChange","touched","handleSubmit","handleBlur","isSubmitting","Imglogo","borderRadius","border","FormControl","fullWidth","sx","m","OutlinedInput","startAdornment","InputAdornment","error","name","onWheel","target","blur","type","onKeyPress","endAdornment","USERS","Profile","listData","setListData","dataStaff","users","clear","removeItem","firstName","lastName","gender","startWorkTime","basicSalary","province","provinceName","district","village","BOOKINGS","HOUSE","TabMenuOther","queryBooking","queryBookingFull","queryBookingRequested","setDataRequested","loadingRequested","borderBottom","ROUTES","padding","zIndex","bookings","total","NoData","display","alignItems","justifyContent","backgroundImage","bgImage","backgroundSize","minWidth","minHeight","noData","QUERY_BOOKING","UPDATE_BOOKING_STATUS","SELECT_ROOM","SearchRoom","disabled","rooms","title_lao","title_eng","heigh","TypeHouse","getId","match","params","page","queryHouse","setData","limit","getData","DetailRoom","onHide","setShow","Modal","tabindex","Header","Title","Body","index","room","customer","fullName","bookTime","bookDate","bookingType","inTime","paidStatus","Pagination","onPageChange","pageTotal","currentPage","handleClick","Prev","Item","active","selected","Next","BookingRequestScreen","query","numberPage","setNumberPage","numberRow","setNumberRow","setStartDate","setEndDate","detailRoom","setDetailRoom","setSearchValue","updateBookingStatus","skip","_startDate","_endDate","countPage","i","Math","ceil","updateStatus","roomId","customerID","houseId","_cancel","houseID","TextField","variant","priceFull","priceHalf","DELETE_BOOKING","BookingCancel","listRoom","deleteData","_delete","onDoubleClick","QUERY_HOUSE","UPDATE_HOUSE","QUERY_USERS","QUERY_CUSTOMERS","UPDATE_USERS","UPDATE_CUSTOMER","BlockUser","setUsers","newLoadData","setNewLoadData","queryUsers","updateUser","_onSearch","Fragment","animation","textDecoration","textAlign","checked","statusCheck","ChangeRole","editStatus","setEditStatus","getIndex","setGetIndex","text","setText","defaultValue","ChangePasswordStaff","searchValuePhone","setSearchValuePhone","_handleKeypress","ChangePasswordCustomer","searchValueID","setSearchValueID","queryCustomer","customerData","updateCustomer","customers","TurnOffHouse","resPonData","updateHouse","public","USER","ListUser","inputSize","centered","onInput","Footer","InviteOwner","itemID","setItemID","QUERY_USER_STAFF","ADD_USERSTAFF","UPDATE_USER","DELETE_USER","DetailProfile","rows","numberRows","setDataUserStaff","getUserStaff","resUserStaffData","countData","profileImage","male","carSign","endWorkTime","Gender","Button","s3Client","S3","bucketName","dirName","region","accessKeyId","secretAccessKey","s3Url","SelectDistrict","provinceId","districts","_data","id_list","isDisabled","SelectProvince","provinces","SelectVillage","districtId","villages","EditUserStaff","onSuccess","setRole","update_user","jsonObj","provinceData","setProvinceData","districtData","setDistrictData","viLLage","setVillageData","imageName","setImageName","file","setFile","getHouse","handleUpload","event","uuidv4","files","split","_file","uploadFile","useFormik","enableReinitialize","resetForm","scrollTo","setFieldValue","stopPropagation","closeButton","for","hidden","htmlFor","URL","createObjectURL","AddUserStaff","addUserStaff","UserList","dataUserStaff","SettingsScreen","QUERY_RATE_EXCHANGE","CREATE_RATE_EXCHANGE","DELETE_RATE_EXCHANGE","UPDATE_RATE_EXCHANGE","EditRateExChange","dataValue","updateRateExchange","laoKIP","laoTHB","laoUSD","parseFloat","AddRateExchange","addRateExchange","RateExChange","deleteRateExchange","rateExchanges","createdAt","bottom","CREATE_TYPE","QUERY_TYPE_ROOM","EDIT_ROOM","DELETE","EditType","editProvinces","AddTypeRoom","createType","TypeRoom","_deleteType","typeRooms","CREATE_ROOM","QUERY_ROOM","DELETE_ROOM","SearchTypeRoom","AddRooms","loadData","typeDataRoom","setTypeDataRoom","createRoom","getDocFiless","setDocFiless","getFileNames","setFileNames","setStatus","handleUploadDocFile","doc","docFileName","detail","docFile","typeRoom","coverImage","join","images","multiple","splice","removeArray","EditRooms","getValueStatus","setValueStatus","getDocFiles","getImages","newArray","Rooms","setLoadData","deleteRoom","dots","TabMenu","tabActive","setTabActive","tab","elmTab","querySelectorAll","elmItemTab","left","offsetLeft","scrollLeft","QUERY_REPORT_BOOKING","ReportBooking","setListRoom","forMatDate","getReportBooking","resReportBooking","_sumAll","_sumFeeBooking","_","sumBy","NO","with","cursor","feeBooking","colSpan","ReportCheckIn","_sumIncomeKip","_sumIncomeTHB","_sumIncomeUSD","incomeKIP","incomeTHB","incomeUSD","ReportCheckOut","DividendReport","_sumFee","fee","QUERY_SUM_TOTAL","Export","_Data","inputRef","useRef","handlePrint","useReactToPrint","current","Row","fontFamily","ref","logo","SumTotalBooking","getRoomValue","setGetRoomValue","resReportSumBooking","opacity","TabMenuIncome","Booking","ADD_CHECK_IN","QUERY_ROOMS","QUERY_RATE","PROMOTIONS","PeopleCheckout","fetchDataRoom","exChange","CheckIn","OpenModalChange","CloseModalChange","customerId","bookingStatus","setBookingStatus","rateExchange","setRateExchange","listPromotion","setListPromotion","exChangeTotal","setExChangeTotal","countTime","setCountTime","getPromotion","percent","halfPrice","setHalfPrice","fullPrice","setFullPrice","feeInComeFull","feeIncomeHalf","inputKIP","setInputKIP","inputTHB","setInputTHB","inputUSD","setInputUSD","_rateTHB","_rateUSD","finalTotalKIP","setFinalTotalKIP","createCheckIn","creating","fetchPromotion","setPromotion","queryRateExchange","rateExchangeData","queryRoom","roomData","promotions","checkInAt","houseCode","InputLabel","inputProps","maxLength","Hotel","setModal","openModal","CloseModal","setDataRoom","loadingDataRoom","TabMenuRoom","setDataFull","loadingFull","QUERY_TYPE","UPDATE_TYPE","DELETE_TYPE","AddTypeData","addType","EquiType","newText","setNewText","queryType","expenseTypeData","editType","deleteType","equimentTypes","handleUpdate","updateEquimentType","Table","deleteEquimentType","ADD_EQUIMENT","QUERY_EQUIMENT","EDIT_EQUIMENT","DELETE_EQUIMENT","QUERY_BILL","CREATE_ORDER_OUT","UPDATE_EQUIMENT_OUT","QUERY_EQUIMENT_OUT","EDIT_BILL","SelectEquimentType","AddData","listEquimentType","setListEquimentType","addEquiment","setToday","receiptDate","unit","price","details","equimentType","EditData","editEquiment","Detail","SearchEquimentType","CheckOutOrder","getBillId","createData","editEq","listPice","serPrice","getTotal","setTotal","listBill","setBillNo","inputTotal","setInputTotal","queryBill","setDataBill","billEquiment","finalTotal","finalPrice","outTotal","equmentID","updateEqTotal","billNo","row","list","setDataList","SumMoney","equimentOuts","contactPhone","ListEquimentOut","updateEquimentOut","updateBill","queryOut","createdBy","sumTotal","upDataBill","EquiMent","setDetail","deleteEquiment","equiments","ADD_EQUIMENT_STOCK","QUERY_EQUIMENT_STOCK","EDIT_EQUIMENT_STOCK","SelectEquiment","listEquiment","setListEquiment","addStock","getFinalTotal","inTotal","updateEquiment","updateData","toTalDefault","setTotalDefault","toToDefault","SearchEquiment","EquimentStock","queryStock","createdAt_lte","equimentStocks","ADD_BILL","addData","billNumber","setBillNumber","pr","random","randomBillNo","GenerateBill","DetailData","History","TabMenuEquiment","QUERY_PROMOTION","CREATE_PROMOTION","DELETE_PROMOTION","UPDATE_PROMOTION","AddPromotions","EditPromotions","Promotion","deletePromotion","QUERY_INCOME_TYPE","CREATE_INCOME_TYPE","UPDATE_INCOME_TYPE","DELETE_INCOME_TYPE","incomeTitle","IncomeType","editIncomeType","incomeTypes","id_income","updateIncomeType","deleteIncomeType","QUERY_EXPENSE_TYPE","CREATE_EXPENSE_TYPE","UPDATE_EXPENSE_TYPE","DELETE_EXPENSE_TYPE","expenseTitle","ExpenseTypeScreen","expenseTypes","id_expense","updateExpenseType","QUERY_EXTRA_EXPENSE","QUERY_SUMMARY_EXPENSE","UPDATE_EXTRA_EXPENSE","DELETE_EXTRA_EXPENSE","CREATE_EXPENSES","SelectIncomeType","AddIncome","createIncome","getUser","getTypeIncome","setTypIncome","extraType","incomeType","accountantDate","fileUpload","StaffFullName","submitCount","accept","extraExpenses","expenseKIP","endBalanceKIP","confirmStatus","confirmBy","confirmDate","SelectExpressTypes","Expenses","getTypeExpress","setTypExpress","extraExpenseData","expenseType","PreviewImage","image","EditAddIncome","upDateExtra","inputPrice","setInputPrice","UpdateEx","defaultPrice","setDefaultPrice","_dataEndBalanceKIP","finalTPrice","getFinalTotalPrice","ListAllExpenses","queryParams","querySummaryExpense","summaryExpenseData","updateExtraExpense","deleteExtraExpense","whereDate","accountantDate_gte","accountantDate_lte","finalMoney","summaryExtraExpense","totalIncome","totalExpense","_rows","CREATE_ACCOUNT_SUMMARY","QUERY_SUMMARY_ACCOUNT","AddAccountSummary","expenseTHB","expenseUSD","endBalanceTHB","endBalanceUSD","Number","accountingDate","TotalSummaryAccount","route","accountingDate_gte","accountingDate_lt","totalSummaryIncome","accountingSummaries","totalSummaryExpress","totalAllSummary","SummaryAccount","TabMenuAccount","Routes","userDispatch","useContext","AppContext","payload","exact","path","userReducer","state","pageTitleReducer","dateReducer","React","createContext","App","useReducer","titleState","titleDispatch","dateState","dateDispatch","authLink","setContext","headers","accessToken","authorization","errorLink","onError","graphQLErrors","networkError","message","isError1","some","isError2","isError3","Report","standard","client","ApolloClient","link","from","concat","createHttpLink","uri","cache","InMemoryCache","addTypename","Provider","ApolloProvider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.085bb5d2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loading.3910906e.gif\";","export default __webpack_public_path__ + \"static/media/sound.1936d448.wav\";","import Notiflix, { Loading } from \"notiflix\";\r\nimport React from \"react\";\r\nimport moment from \"moment\";\r\nimport loadingImage from \"../img/loading.gif\";\r\nimport sound from \"../audio/sound.wav\";\r\nimport { io } from \"socket.io-client\";\r\nvar start_year = new Date().getFullYear();\r\nexport const ITEM_PER_PAGE = 50;\r\nexport const aws_url_image = \"s3://bithose-bucket/image/\";\r\nexport const aws_url_images =\r\n  \"https://bithouse-bucket.s3.ap-southeast-1.amazonaws.com/images/\";\r\nexport const newSound = new Audio(sound);\r\nexport const socketServer = io(\"https://api.bit-houses.com\");\r\n// export const TOKEN = \"ANS_COD\";\r\nexport const FONT_SIZE = { fontSize: \"15px\" };\r\nexport const PRIMARY_COLOR = \"#f54f02\";\r\nexport const TOKEN = \"BIT-HOUSE-ADMIN-USER\";\r\n\r\n//get staff login\r\nexport const getStaffLogin = () => {\r\n  let json = localStorage.getItem(TOKEN);\r\n  let staff = JSON.parse(json);\r\n  return staff;\r\n};\r\n//clear localStorage\r\nexport const clearLocalStorage = () => {\r\n  localStorage.removeItem(TOKEN);\r\n};\r\n\r\n// year\r\nexport const getYearCustom = () => {\r\n  let getYearCustom = [];\r\n  for (let date = start_year; date > 2020; date--) {\r\n    getYearCustom.push(date);\r\n  }\r\n  return getYearCustom;\r\n};\r\n//  paystatus\r\nexport const payStatus = (item) => {\r\n  if (item === \"ORIGIN\") {\r\n    return \"ຊຳລະຕົ້ນທາງ\";\r\n  } else if (item === \"DESTINATION\") {\r\n    return \"ຊຳລະປາຍທາງ\";\r\n  } else {\r\n    return \"-\";\r\n  }\r\n};\r\n\r\n//get local branch\r\nexport const getLocalHouse = () => {\r\n  let local = localStorage.getItem(\"HOUSE\");\r\n  if (local) {\r\n    local = JSON.parse(local);\r\n    return local;\r\n  } else {\r\n    let userLogin = getStaffLogin();\r\n    userLogin = userLogin?.data?.house;\r\n    return userLogin;\r\n  }\r\n};\r\n// province\r\nexport const getLocalProvince = () => {\r\n  let local = localStorage.getItem(\"PROVINCE\");\r\n  if (local) {\r\n    local = JSON.parse(local);\r\n    return local;\r\n  } else {\r\n    let userLogin = getStaffLogin();\r\n    userLogin = userLogin?.data?.province;\r\n    return userLogin;\r\n  }\r\n};\r\n\r\n// educationlevel\r\nexport const getEducationLevel = () => {\r\n  let getYear = [];\r\n  var start_year = new Date().getFullYear();\r\n  for (var i = start_year; i < start_year + 10; i++) {\r\n    getYear.push(i - 1 + \"-\" + i);\r\n  }\r\n  return getYear;\r\n};\r\n// ກຳນົດ ເຄື່ອງໝາຍ ບັງຄັບໃຫ້ປ້ອນຂໍ້ມູນ\r\nexport const valiDate = () => {\r\n  return <font style={{ color: \"red\" }}> * </font>;\r\n};\r\n\r\n// ກຳນົດ ເພດ\r\nexport const setGender = (SetGender) => {\r\n  let res = \"\";\r\n  switch (SetGender) {\r\n    case \"MALE\":\r\n      res = \"ຊາຍ\";\r\n      break;\r\n    case \"FEMALE\":\r\n      res = \"ຍິງ\";\r\n      break;\r\n    case \"OTHER\":\r\n      res = \"ບໍ່ລະບຸ\";\r\n      break;\r\n  }\r\n  return res;\r\n};\r\n\r\n// ກຳນົດ ສະຖານະພາບ\r\nexport const MaritualStatus = (maritualStatus) => {\r\n  let status = \"\";\r\n  switch (maritualStatus) {\r\n    case \"SINGLE\":\r\n      status = \"ໂສດ\";\r\n      break;\r\n    case \"MARRIAGE\":\r\n      status = \"ເເຕ່ງງານ\";\r\n      break;\r\n  }\r\n  return status;\r\n};\r\n\r\nexport const ITEM_PAGE_LIST = [\r\n  { itemPage: \"1\" },\r\n  { itemPage: \"2\" },\r\n  { itemPage: \"3\" },\r\n  { itemPage: \"4\" },\r\n  { itemPage: \"5\" },\r\n  { itemPage: \"ທັງໜົດ\" },\r\n];\r\n\r\nexport const bracket = (tag) => {\r\n  let st = \"(\";\r\n  let en = \")\";\r\n  let i = st + tag + en;\r\n  return i;\r\n};\r\n\r\nexport const messageConfirm = (title, action) => {\r\n  Notiflix.Confirm.show(\r\n    \"ເເຈ້ງເຕືອນ\",\r\n    title,\r\n    \"ຕົກລົງ\",\r\n    \"ຍົກເລີກ\",\r\n    async function () {\r\n      action();\r\n    },\r\n    function () {\r\n      return false;\r\n    }\r\n  );\r\n};\r\nexport const paiStatus = (status) => {\r\n  if (status === 1) {\r\n    return \"ຈ່າຍແລ້ວ\";\r\n  } else if (status === 0) {\r\n    return \"ຍັງບໍ່ທັນຈ່າຍ\";\r\n  } else {\r\n    return \"-\";\r\n  }\r\n};\r\n\r\n//set params\r\nexport const setParams = (key, val) => {\r\n  const urlSearch = window.location.search;\r\n  if (urlSearch.search(key) === -1) {\r\n    const _symbol = urlSearch ? \"&\" : \"\";\r\n    const _search = `${urlSearch}${_symbol}${key}=${val ? val : \"\"}`;\r\n    return _search;\r\n  } else {\r\n    const params = new URLSearchParams(urlSearch);\r\n    const oldValue = params.get(key);\r\n    const newUrl = urlSearch.replace(\r\n      `${key}=${oldValue}`,\r\n      `${key}=${val ? val : \"\"}`\r\n    );\r\n    return newUrl;\r\n  }\r\n};\r\n\r\n// ວັນທີເດືອນປີເລີ່ມວັນທີ ເລີ່ມເດືອນ ເລີ່ມປີ\r\nexport const startOfMonth = () => {\r\n  return moment().subtract(3, \"months\").startOf(\"month\").format(\"YYYY-MM-DD\");\r\n};\r\n//ວັນທີ່  ໑ ຂອງເດືອນ\r\nexport const startMonth = () => {\r\n  return moment().clone().startOf(\"month\").format(\"YYYY-MM-DD\");\r\n};\r\n\r\n// ວັນທີເດືອນປີ ທ້າຍວັນທີ ທ້າວເດືອນ ທ້າຍປີ\r\nexport const endOfMonth = () => {\r\n  return moment().clone().endOf(\"month\").format(\"YYYY-MM-DD\");\r\n};\r\n\r\n//  ກຳນົດ ອາຍຸ\r\nexport const age = (age) => {\r\n  let today = new Date();\r\n  let y = today.getFullYear();\r\n  let dob = moment(age).format(\"YYYY\");\r\n  return y - dob;\r\n};\r\n\r\n// ກຳນົດ ຟໍແມັດເງິນ\r\nexport const currency = (value) => {\r\n  let currencys = new Intl.NumberFormat(\"en-CA\").format(value);\r\n  if (value != 0) return currencys;\r\n  else if (value == 0) return \"0\";\r\n  else return \"\";\r\n};\r\n\r\n//formatDateTime\r\nexport const formatDateTime = (dateTime) => {\r\n  let resp = moment(dateTime).format(\"DD-MM-YYYY, HH:mm\");\r\n  return resp;\r\n};\r\n\r\n// ກຳນົດ ວັນທີປັດຈຸບັນ(ພາສາລາວ)\r\nexport const formatDate = (dateTime) => {\r\n  moment.locale(\"lo\");\r\n  let resp = moment(dateTime).format(\"DD MMMM YYYY\");\r\n  if (dateTime) return resp;\r\n  else return \"-\";\r\n};\r\n\r\n// ກຳນົດ ວັນທີປັດຈຸບັນ(/)\r\nexport const formateDateSlash = (slashData) => {\r\n  let resp = moment(slashData).format(\"YYYY/MM/DD\");\r\n  return resp;\r\n};\r\n\r\n// ກຳນົດ ວັນທີປັດຈຸບັນ(-)\r\nexport const formatDateDash = (dashDate) => {\r\n  let resp = moment(dashDate).format(\"YYYY-MM-DD\");\r\n  return resp;\r\n};\r\n\r\n// ກຳນົດ ວັນທີປັດຈຸບັນ(ຖັດໄປ 1 ອາທິດ)\r\nexport const nextSevenDay = () => {\r\n  var nextSenvenDay = moment().add(7, \"days\");\r\n  var nextSevenDays = moment(nextSenvenDay).format(\"YYYY-MM-DD\");\r\n  return nextSevenDays;\r\n};\r\n\r\n// ກຳນົດ ວັນທີປັດຈຸບັນ(ຖັດໄປ 1 ມື້)\r\nexport const nextOneDay = () => {\r\n  var nextOneDay = moment().add(1, \"days\");\r\n  var nextOneDays = moment(nextOneDay).format(\"YYYY-MM-DD\");\r\n  return nextOneDays;\r\n};\r\n\r\n// ກຳນົດ ວັນທີ ແລະ ເວລາປັດຈຸບັນ(ພາສາລາວ)\r\nexport const toDay = () => {\r\n  moment.locale(\"lo\");\r\n  var today = new Date();\r\n  var todays = moment(today).format(\"DD/MM/YY, HH:mm\");\r\n  return todays;\r\n};\r\n\r\n// ກຳນົດ ວັນທີປັດຈຸບັນ(-)\r\nexport const toDayDash = () => {\r\n  var today = new Date();\r\n  var todays = moment(today).format(\"YYYY-MM-DD\");\r\n  return todays;\r\n};\r\n\r\nexport const unixTimeFormat = (x) => {\r\n  let res = moment.unix(x).format(\"YYYY-MM-DD HH:SS\");\r\n  if (res) return res;\r\n};\r\n\r\nexport const loadingScreen = () => {\r\n  return Loading.hourglass({\r\n    backgroundColor: \"rgba(245, 74, 7,0.2)\",\r\n    svgColor: \"#f54f02\",\r\n  });\r\n};\r\nexport const closeLoadingScreen = () => {\r\n  return Loading.move();\r\n};\r\n\r\nexport const reconvertDay = (day) => {\r\n  let result = \"\";\r\n  switch (day) {\r\n    case \"MONDAY\":\r\n      result = \"ຈັນ\";\r\n      break;\r\n    case \"TUESDAY\":\r\n      result = \"ອັງຄານ\";\r\n      break;\r\n    case \"WEDNESDAY\":\r\n      result = \"ພຸດ\";\r\n      break;\r\n    case \"THURSDAY\":\r\n      result = \"ພະຫັດ\";\r\n      break;\r\n    case \"FRIDAY\":\r\n      result = \"ສຸກ\";\r\n      break;\r\n    case \"SATURDAY\":\r\n      result = \"ເສົາ\";\r\n      break;\r\n    case \"SUNDAY\":\r\n      result = \"ອາທິດ\";\r\n      break;\r\n    default:\r\n      result = \"ຈັນ\";\r\n  }\r\n  return result;\r\n};\r\n\r\n// ກຳນົດ ການຈັດລຽງຕາມຄ່າຕ່າງໆ\r\nexport const SortBy = ({ sort }) => {\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        sort();\r\n      }}\r\n      style={{\r\n        float: \"right\",\r\n        marginRight: 5,\r\n        cursor: \"pointer\",\r\n      }}\r\n    >\r\n      <i className=\"fa fa-sort\"></i>\r\n    </div>\r\n  );\r\n};\r\n\r\n// =======>>> month\r\n\r\nexport const _month = [\r\n  {\r\n    id: \"01\",\r\n    month: \"ມັງກອນ\",\r\n  },\r\n  {\r\n    id: \"02\",\r\n    month: \"ກຸມພາ\",\r\n  },\r\n  {\r\n    id: \"03\",\r\n    month: \"ມີນາ\",\r\n  },\r\n  {\r\n    id: \"04\",\r\n    month: \"ເມສາ\",\r\n  },\r\n  {\r\n    id: \"05\",\r\n    month: \"ພຶດສະພາ\",\r\n  },\r\n  {\r\n    id: \"06\",\r\n    month: \"ມີຖຸນາ\",\r\n  },\r\n  {\r\n    id: \"07\",\r\n    month: \"ກໍລະກົດ\",\r\n  },\r\n  {\r\n    id: \"08\",\r\n    month: \"ສິງຫາ\",\r\n  },\r\n  {\r\n    id: \"09\",\r\n    month: \"ກັນຍາ\",\r\n  },\r\n  {\r\n    id: \"10\",\r\n    month: \"ຕຸລາ\",\r\n  },\r\n  {\r\n    id: \"11\",\r\n    month: \"ພະຈິກ\",\r\n  },\r\n  {\r\n    id: \"12\",\r\n    month: \"ທັນວາ\",\r\n  },\r\n];\r\n\r\nexport const startLoading = () => {\r\n  return Notiflix.Loading.standard(\"Loading...\");\r\n};\r\nexport const stopLoading = () => {\r\n  return Notiflix.Loading.remove();\r\n};\r\n\r\nexport const messageSuccess = (e) => {\r\n  Notiflix.Notify.init({ position: \"center-top\" });\r\n  Notiflix.Notify.success(e);\r\n};\r\n\r\nexport const messageError = (e) => {\r\n  Notiflix.Notify.init({ position: \"center-top\" });\r\n  Notiflix.Notify.failure(e);\r\n};\r\n\r\nexport const messageWarning = (e) => {\r\n  Notiflix.Notify.init({ position: \"center-top\" });\r\n  Notiflix.Notify.warning(e);\r\n};\r\nexport const startSpriner = (color) => {\r\n  return (\r\n    <div className={`spinner-border text-${color}`} role=\"status\">\r\n      <span className=\"sr-only\">ກຳລັງໂຫຼດຂໍ້ມູນ...</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const loadingData = (size, content) => {\r\n  return (\r\n    <>\r\n      <img\r\n        src={loadingImage}\r\n        alt=\"loading\"\r\n        style={{ width: size, height: size }}\r\n      />{\" \"}\r\n      {content}\r\n    </>\r\n  );\r\n};\r\n//createdAt ວັນທີ່ timestamp\r\nexport const startDate_gte = (date) => {\r\n  return moment(date).unix();\r\n};\r\nexport const endDate_lt = (date) => {\r\n  return moment(date).unix();\r\n};\r\n\r\nexport const createdAt_gte = (date) => {\r\n  const _date = date ? date : new Date();\r\n  return moment(_date).format(\"YYYY-MM-DD\");\r\n};\r\n\r\nexport const createdAt_lt = (date) => {\r\n  const _date = date ? date : new Date();\r\n  return moment(_date).add(1, \"days\").format(\"YYYY-MM-DD\");\r\n};\r\n\r\n//updatedAt\r\nexport const updatedAt_gte = (date) => {\r\n  const _date = date ? date : new Date();\r\n  return moment(_date).format(\"YYYY-MM-DD\");\r\n};\r\nexport const updatedAt_lt = (date) => {\r\n  const _date = date ? date : new Date();\r\n  return moment(_date).add(1, \"days\").format(\"YYYY-MM-DD\");\r\n};\r\n//confirm\r\nexport const notiflixConfirm = (title, cb) => {\r\n  Notiflix.Confirm.show(\r\n    \"ແຈ້ງເຕືອນ\",\r\n    title,\r\n    \"ຕົກລົງ\",\r\n    \"ຍົກເລີກ\",\r\n    () => {\r\n      cb();\r\n    },\r\n    () => {\r\n      return false;\r\n    }\r\n  );\r\n};\r\n\r\n//limit input number only\r\nexport const numberOnlyInput = (event) => {\r\n  if (!/[0-9]/.test(event.key)) {\r\n    event.preventDefault();\r\n  }\r\n};\r\n\r\nexport const userStatus = (item) => {\r\n  if (item === \"SUPER_ADMIN\") {\r\n    return \"ບໍລິຫານສູງສຸດ\";\r\n  } else if (item === \"IT\") {\r\n    return \"ໄອທີ\";\r\n  } else if (item === \"HR\") {\r\n    return \"ບຸກຄາລະກອນ\";\r\n  } else if (item === \"ACCOUNTANT\") {\r\n    return \"ບັນຊີ\";\r\n  } else if (item === \"FINANCE\") {\r\n    return \"ການເງິນ\";\r\n  } else if (item === \"LAW\") {\r\n    return \"ກົດໝາຍ\";\r\n  } else if (item === \"STATE_DIRECTOR\") {\r\n    return \"ຫົວໜ້າບໍລິຫານແຂວງ\";\r\n  } else if (item === \"BRANCH_DIRECTOR\") {\r\n    return \"ເຈົ້າຂອງກິດຈະການ\";\r\n  } else if (item === \"ADMIN\") {\r\n    return \"ເອັດມິນ\";\r\n  } else if (item === \"CALL_CENTER\") {\r\n    return \"ພ/ງ ຕ້ອນຮັບ\";\r\n  } else if (item === \"CUSTOMER_SERVICE\") {\r\n    return \"ພ/ງ ບໍລິການລູກຄ້າ\";\r\n  } else if (item === \"DRIVER\") {\r\n    return \"ໄລເດີ້\";\r\n  } else {\r\n    return \"-\";\r\n  }\r\n};\r\n\r\nexport const equimentStatus = (house) => {\r\n  if (house === \"INACTIVE\") {\r\n    return \"ໃຊ້ງານ\";\r\n  } else if (house === \"BROKED\") {\r\n    return \"ບ໋ອກ\";\r\n  } else if (house === \"FIXING\") {\r\n    return \"ສ້ອມແປງ\";\r\n  } else if (house === \"UNACTIVE\") {\r\n    return \"ເປ່ເພ\";\r\n  } else {\r\n    return \"-\";\r\n  }\r\n};\r\nexport const StatusEquiment = (status) => {\r\n  if (status === \"FEE\") {\r\n    return \"ສ້າງໃໝ່\";\r\n  } else if (status === \"FULL\") {\r\n    return \"ຖືກນຳໃຊ້ແລ້ວ\";\r\n  } else {\r\n    return \"-\";\r\n  }\r\n};\r\n// bill auto\r\nexport const randomBillNo = (pr = \"B-\") => {\r\n  for (let i = 1; i <= 8; i++) pr += ~~(Math.random() * 8);\r\n  return pr;\r\n};\r\n\r\nexport const houseStatus = (house) => {\r\n  if (house === \"GUEST_HOUSE\") {\r\n    return \"ກິດຈະການພັກ\";\r\n  } else if (house === \"HOTEL\") {\r\n    return \"ໂຮມແຮມ\";\r\n  } else {\r\n    return \"-\";\r\n  }\r\n};","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { TOKEN } from \"../helper\";\r\n\r\nfunction PrivateRoute({ component: Component, headerTitle, ...rest }) {\r\n  const token = localStorage.getItem(TOKEN);\r\n\r\n  return (\r\n    <>\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        token ? (\r\n          <div>\r\n            <Component {...props} />\r\n          </div>\r\n        ) : (\r\n          <Redirect to=\"/landing\" />\r\n        )\r\n      }\r\n    />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","export const HOME_PAGE = \"/home\";\nexport const LOGIN = \"/login\";\nexport const OTHER = \"/other\";\nexport const ROOM_SERVICES = \"/room_services\";\nexport const PROFILES = \"/profile\";\n\n// Hotel\nexport const HOTEL = \"/room_services/hotel\";\nexport const HOTEL_CHECKOUT = \"/room_services/hotel_checkout\";\n// booking\nexport const BOOKING = \"/room_services/booking\";\nexport const REQUEST_BOOKING_SCREEN = \"/other/request_booking\";\nexport const BOOKING_CANCEL = \"/other/booking_cancel\";\n\n// setting\nexport const SETTING = \"/setting_screen\";\n// rateExchange\nexport const RATE_EXCHANGE_SCREEN = \"/rate_exchange\";\n\n// managementhouse\nexport const TAB_MENU = \"/management_house/tab_menu\";\nexport const MANAGEMENT_TYPE_ROOM = \"/management_house/type_room\";\nexport const MANAGEMENT_ROOM = \"/management_house/rooms\";\nexport const MANAGEMENT_HOUSE = \"/management_house/houses\";\n\n// report \nexport const TAB_MENU_INCOME = \"/other/report_income\";\n// user\nexport const USERS = \"/user_staff\";\nexport const DETAIL_USER = \"/user_detail\";\n\n// equiment\nexport const TAB_EQUIMENT = \"/other/equiment\";\nexport const EQUIMENT_LIST = \"/other/equiment_list\";\n// promotions\nexport const PROMOTION_SCREEN = \"/promotion\";\n\n//account\nexport const TAB_ACCOUNT = \"/other/accounting\";\n\n\n\n\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { getStaffLogin } from \"../helper\";\r\nimport { OTHER, PROFILES, ROOM_SERVICES } from \"../routes/app\";\r\n// import \"./bottomNav.css\";\r\n\r\nexport default function BottomNav() {\r\n  const userState = getStaffLogin();\r\n  const userInfo = userState?.data;\r\n\r\n  console.log(\"userInfo\", userInfo?.role);\r\n\r\n  return (\r\n    <div\r\n      className=\"appBottomMenu pb-2\"\r\n      style={{\r\n        height: 60,\r\n        paddingTop: 10,\r\n        backgroundColor: \"#ffff\",\r\n      }}\r\n    >\r\n      {userInfo?.role == \"BRANCH_DIRECTOR\" ||\r\n      userInfo?.role === \"IT\" ||\r\n      userInfo?.role === \"SUPER_ADMIN\" ||\r\n      userInfo?.role === \"ADMIN\" ||\r\n      userInfo?.role === \"FINANCE\" ||\r\n      userInfo?.role === \"ACCOUNTANT\" ? (\r\n        <>\r\n          <NavLink\r\n            className=\"item\"\r\n            to={`${OTHER}`}\r\n            style={{ borderTopLeftRadius: 25, marginLeft: -10 }}\r\n          >\r\n            <div className=\"col pt-1\" style={{ borderTopLeftRadius: 20 }}>\r\n              <i\r\n                className=\"icon-sort text-secondary\"\r\n                style={{ fontSize: 25 }}\r\n              />\r\n              <strong className=\"text-secondary\" style={{ fontSize: 15 }}>\r\n                ບໍລິການອື່ນໆ\r\n              </strong>\r\n            </div>\r\n          </NavLink>\r\n        </>\r\n      ) : null}\r\n      <NavLink\r\n        className=\"item\"\r\n        to={`${ROOM_SERVICES}`}\r\n        style={{ borderTopLeftRadius: 25, marginLeft: -10 }}\r\n      >\r\n        <div className=\"col pt-1\" style={{ borderTopLeftRadius: 20 }}>\r\n          <i className=\"fa-solid fa-city text-secondary\" />\r\n          <strong className=\"text-secondary\" style={{ fontSize: 15 }}>\r\n            ຫ້ອງ\r\n          </strong>\r\n        </div>\r\n      </NavLink>\r\n      <NavLink className=\"item\" to=\"/home\">\r\n        <div className=\"col pt-1\">\r\n          <i className=\"icon-home text-secondary\" style={{ fontSize: 25 }} />\r\n          <strong className=\"text-secondary \" style={{ fontSize: 15 }}>\r\n            ໜ້າຫຼັກ\r\n          </strong>\r\n        </div>\r\n      </NavLink>\r\n      <NavLink\r\n        className=\"item\"\r\n        to={`${PROFILES}`}\r\n        style={{\r\n          borderTopRightRadius: 25,\r\n          marginRight: -10,\r\n          borderTop: \"none!important\",\r\n        }}\r\n      >\r\n        <div\r\n          className=\"col pt-1\"\r\n          style={{ borderTopRightRadius: 20, borderTop: \"none\" }}\r\n        >\r\n          <i className=\"icon-user text-secondary\" style={{ fontSize: 25 }} />\r\n          <strong className=\"text-secondary\" style={{ fontSize: 15 }}>\r\n            ໂປຣໄຟລ໌\r\n          </strong>\r\n        </div>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\r\nexport const ADD_CHECK_IN = gql`\r\n  mutation CreateCheckIn($data: CheckInInput!) {\r\n    createCheckIn(data: $data) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const QUERY_ROOM = gql`\r\n  query Rooms(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: RoomWhereInput\r\n  ) {\r\n    rooms(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      total\r\n      data {\r\n        title_lao\r\n        title_eng\r\n        priceHalf\r\n        priceFull\r\n        status\r\n        detail\r\n        createdAt\r\n        typeRoom {\r\n          title_lao\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_SUMMARY_BOOKING = gql`\r\nquery SummaryBookingTotal($where: BookingWhereInput) {\r\n  summaryBookingTotal(where: $where) {\r\n    bookingTotal\r\n    feeBookingAmount\r\n    halfPriceTotal\r\n    fullPriceTotal\r\n    incomeKIP\r\n    incomeTHB\r\n    incomeUSD\r\n    exChange\r\n  }\r\n}\r\n`;\r\n\r\nexport const QUERY_CHECK_IN = gql`\r\n  query CheckIns(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: CheckInWhereInput\r\n  ) {\r\n    checkIns(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      total\r\n    }\r\n  }\r\n`;\r\n\r\nexport const TOTAL_USER = gql`\r\nquery SummaryUsers($where: UserWhereInput) {\r\n  summaryUsers(where: $where) {\r\n    total\r\n    active\r\n    inactive\r\n  }\r\n}\r\n`;\r\n\r\nexport const SUMMARY_ALL_ROOM = gql`\r\nquery SummaryRooms($where: RoomWhereInput) {\r\n  summaryRooms(where: $where) {\r\n    total\r\n    active\r\n    inactive\r\n    bookingTotal\r\n    fullTotal\r\n    feeTotal\r\n  }\r\n}\r\n`;\r\nexport const QUERY_HOUSE = gql`\r\nquery Houses(\r\n  $where: HouseWhereInput\r\n  $orderBy: OrderByInput\r\n  $skip: Int\r\n  $limit: Int\r\n) {\r\n  houses(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n    total\r\n  }\r\n}\r\n\r\n`;\r\n\r\nexport const QUERY_SUMMARY_BOOKING_CONSOLIDATE = gql`\r\nquery SummaryConsolidateBookings($where: ConsolidateBookingWhereInput) {\r\n  summaryConsolidateBookings(where: $where) {\r\n    total\r\n    balanceKIP\r\n    balanceTHB\r\n    balanceUSD\r\n    transferFee\r\n  }\r\n}\r\n`;\r\n\r\nexport const BOOKINGS = gql`\r\n  query Bookings($where: BookingWhereInput) {\r\n    bookings(where: $where) {\r\n      total\r\n      data {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/male.33aa3d5d.png\";","import { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport { QUERY_SUMMARY_BOOKING } from \"./apollo\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  newSound,\n  socketServer,\n  toDayDash,\n} from \"../../helper\";\nexport default function SummaryMoney() {\n  const [startDate, setStartDate] = useState(toDayDash());\n  const [endDate, setEndDate] = useState(toDayDash());\n  const [reloadData, setReloadData] = useState(false);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const [fetchData, { data: bookingToday, loading }] = useLazyQuery(\n    QUERY_SUMMARY_BOOKING,\n    {\n      fetchPolicy: \"network-only\",\n    }\n  );\n\n  const [outHouseData, { data: outHouse, loadingCheckout }] = useLazyQuery(\n    QUERY_SUMMARY_BOOKING,\n    {\n      fetchPolicy: \"network-only\",\n    }\n  );\n  const [fetchDataCheckIn, { data: CheckInHouse, loadingCheckIn }] =\n    useLazyQuery(QUERY_SUMMARY_BOOKING, {\n      fetchPolicy: \"network-only\",\n    });\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n\n  socketServer.on(\"approveBooking\", (res) => {\n    if (res === localHouse) {\n      newSound.play();\n      setReloadData(!reloadData);\n    }\n  });\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(localHouse),\n    };\n    if (userData?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    fetchData({\n      variables: {\n        where: {\n          ...whereData,\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n          status: \"BOOKING\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n    outHouseData({\n      variables: {\n        where: {\n          ...whereData,\n          checkOutAt_gte: createdAt_gte(startDate),\n          checkOutAt_lte: createdAt_lt(endDate),\n          status: \"CHECK_OUT\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n    fetchDataCheckIn({\n      variables: {\n        where: {\n          ...whereData,\n          checkInAt_gte: createdAt_gte(startDate),\n          checkInAt_lte: createdAt_lt(endDate),\n          status: \"CHECK_IN\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [startDate, endDate, localHouse]);\n\n  return (\n    <>\n      <div className=\"saving-goals-section pb-15 card\">\n        <div className=\"progress-card progress-card-red mb-15\">\n          <div className=\"progress-card-info\">\n            <div style={{ width: 50, height: 50, color: \"#b1b5b2\" }}>\n              <i className=\"fa-solid fa-circle-down fa-2x\" />\n            </div>\n            <div className=\"progress-primary-text ms-2\">\n              <h4>ຈອງມື້ນີ້</h4>\n            </div>\n          </div>\n          <div className=\"progress-card-amount text-end\">\n          <h4 className=\"text-primary fs-5\">\n            {loading\n              ? loadingData(25)\n              : bookingToday?.summaryBookingTotal?.feeBookingAmount\n              ? currency(bookingToday?.summaryBookingTotal?.feeBookingAmount)\n              : 0}{\" \"}\n            ກີບ\n            </h4>\n          </div>\n        </div>\n\n        <div className=\"progress-card progress-card-blue mb-15\">\n          <div className=\"progress-card-info\">\n            <div className=\"circular-progress\" data-note={25}>\n              <div style={{ width: 50, height: 50, color: \"#b1b5b2\" }}>\n                <i class=\"fa-solid fa-circle-left fa-2x\"></i>\n              </div>\n            </div>\n            <div className=\"progress-info-text\">\n              <h4>ເປີດຫ້ອງມື້ນີ້</h4>\n            </div>\n          </div>\n          <div className=\"progress-card-amount  text-end \">\n          <h4 className=\"text-primary fs-5\">\n            {loadingCheckIn\n              ? loadingData(25)\n              : CheckInHouse?.summaryBookingTotal?.fullPriceTotal > 0\n              ? currency(\n                  CheckInHouse?.summaryBookingTotal?.fullPriceTotal +\n                    CheckInHouse?.summaryBookingTotal?.halfPriceTotal\n                )\n              : 0}{\" \"}\n            ກີບ\n            </h4>\n          </div>\n        </div>\n        <div className=\"progress-card progress-card-green mb-15\">\n          <div className=\"progress-card-info\">\n            <div className=\"circular-progress\" data-note={75}>\n              <div style={{ width: 50, height: 50, color: \"#b1b5b2\" }}>\n                <i className=\"fa-solid fa-circle-right fa-2x\" />\n              </div>\n            </div>\n            <div className=\"progress-info-text \">\n              <h4>ແຂກອອກມື້ນີ້</h4>\n            </div>\n          </div>\n          <div className=\"progress-card-amount  text-end \">\n            <h4 className=\"text-primary fs-5\">\n              {loadingCheckout\n                ? loadingData(25)\n                : (outHouse?.summaryBookingTotal?.fullPriceTotal > 0) |\n                  (outHouse?.summaryBookingTotal?.halfPriceTotal > 0)\n                ? currency(\n                    outHouse?.summaryBookingTotal?.fullPriceTotal +\n                      outHouse?.summaryBookingTotal?.halfPriceTotal\n                  )\n                : 0}{\" \"}\n              ກີບ\n            </h4>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getStaffLogin } from \"..\";\nconst QUERY = gql`\n  query Data($where: HouseWhereInput) {\n    houses(where: $where) {\n      data {\n        _id\n        type {\n          title_lao\n          title_eng\n        }\n        houseName\n      }\n    }\n  }\n`;\nexport default function SelectLocalHouse({\n  className,\n  style,\n  onChange,\n  value,\n  ownerId,\n}) {\n  const [items, setItems] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [searchValue, setSearchValue] = useState();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n\n  const [fetchData, { data, loading }] = useLazyQuery(QUERY);\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      houseName: searchValue ? searchValue : undefined,\n      owner: ownerId,\n    };\n    if (userData?.role === \"SUPER_ADMIN\") {\n      delete whereData.owner;\n    }\n    fetchData({\n      variables: {\n        where: {\n          ...whereData,\n        },\n      },\n    });\n  }, [ownerId]);\n\n\n  useEffect(() => {\n    const results = data?.houses?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.houseName,\n        };\n        return object;\n      });\n      setItems(_results);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n\n  return (\n    <div style={{ width: \"100%\", color: \"black\", fontSize: 16 }}>\n      <Select\n        styles={style}\n        className={className}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກຊື່ກິດຈະການ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport \"./index.css\";\nimport BottomNav from \"../../layouts/BottomNav\";\nimport { BOOKINGS, QUERY_SUMMARY_BOOKING } from \"./apollo\";\nimport male from \"../../img/male.png\";\nimport { Image } from \"react-bootstrap\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  toDayDash,\n} from \"../../helper\";\nimport { AppContext } from \"../../App\";\nimport QRCode from \"react-qr-code\";\nimport OtherMoney from \"./OtherMoney\";\nimport { BOOKING, OTHER } from \"../../routes/app\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\nexport default function Home() {\n  const { history } = useReactRouter();\n  const [startDate, setStartDate] = useState(toDayDash());\n  const [endDate, setEndDate] = useState(toDayDash());\n  const [house, setHouse] = useState(\"\");\n  const [userData, setUserData] = useState({});\n  const [clickButton, setButton] = useState(false);\n\n  const [fetchBooking, { data: setBooking, loading: loadingBooking }] =\n    useLazyQuery(QUERY_SUMMARY_BOOKING, {\n      fetchPolicy: \"cache-and-network\",\n    });\n  const [checkOut, { data: outHouse, loading: loading }] = useLazyQuery(\n    QUERY_SUMMARY_BOOKING,\n    {\n      fetchPolicy: \"cache-and-network\",\n    }\n  );\n  const [fetchDataCheckIn, { data: CheckInHouse, loadingCheckIn }] =\n    useLazyQuery(QUERY_SUMMARY_BOOKING, {\n      fetchPolicy: \"cache-and-network\",\n    });\n  // data HouseLoca\n  useEffect(() => {\n    const _local = getStaffLogin();\n    setUserData(_local?.data || {});\n    setHouse(getLocalHouse());\n    //sidebar min\n    const localSideBarMini = localStorage.getItem(\"SIDEBAR_MINI\");\n    if (localSideBarMini === \"true\") {\n      document.body.classList.add(\"sidebar-collapse\");\n    }\n  }, []);\n  // end\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(house?._id),\n    };\n    if (userData?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    fetchBooking({\n      variables: {\n        where: {\n          ...whereData,\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n          status: \"BOOKING\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n    // check_in\n\n    fetchDataCheckIn({\n      variables: {\n        where: {\n          ...whereData,\n          checkInAt_gte: createdAt_gte(startDate),\n          checkInAt_lte: createdAt_lt(endDate),\n          status: \"CHECK_IN\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n\n    // Booking\n    checkOut({\n      variables: {\n        where: {\n          ...whereData,\n          checkOutAt_gte: createdAt_gte(startDate),\n          checkOutAt_lte: createdAt_lt(endDate),\n          status: \"CHECK_OUT\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [userData]);\n  return (\n    <>\n      <div\n        id=\"appCapsule\"\n        style={{\n          backgroundColor: \"#f54f02\",\n          marginBottom: 0,\n          paddingBottom: 0,\n          whidth: \"100vh\",\n        }}\n      >\n        <div className=\"appHeader  border-0 \">\n          <div style={{ flex: 1 }} className=\"text-left\">\n            <button\n              className=\"btn text-white\"\n              onClick={(e) => {\n                setButton(!clickButton);\n              }}\n            >\n              <i className=\"fa-solid fa-magnifying-glass fa-2 ms-2\" />\n            </button>\n          </div>\n          {clickButton === true ? (\n            <>\n              <SelectLocalHouse\n                style={{ width: \"100%\" }}\n                value={house?._id}\n                onChange={(obj) => {\n                  if (obj?._id) {\n                    setHouse(obj);\n                    localStorage.setItem(\"HOUSE\", JSON.stringify(obj));\n                    window.location.reload();\n                  }\n                }}\n                ownerId={userData?._id}\n              />\n            </>\n          ) : (\n            <b className=\"text-white\">\n              {house?.houseName ? house?.houseName : \"ໜ້າຫຼັກ\"}\n            </b>\n          )}\n          <div\n            className=\"text-white pageTitle text-center text-nowrap pr-0\"\n            style={{ flex: 1 }}\n          >\n            <a\n              className=\"mr-3 float-right\"\n              onClick={() => history.push(`${BOOKING}/1`)}\n            >\n              <i className=\"icon-bell\" style={{ fontSize: 20 }} />\n              {loadingBooking ? (\n                <span style={{ position: \"absolute\", right: 10, top: 10 }}>\n                  {loadingData(10)}\n                </span>\n              ) : setBooking?.summaryBookingTotal?.bookingTotal > 0 ? (\n                <span className=\"badge badge-success mr-1 p-2\">\n                  <small>\n                    {setBooking?.summaryBookingTotal?.bookingTotal\n                      ? setBooking?.summaryBookingTotal?.bookingTotal\n                      : 0}\n                  </small>\n                </span>\n              ) : null}\n            </a>\n          </div>\n        </div>\n        <div className=\"body-content body-content-lg \">\n          <div className=\"container\">\n            <div\n              className=\"add-card section-to-header mb-30\"\n              style={{ marginTop: -140 }}\n            >\n              <div className=\"add-card-inner\">\n                <div className=\"add-card-item add-card-info\">\n                  <p>ຫ້ອງກຳລັງຈອງ</p>\n                  {loadingBooking ? (\n                    loadingData(25)\n                  ) : (\n                    <>\n                      <b className=\"text-danger fs-4\">\n                        {setBooking?.summaryBookingTotal?.bookingTotal > 0\n                          ? currency(\n                              setBooking?.summaryBookingTotal?.bookingTotal\n                            )\n                          : 0}{\" \"}\n                      </b>\n                      ຫ້ອງ\n                    </>\n                  )}\n                </div>\n                <div className=\"add-card-item add-balance\">\n                  <a href=\"javascript:void(0)\" className=\"p-1\">\n                    <b className=\"fs-4\">ໄອດີ: {userData?._id}</b>\n                  </a>\n                </div>\n              </div>\n            </div>\n            <div className=\"option-section mb-15\">\n              <div className=\"row gx-2\">\n                <div className=\"col-6 pb-15\">\n                  <div\n                    className=\"option-card card\"\n                    style={{ borderTop: \"1px solid #f54f02\" }}\n                  >\n                    <a\n                      href=\"javascript:void(0)\"\n                      data-bs-toggle=\"modal\"\n                      data-bs-target=\"#withdraw\"\n                    >\n                      <p>ຫ້ອງກຳລັງເປີດ</p>\n                      <div className=\"option-card-icon text-black\">\n                        {loadingCheckIn ? (\n                          loadingData(25)\n                        ) : (\n                          <>\n                            <b className=\"text-danger fs-4\">\n                              {CheckInHouse?.summaryBookingTotal?.bookingTotal >\n                              0\n                                ? currency(\n                                    CheckInHouse?.summaryBookingTotal\n                                      ?.bookingTotal\n                                  )\n                                : 0}{\" \"}\n                            </b>\n                            ຫ້ອງ\n                          </>\n                        )}\n                      </div>\n                    </a>\n                  </div>\n                </div>\n\n                <div className=\"col-6 pb-15\">\n                  <div\n                    className=\"option-card  card \"\n                    style={{ borderTop: \"1px solid #f54f02\" }}\n                  >\n                    <a href=\"javascript:void(0)\">\n                      <p>ຫ້ອງແຂກອອກມື້ນີ້</p>\n                      <div className=\"option-card-icon text-black\">\n                        {loading ? (\n                          loadingData(25)\n                        ) : (\n                          <>\n                            <b className=\"text-danger fs-4\">\n                              {outHouse?.summaryBookingTotal?.bookingTotal > 0\n                                ? currency(\n                                    outHouse?.summaryBookingTotal?.bookingTotal\n                                  )\n                                : 0}{\" \"}\n                            </b>\n                            ຫ້ອງ\n                          </>\n                        )}\n                      </div>\n                    </a>\n                  </div>\n                </div>\n                <OtherMoney />\n              </div>\n            </div>\n          </div>\n        </div>\n        <BottomNav />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const LOGIN_USER = gql`\nmutation StaffLogin($where: StaffLoginInput!) {\n  staffLogin(where: $where) {\n    accessToken\n    data {\n      _id\n      profileImage\n      firstName\n      lastName\n      phoneNumber\n      house {\n        _id\n        houseName\n        houseName_en\n        houseCode\n        contactPhone\n        contactEmail\n        contactWebsite\n        coverImage\n        map_lat\n        map_lng\n        province {\n          _id\n          provinceName\n        }\n        district {\n          _id\n          title\n        }\n        village {\n          _id\n          title\n        }\n        powerTime\n        createdAt\n      }\n      carSign\n      status\n      role\n      province {\n        provinceName\n        _id\n      }\n      district {\n        title\n        _id\n      }\n      village {\n        _id\n        title\n      }\n    }\n  }\n}\n`;\n","export default \"data:image/png;base64,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\"","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useState } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport \"./login.css\";\r\nimport { LOGIN_USER } from \"./gql\";\r\nimport Notiflix, { Loading } from \"notiflix\";\r\nimport {\r\n  loadingScreen,\r\n  messageError,\r\n  messageWarning,\r\n  TOKEN,\r\n} from \"../../helper\";\r\nimport Imglogo from \"../../img/app-icon.png\";\r\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\r\nexport default function Login({ history }) {\r\n  window.history.forward();\r\n  const [showPassword, setShowPassword] = useState(\"password\");\r\n  const [userLogIn] = useMutation(LOGIN_USER);\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={{\r\n          phoneNumber: \"\",\r\n          password: \"\",\r\n        }}\r\n        validate={(values) => {\r\n          const errors = {};\r\n          if (!values.phoneNumber) errors.phoneNumber = \"ກະລຸນາປ້ອນເບີໂທ\";\r\n          if (!values.password) errors.password = \"ກະລຸນາປ້ອນລະຫັດຜ່ານ\";\r\n          return errors;\r\n        }}\r\n        onSubmit={async (values) => {\r\n          try {\r\n            let user = await userLogIn({\r\n              variables: {\r\n                where: {\r\n                  phoneNumber: parseInt(values?.phoneNumber),\r\n                  password: String(values?.password),\r\n                },\r\n              },\r\n            });\r\n\r\n            if (user) {\r\n              localStorage.setItem(\r\n                TOKEN,\r\n                JSON.stringify(user?.data?.staffLogin)\r\n              );\r\n              const userRole = user?.data?.staffLogin?.data?.role;\r\n              if (\r\n                userRole === \"SUPER_ADMIN\" ||\r\n                userRole === \"IT\" ||\r\n                userRole === \"ADMIN\" ||\r\n                userRole === \"ACCOUNTANT\" ||\r\n                userRole === \"FINANCE\" ||\r\n                userRole === \"CALL_CENTER\" ||\r\n                userRole === \"BRANCH_DIRECTOR\" ||\r\n                userRole === \"HR\"\r\n              ) {\r\n                loadingScreen();\r\n                setTimeout(() => {\r\n                  Loading.remove();\r\n                  window.location.href = `/home`;\r\n                }, 2000);\r\n              } else {\r\n                messageError(\"ທ່ານບໍ່ມີສິດໃນການເຂົ້າໃຊ້ລະບົບນີ້\");\r\n              }\r\n            } else {\r\n              messageWarning(\"ເບີໂທ ຫຼື ລະຫັດຜ່ານບໍ່ຖືກຕ້ອງ\");\r\n            }\r\n          } catch (error) {\r\n            messageWarning(\"ເບີໂທ ຫຼື ລະຫັດຜ່ານບໍ່ຖືກຕ້ອງ\");\r\n          }\r\n        }}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          isSubmitting,\r\n        }) => (\r\n          <>\r\n            <div className=\"header-bg header-bg-1 text-white\" />\r\n            <div className=\"body-content bg-white\">\r\n              <center>\r\n                <img\r\n                  src={Imglogo}\r\n                  alt=\"logo\"\r\n                  className=\"logo p-2\"\r\n                  style={{\r\n                    marginTop: -70,\r\n                    width: 120,\r\n                    height: 120,\r\n                    borderRadius: \"40%\",\r\n                    border: \"2px solid f54f02\",\r\n                  }}\r\n                />\r\n              </center>\r\n              <div className=\"container\">\r\n                <center>\r\n                  <h2>ເຂົ້າສູ່ລະບົບ</h2>\r\n                </center>\r\n                <div className=\"authentication-form mt-5\">\r\n                  <form>\r\n                    <div className=\"form-group\">\r\n                      <FormControl fullWidth sx={{ m: 0 }}>\r\n                        <OutlinedInput\r\n                          value={values.phoneNumber}\r\n                          onChange={handleChange(\"phoneNumber\")}\r\n                          startAdornment={\r\n                            <InputAdornment position=\"start\">\r\n                              {/* <i className=\"icon-phone  fs-3\" /> */}\r\n                              +85620:\r\n                            </InputAdornment>\r\n                          }\r\n                          error={errors.phoneNumber}\r\n                          name=\"phoneNumber\"\r\n                          onWheel={(e) => e.target.blur()}\r\n                          type=\"number\"\r\n                          placeholder=\"ປ້ອນເບີໂທ\"\r\n                          onKeyPress={(e) => {\r\n                            if (e.key === \"Enter\") {\r\n                              handleSubmit();\r\n                            }\r\n                          }}\r\n                        />\r\n                      </FormControl>\r\n                    </div>\r\n                    <div className=\"form-group pb-15\">\r\n                      <FormControl fullWidth sx={{ m: 0 }}>\r\n                        <OutlinedInput\r\n                          value={values.password}\r\n                          onChange={handleChange(\"password\")}\r\n                          startAdornment={\r\n                            <InputAdornment position=\"start\">\r\n                              {/* <i className=\"fa-sharp fa-solid fa-key\"/> */}\r\n                              ລະຫັດຜ່ານ:\r\n                            </InputAdornment>\r\n                          }\r\n                          error={errors.phoneNumber}\r\n                          type={showPassword}\r\n                          name=\"password\"\r\n                          placeholder=\"**********\"\r\n                          onKeyPress={(e) => {\r\n                            if (e.key === \"Enter\") {\r\n                              handleSubmit();\r\n                            }\r\n                          }}\r\n                          endAdornment={\r\n                            <InputAdornment\r\n                              position=\"end\"\r\n                              style={{ marginRight: -3 }}\r\n                            >\r\n                              <i\r\n                                class=\"fa-sharp fa-solid fa-eye\"\r\n                                onClick={() =>\r\n                                  showPassword === \"password\"\r\n                                    ? setShowPassword(\"text\")\r\n                                    : setShowPassword(\"password\")\r\n                                }\r\n                              />\r\n                            </InputAdornment>\r\n                          }\r\n                        />\r\n                      </FormControl>\r\n                    </div>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleSubmit}\r\n                      style={{ backgroundColor: \"#f54f02\" }}\r\n                      className=\"btn btn-block btn-lg text-white rounded mb-10\"\r\n                    >\r\n                      <i class=\"fa-sharp fa-solid fa-angles-right me-2\"></i>\r\n                      ເຂົ້າສູ່ລະບົບ\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\r\nexport const USERS = gql`\r\n  query Users(\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n    $where: UserWhereInput\r\n  ) {\r\n    users(orderBy: $orderBy, skip: $skip, limit: $limit, where: $where) {\r\n      data {\r\n        _id\r\n        profileImage\r\n        firstName\r\n        lastName\r\n        gender\r\n        province {\r\n          provinceName\r\n        }\r\n        district {\r\n          _id\r\n          title\r\n        }\r\n        village {\r\n          _id\r\n          title\r\n        }\r\n        phoneNumber\r\n        status\r\n        carSign\r\n        basicSalary\r\n        role\r\n        startWorkTime\r\n        endWorkTime\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport {\n  currency,\n  formatDate,\n  getStaffLogin,\n  userStatus,\n  loadingScreen,\n  setGender,\n  TOKEN,\n} from \"../../helper\";\nimport BottomNav from \"../../layouts/BottomNav\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport Imglogo from \"../../img/app-icon.png\";\nimport { LOGIN } from \"../../routes/app\";\nimport { USERS } from \"./apollo\";\nexport default function Profile({ history }) {\n  const [listData, setListData] = useState({});\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const [fetchData, { data: dataStaff, loading }] = useLazyQuery(USERS, {\n    fetchPolicy: \"cache-and-network\",\n  });\n\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          _id: parseInt(userData?._id),\n        },\n      },\n    });\n  }, []);\n  useEffect(() => {\n    setListData(dataStaff?.users?.data[0]);\n  }, [dataStaff]);\n  const onLogout = () => {\n    Notiflix.Confirm.show(\n      \"ແຈ້ງເຕືອນ\",\n      \"ທ່ານຕ້ອງການອອກຈາກລະບົບແທ້ ຫຼື ບໍ່?\",\n      \"ຕົກລົງ\",\n      \"ຍົກເລີກ\",\n      () => {\n        loadingScreen();\n        setTimeout(() => {\n          Loading.remove();\n          localStorage.clear();\n          window.location.replace(LOGIN);\n          localStorage.removeItem(TOKEN);\n        }, 1000);\n      },\n      () => {\n        return false;\n      }\n    );\n  };\n  return (\n    <>\n      <div id=\"appCapsule\">\n        <div className=\"appHeader text-white border-0 \">\n          <div style={{ flex: 1 }} className=\"text-left\">\n            {/* <button\n              className=\"btn text-white mr-2\"\n              onClick={() => history.goBack()}\n            >\n              <i className=\"icon-x fs-4\" />\n            </button> */}\n          </div>\n          ໂປຣໄຟລ໌\n          <div\n            className=\"text-white pageTitle text-right text-nowrap pr-0 \"\n            style={{ flex: 1 }}\n          >\n            <button\n              className=\"btn text-white ml-0\"\n              onClick={() => onLogout()}\n              style={{ flex: 1, marginRight: -10 }}\n            >\n              <i className=\"icon-log-out1\" style={{ fontSize: 25 }} />\n            </button>\n          </div>\n        </div>\n        <div className=\"body-content bg-white\" style={{ marginTop: -30 }}>\n          <center>\n            <img\n              src={Imglogo}\n              alt=\"logo\"\n              className=\"logo p-2\"\n              style={{\n                width: 120,\n                height: 120,\n                borderRadius: \"40%\",\n                border: \"2px solid f54f02\",\n              }}\n            />\n            <br />\n            <b>ID-USER: {listData?._id}</b>\n          </center>\n          <div style={{ marginTop: -20 }}>\n            <div className=\"session-list\">\n              <div className=\"listview-title ml-0\">ລາຍລະອຽດ</div>\n              <>\n                <ul className=\"listview image-listview text\">\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div>ຊື່ ແລະ ນາມສະກຸມ</div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {listData?.firstName ? listData?.firstName : \"-\"}{\" \"}\n                          {listData?.lastName ? listData?.lastName : \"-\"}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div>ເພດ</div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {setGender(listData?.gender ? listData?.gender : \"-\")}{\" \"}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div>ວັນທີ່ເລີ່ມວຽກ</div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {formatDate(\n                            listData?.startWorkTime\n                              ? listData?.startWorkTime\n                              : \"-\"\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div>ເບີໂທ</div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {listData?.phoneNumber ? listData?.phoneNumber : \"-\"}\n                          <br />\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div>ຕຳແຫນ່ງ</div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {userStatus(listData?.role ? listData?.role : \"-\")}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div>ເງິນເດືອນພື້ນຖານ</div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {currency(\n                            listData?.basicSalary ? listData?.basicSalary : 0\n                          )}{\" \"}\n                          ກີບ\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div>ແຂວງ</div>\n                        <div className=\"custom-control custom-switch\">\n                          {listData?.province?.provinceName\n                            ? listData?.province?.provinceName\n                            : \"-\"}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div>ເມືອງ</div>\n                        <div className=\"custom-control custom-switch user-select-all\">\n                          {listData?.district?.title\n                            ? listData?.district?.title\n                            : \"-\"}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li>\n                    <div className=\"item\">\n                      <div className=\"in\">\n                        <div>ບ້ານ</div>\n                        <div className=\"custom-control custom-switch\">\n                          {listData?.village?.title\n                            ? listData?.village?.title\n                            : \"-\"}\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                </ul>\n              </>\n            </div>\n          </div>\n        </div>\n        <BottomNav />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const BOOKINGS = gql`\n  query Bookings($where: BookingWhereInput) {\n    bookings(where: $where) {\n      total\n      data {\n        _id\n      }\n    }\n  }\n`;\n\nexport const HOUSE = gql`\nquery Houses($where: HouseWhereInput, $limit: Int) {\n  houses(where: $where, limit: $limit) {\n    data {\n      type {\n        title_lao\n        title_eng\n      }\n      _id\n    }\n  }\n}\n`;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport { Button, Col } from \"react-bootstrap\";\n// import \"./utils/index.css\";\nimport * as ROUTES from \"../../routes/app\";\nimport BottomNav from \"../../layouts/BottomNav\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  socketServer,\n} from \"../../helper\";\nimport { BOOKINGS } from \"./gql\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\n\nexport default function TabMenuOther() {\n  const { history } = useReactRouter();\n  const [reloadData, setReloadData] = useState(false);\n  const [house, setHouse] = useState(\"\");\n  const [userData, setUserData] = useState({});\n  const [clickButton, setButton] = useState(false);\n\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\n    BOOKINGS,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  const [queryBookingFull, { data: setDataFull, loading: loadingFull }] =\n    useLazyQuery(BOOKINGS, { fetchPolicy: \"cache-and-network\" });\n  const [\n    queryBookingRequested,\n    { data: setDataRequested, loading: loadingRequested },\n  ] = useLazyQuery(BOOKINGS, { fetchPolicy: \"cache-and-network\" });\n\n  socketServer.on(\"booking\", (data) => {\n    setReloadData(!reloadData);\n    // newSound.play();\n  });\n\n  socketServer.on(\"approveBooking\", (res) => {\n    if (res === house?._id) {\n      // newSound.play();\n      setReloadData(!reloadData);\n    }\n  });\n  // data HouseLocal\n  useEffect(() => {\n    const _local = getStaffLogin();\n    setUserData(_local?.data || {});\n    setHouse(getLocalHouse());\n    //sidebar min\n    const localSideBarMini = localStorage.getItem(\"SIDEBAR_MINI\");\n    if (localSideBarMini === \"true\") {\n      document.body.classList.add(\"sidebar-collapse\");\n    }\n  }, []);\n  // end\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(house?._id),\n    };\n    if (userData?.role === \"SUPER_ADMIN\" || userData?.role === \"IT\") {\n      delete whereData.house;\n    }\n    queryBookingFull({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"CHECK_IN\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n\n    queryBooking({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"BOOKING\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n    queryBookingRequested({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"REQUESTED\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [house?._id, reloadData]);\n\n  return (\n    <>\n      <div>\n        <div className=\"appHeader  border-0 mr-0\">\n          <div style={{ flex: 1 }} className=\"text-left\">\n            <button\n              className=\"btn text-white\"\n              onClick={(e) => {\n                setButton(!clickButton);\n              }}\n            >\n              <i className=\"fa-solid fa-magnifying-glass fa-2 ms-2\" />\n            </button>\n          </div>\n          {clickButton === true ? (\n            <>\n              <SelectLocalHouse\n                style={{ width: \"100%\" }}\n                value={house?._id}\n                onChange={(obj) => {\n                  if (obj?._id) {\n                    setHouse(obj);\n                    localStorage.setItem(\"HOUSE\", JSON.stringify(obj));\n                    window.location.reload();\n                  }\n                }}\n                ownerId={userData?._id}\n              />\n            </>\n          ) : (\n            <b className=\"text-white\">\n              {house?.houseName ? house?.houseName : \"ຈັດການບໍລິການອື່ນໆ\"}\n            </b>\n          )}\n          <div\n            className=\"text-white pageTitle text-right text-nowrap pr-0\"\n            style={{ flex: 1 }}\n          ></div>\n        </div>\n        <div id=\"appCapsule\" style={{ marginTop: -10 }}>\n          <div className=\"section wallet-card-section\">\n            <div className=\"session-list mt-1\" ng-controller=\"home\">\n              <div\n                className=\"wallet-card\"\n                style={{ borderBottom: \"1px solid red\" }}\n              >\n                {/* rare */}\n                <div className=\"wallet-footer\">\n                  <div className=\"item\">\n                    <a\n                      onClick={(e) =>\n                        history.push(`${ROUTES.RATE_EXCHANGE_SCREEN}/1`)\n                      }\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-solid fa-kip-sign fa-2x\" />\n                      </div>\n                      <h5>ອັດຕາແລກປ່ຽນ</h5>\n                    </a>\n                  </div>\n                  <div className=\"item\">\n                    <a onClick={(e) => history.push(`${ROUTES.TAB_MENU}/Type`)}>\n                      <div className=\"icon-wrapper\">\n                        <i className=\"icon-plus-circle me-1 fa-2x ms-1\" />\n                      </div>\n                      <h5>ເພີ່ມຫ້ອງ</h5>\n                    </a>\n                  </div>\n                  <div className=\"item\">\n                    <a\n                      onClick={(e) => {\n                        history.push(`${ROUTES.TAB_MENU_INCOME}/Type`);\n                      }}\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-solid fa-book fa-2x\" />\n                      </div>\n                      <h5>ລາຍງານ</h5>\n                    </a>\n                  </div>\n                </div>\n                <div className=\"wallet-footer\">\n                  <div className=\"item\">\n                    <a\n                      onClick={(e) => {\n                        history.push(`${ROUTES.TAB_EQUIMENT}/Type`);\n                      }}\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i class=\"fa-solid fa-chart-line fa-2x\" />\n                      </div>\n                      <h5>ຈັດການຊັບສິນ</h5>\n                    </a>\n                  </div>\n                  <div className=\"item\">\n                    <a\n                      onClick={(e) => {\n                        history.push(`${ROUTES.TAB_ACCOUNT}/Type`);\n                      }}\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-sharp fa-solid fa-file-invoice-dollar fa-2x\" />\n                      </div>\n                      <h5>ຈັດການບັນຊີ</h5>\n                    </a>\n                  </div>\n                  <div className=\"item\">\n                    <a\n                      onClick={(e) => {\n                        history.push(`${ROUTES.PROMOTION_SCREEN}/1`);\n                      }}\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-solid fa-hand-holding-dollar fa-2x\" />\n                      </div>\n                      <h5>ຈັດການໂປຣໂມຊັ່ນ</h5>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* ບໍລິການອື່ນ */}\n            {(userData?.role === \"SUPER_ADMIN\") |\n              (userData?.role === \"IT\") |\n              (userData?.role === \"ADMIN\") && (\n              <>\n                <div className=\"transactions mt-2 \">\n                  <a href=\"javascript:void(0)\" className=\"item pr-0\">\n                    <div className=\"\">\n                      {loadingRequested ? (\n                        <span\n                          className=\"ms-4\"\n                          style={{\n                            position: \"fixed\",\n                            marginTop: -5,\n                            marginRight: -10,\n                            padding: 0,\n                            zIndex: 1000,\n                          }}\n                        >\n                          {loadingData(10)}\n                        </span>\n                      ) : setDataRequested?.bookings?.total > 0 ? (\n                        <span\n                          className=\"badge badge-success ms-2\"\n                          style={{\n                            position: \"fixed\",\n                            marginTop: -10,\n                            marginRight: -50,\n                            padding: 0,\n                            zIndex: 1000,\n                          }}\n                        >\n                          <small className=\"p-1\">\n                            {setDataRequested?.bookings?.total\n                              ? setDataRequested?.bookings?.total\n                              : \"\"}\n                          </small>\n                        </span>\n                      ) : null}\n                      <a\n                        onClick={(e) => {\n                          history.push(\n                            `${`${ROUTES.REQUEST_BOOKING_SCREEN}/1`}`\n                          );\n                        }}\n                      >\n                        <div className=\"icon-wrapper mt-1\">\n                          <i className=\"fa-solid fa-cart-plus fa-2x text-center ms-2 mb-1\" />\n                        </div>\n                        <h5>ການຮ້ອງຈອງ</h5>\n                      </a>\n                    </div>\n                    <div className=\"\">\n                      <a\n                        onClick={(e) => {\n                          history.push(`${ROUTES.BOOKING_CANCEL}/1`);\n                        }}\n                      >\n                        <div className=\"icon-wrapper\">\n                          <i class=\"fa-solid fa-triangle-exclamation fa-2x mb-1\" />\n                        </div>\n                        <h5>ຍົກເລີກ</h5>\n                      </a>\n                    </div>\n                    <div className=\"me-3\">\n                      <a\n                        onClick={(e) => {\n                          history.push(`${ROUTES.SETTING}/1`);\n                        }}\n                      >\n                        <div className=\"icon-wrapper\">\n                          <i className=\"fa-solid fa-gear fa-2x mb-1\" />\n                        </div>\n                        <h5>ຕັ້ງຄ່າ</h5>\n                      </a>\n                    </div>\n                  </a>\n                </div>\n              </>\n            )}\n          </div>\n          <BottomNav />\n        </div>\n      </div>\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/logo-bg.c4e532cf.png\";","export default __webpack_public_path__ + \"static/media/wrong.c1336331.png\";","import { red } from \"@mui/material/colors\";\nimport React from \"react\";\nimport { Image } from \"react-bootstrap\";\nimport bgImage from \"../../img/logo-bg.png\";\nimport noData from \"../../img/wrong.png\";\nexport default function NoData({ loading }) {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"calc(80vh - 40px)\",\n      }}\n    >\n      {loading ? (\n        // <Image\n        //   src={require(\"../../img/empty.gif\").default}\n        //   style={{ width: \"50%\" }}\n        // />\n        <></>\n      ) : (\n        <>\n          <div\n            style={{\n              backgroundImage: `url(${bgImage})`,\n              backgroundSize: \"cover\",\n              minWidth: \"100%\",\n              minHeight: \"100%\",\n              backgroundSize: \"cover\",\n              backgroundPosition: \"center\",\n              opacity: 0.03,\n              position: \"absolute\",\n            }}\n          ></div>\n          <img src={noData}\n           width= \"15%\"\n          />\n        </>\n      )}\n    </div>\n  );\n}\n","import { gql } from \"@apollo/client\";\r\nexport const QUERY_BOOKING = gql`\r\n query Data(\r\n  $limit: Int\r\n  $skip: Int\r\n  $orderBy: OrderByInput\r\n  $where: BookingWhereInput\r\n) {\r\n  bookings(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n    total\r\n    data {\r\n      _id\r\n      houseCode\r\n      status\r\n      bookDate\r\n      bookDay\r\n      bookTime\r\n      inTime\r\n      checkInAt\r\n      checkOutAt\r\n      fee\r\n      feeBooking\r\n      paidStatus\r\n      bookingType\r\n      updatedAt\r\n      halfPriceTotal\r\n      fullPriceTotal\r\n      isDeleted\r\n      bookCode\r\n      images\r\n      incomeKIP\r\n      incomeTHB\r\n      incomeUSD\r\n      exChange\r\n      consolidateID\r\n      customer {\r\n        _id\r\n        gender\r\n        age\r\n        phoneNumber\r\n        fullName\r\n      }\r\n      acceptBy {\r\n        firstName\r\n        lastName\r\n      }\r\n      updatedBy {\r\n        firstName\r\n        lastName\r\n      }\r\n      room {\r\n        title_lao\r\n        title_eng\r\n        priceHalf\r\n        priceFull\r\n        _id\r\n      }\r\n      house {\r\n        _id\r\n        houseName\r\n        contactPhone\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n`;\r\n\r\nexport const UPDATE_CHECK_IN = gql`\r\nmutation UpdateRoom($data: RoomInput!, $where: RoomWhereInputOne!) {\r\n  updateRoom(data: $data, where: $where) {\r\n    _id\r\n  }\r\n}\r\n`;\r\n\r\nexport const UPDATE_BOOKING_STATUS = gql`\r\nmutation UpdateBooking($data: BookingInput!, $where: BookingWhereInputOne!) {\r\n  updateBooking(data: $data, where: $where) {\r\n    _id\r\n  }\r\n}\r\n`;\r\n\r\nexport const HOUSE = gql`\r\nquery Houses($where: HouseWhereInput, $limit: Int) {\r\n  houses(where: $where, limit: $limit) {\r\n    data {\r\n      type {\r\n        title_lao\r\n        title_eng\r\n      }\r\n      _id\r\n    }\r\n  }\r\n}\r\n`;","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getLocalHouse } from \"..\";\n\nconst SELECT_ROOM = gql`\n  query Rooms($where: RoomWhereInput) {\n    rooms(where: $where) {\n      data {\n        _id\n        title_lao\n        title_eng\n      }\n    }\n  }\n`;\nexport default function SearchRoom({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(\n    SELECT_ROOM,\n    { fetchPolicy: \"network-only\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          house:localHouse,\n          status: \"FULL\",\n        },\n      },\n      orderBy: \"createdAt_DESC\",\n    });\n  }, [localHouse]);\n\n  useEffect(() => {\n    const results = data?.rooms?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.title_lao + \" / \" + item?.title_eng,\n        };\n        return object;\n      });\n      setItems([{ value: \"\", label: \"ທັງຫມົດ\" }, ..._results]);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n  return (\n    <div style={{ width: \"100%\", fontSize: 16, color: \"black\",heigh:\"100%\" }}>\n      <Select\n        styles={style}\n        className={className}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກຫ້ອງ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateTime,\n  getLocalHouse,\n  ITEM_PER_PAGE,\n  loadingData,\n  paiStatus,\n  setParams,\n  socketServer,\n} from \"../../../helper\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  HOUSE,\n  UPDATE_BOOKING_STATUS,\n} from \"./apollo\";\nexport default function TypeHouse({ getId }) {\n  const { history, location, match } = useReactRouter();\n  const numberPage = match?.params?.page;\n  const [listData, setListData] = useState()\n  const query = new URLSearchParams(location.search);\n  const [queryHouse, { data: setData, loading: loadingId }] =\n    useLazyQuery(HOUSE, { fetchPolicy: \"cache-and-network\" });\n  // detail\n  useEffect(() => {\n    queryHouse({\n      variables: {\n        where: {\n          _id: getId,\n        },\n        orderBy: \"createdAt_DESC\",\n        limit: 1,\n      },\n    });\n  }, [getId]);\n\n  const getData = setData?.houses?.data[0];\n\n  return (\n    <>\n        <td className=\"text-end text-black\">\n          {getData?.type?.title_lao ? getData?.type?.title_lao : \"-\"}\n        </td>\n    </>\n  );\n}","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../helper\";\nimport { QUERY_BOOKING } from \"./apollo\";\nimport TypeHouse from \"./TypeHouse\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        tabindex=\"-1\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title>ຂໍ້ມູນຫ້ອງ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  mr-4\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຫ້ອງ</span>\n                    <span className=\"text-black text-end\">{data?.room?.title_lao}</span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ປະເພດກິດຈະການ</span>\n                      <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ກິດຈະການ</span>\n                    <span className=\"text-black text-end\">{data?.house?.houseName}</span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ລູກຄ້າ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ເວລາຈອງ</span>\n                    <span className=\"text-black text-end\">{data?.bookTime}</span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ວັນທີຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຈຳນວນມື້</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຊົ່ວໂມພັກ</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຄ້າງຄືນ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຊົ່ວຄາວ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊຳລະ</span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\">ບໍ່ມີຂໍ້ມູນ</p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-white me-1 border-top btn-primary\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-white\" />\n          ປິດ\n        </button>\n      </Modal>\n    </>\n  );\n}\n","import React, { useRef, useState } from \"react\";\nimport { Pagination as Page } from \"react-bootstrap\";\n\nexport default function Pagination({\n  style,\n  onPageChange,\n  className,\n  pageTotal = [1],\n  limit = 6,\n  currentPage,\n}) {\n\n  const handleClick = (page) => {\n    if (onPageChange) onPageChange(page);\n  };\n  return (\n    <Page className={`justify-content-center  ${className}`} style={style}>\n      <Page.Prev\n        onClick={() => {\n          if (currentPage <= 1) {\n            handleClick(1);\n          } else {\n            handleClick(currentPage - 1);\n          }\n        }}\n      />\n      {pageTotal?.map((page, index) => (\n        <>\n          {page <= limit && (\n            <Page.Item\n             style={{backgroundColor:\"green\"}}\n              key={index}\n              active={currentPage === page ? true : false}\n              onClick={() => handleClick(page)}\n            >\n              {page}\n            </Page.Item>\n          )}\n        </>\n      ))}\n      {pageTotal?.length > limit && (\n        <select\n          className=\"form-select py-0\"\n          style={{ width: 80, color: \"#f54f02\" }}\n          onChange={(e) => {\n            let value = e.target.value;\n            if (value) {\n              handleClick(parseInt(value));\n            }\n          }}\n        >\n          <option value=\"\">ເພີ່ມເຕີມ</option>\n          {pageTotal?.map((page, index) => (\n            <>\n              {page > limit && (\n                <option\n                  key={index}\n                  value={page}\n                  selected={page === currentPage ? true : false}\n                >\n                  {page}\n                </option>\n              )}\n            </>\n          ))}\n        </select>\n      )}\n      <Page.Next\n        onClick={() => {\n          if (currentPage >= pageTotal.length) {\n            handleClick(currentPage);\n          } else {\n            handleClick(currentPage + 1);\n          }\n        }}\n      />\n    </Page>\n  );\n}\n","import { Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  endOfMonth,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  messageConfirm,\n  messageSuccess,\n  newSound,\n  setParams,\n  socketServer,\n  startOfMonth,\n} from \"../../../helper\";\nimport BottomNav from \"../../../layouts/BottomNav\";\nimport { HOME_PAGE, OTHER } from \"../../../routes/app\";\nimport NoData from \"../../../helper/components/NoData\";\nimport moment from \"moment\";\nimport { QUERY_BOOKING, UPDATE_BOOKING_STATUS } from \"./apollo\";\nimport SearchRoom from \"../../../helper/components/SearchRoom\";\nimport DetailRoom from \"./DetailRoom\";\nimport {\n  FormControl,\n  InputAdornment,\n  InputLabel,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nexport default function BookingRequestScreen() {\n  const { match, history, location } = useReactRouter();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const query = new URLSearchParams(location?.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [reloadData, setReloadData] = useState(false);\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [detailRoom, setDetailRoom] = useState();\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const [updateBookingStatus] = useMutation(UPDATE_BOOKING_STATUS);\n  // call Data\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\n    QUERY_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  socketServer.on(\"booking\", (data) => {\n    setReloadData(!reloadData);\n    newSound.play();\n  });\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(localHouse),\n    };\n    if (userData?.role === \"SUPER_ADMIN\" || userData?.role === \"IT\") {\n      delete whereData.house;\n    }\n    queryBooking({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"REQUESTED\",\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n          // _id: parseInt(searchValue ? searchValue : undefined),\n        },\n        skip: numberRow * (numberPage - 1),\n        limit: numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberPage,\n    numberRow,\n    searchValue,\n    reloadData,\n    localHouse,\n    startDate,\n    endDate,\n  ]);\n  // pagination\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(setData?.bookings?.total / numberRow); i++) {\n    countPage.push(i);\n  }\n\n  // update status\n  const updateStatus = async (_id, roomId, customerID, houseId) => {\n    messageConfirm(\"ຕ້ອງການຢືນຢັນແທ້ ຫຼື ບໍ່?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"BOOKING\",\n              paidStatus: 1,\n              room: roomId,\n              customer: customerID,\n              house: houseId,\n              bookDate: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"ຢືນຢັນສຳເລັດ\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n  // cancel\n  const _cancel = async (_id, roomId, houseID) => {\n    messageConfirm(\"ຕ້ອງການຍົກເລີກແທ້ ຫຼື ບໍ່?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"CANCEL\",\n              room: roomId,\n              house: houseID,\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"ຍົກເລີກສຳເລັດແລ້ວ\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n\n  return (\n    <div style={{ marginTop: -80 }}>\n      <div id=\"appCapsule\">\n        <div className=\"justify-content-md-center\">\n          <div className=\"appHeader text-light border-0\">\n            <div style={{ flex: 1 }} className=\"text-left\">\n              <button\n                className=\"btn text-white\"\n                onClick={() => history.push(OTHER)}\n              >\n                <i className=\"fa fa-chevron-left fs-4\" />\n              </button>\n            </div>\n            ຢືນຢັນແຂກຈອງ\n            <div\n              className=\"text-white pageTitle text-right text-nowrap pr-0\"\n              style={{ flex: 1 }}\n            >\n              <button\n                className=\"btn text-white mr-0\"\n                onClick={() => setReloadData(!reloadData)}\n              >\n                {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\n              </button>\n            </div>\n          </div>\n          <br />\n          <br />\n          <div className=\"option-section\">\n            <br />\n            <div className=\"row col-md-12  mt-1\">\n              <div className=\"col-6\">\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={startDate}\n                    name=\"startDate\"\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`startDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n              <div\n                className=\"col-6\"\n                style={{\n                  right: -15,\n                }}\n              >\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={endDate}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`endDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"section  mb-2 mt-1\">\n            <div className=\"transactions\">\n              <div className=\"row\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        <i className=\"fa-solid fa-magnifying-glass\" />\n                      </InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"number\"\n                    placeholder=\"ປ້ອນລະຫັດຈອງ\"\n                    onChange={(e) => setSearchValue(e.target.value)}\n                  />\n                </FormControl>\n              </div>\n              <div className=\"text-center\">\n                {loading ? loadingData(25) : \"\"}\n              </div>\n              {setData?.bookings?.total > 0 ? (\n                <div className=\"listView mt-2\">\n                  {setData?.bookings?.data?.map((data, index) => (\n                    <>\n                      <b\n                        className=\"float-end\"\n                        style={{ marginTop: -8, marginRight: -10 }}\n                      >\n                        <i\n                          className=\"icon-x-circle text-danger\"\n                          onClick={(e) => {\n                            _cancel(\n                              data?._id,\n                              data?.room?._id,\n                              data?.house?._id\n                            );\n                          }}\n                          style={{ fontSize: 20 }}\n                        ></i>\n                      </b>\n                      <a\n                        href=\"javascript:void(0)\"\n                        className=\"item pr-0 \"\n                        key={index}\n                        style={{ borderTop: \"1px solid #ed6b0e\" }}\n                      >\n                        <div\n                          className=\"detail col-md-10\"\n                          onClick={() => setDetailRoom(data?._id)}\n                        >\n                          <div>\n                            <strong>ລະຫັດຈອງ: BH-{data?._id}</strong>\n                            <strong>ຫ້ອງ: {data?.room?.title_lao}</strong>\n                            <b className=\"text-black\">\n                              ລາຄາ:{\" \"}\n                              {data?.room?.priceFull\n                                ? currency(data?.room?.priceFull)\n                                : 0}{\" \"}\n                              /\n                              {data?.room?.priceHalf\n                                ? currency(data?.room?.priceHalf)\n                                : 0}{\" \"}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              ເຂົ້າພັກ:{\" \"}\n                              {data?.bookingType === \"FULL\" ? (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  ຄືນ\n                                </>\n                              ) : (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  ຊົ່ວໂມງ\n                                </>\n                              )}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              ເກັບໄດ້:{\" \"}\n                              {data?.fullPriceTotal > 0 ? (\n                                <>\n                                  {data?.fullPriceTotal\n                                    ? currency(data?.fullPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              ) : (\n                                <>\n                                  {data?.halfPriceTotal\n                                    ? currency(data?.halfPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              )}\n                            </b>\n                          </div>\n                        </div>\n                        <div className=\"right\">\n                          <button\n                            className=\"btn btn-primary btn-sm action-button\"\n                            onClick={(e) => {\n                              updateStatus(\n                                data?._id,\n                                data?.room?._id,\n                                data.customer._id,\n                                data?.house?._id\n                              );\n                            }}\n                          >\n                            <i className=\"icon-check-circle me-1 \" /> ຢືນຢັນ\n                          </button>\n                        </div>\n                      </a>\n                    </>\n                  ))}\n                </div>\n              ) : (\n                <NoData loading={loading} />\n              )}\n              {setData?.bookings?.total > 100 && (\n                <Pagination\n                  className=\"mt-2\"\n                  pageTotal={countPage}\n                  currentPage={numberPage}\n                  onPageChange={(page) => {\n                    history.push({\n                      search: setParams(`page`, page),\n                    });\n                  }}\n                />\n              )}\n            </div>\n          </div>\n          <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { gql } from \"@apollo/client\";\r\nexport const QUERY_BOOKING = gql`\r\n  query Data(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: BookingWhereInput\r\n  ) {\r\n    bookings(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      total\r\n      data {\r\n        _id\r\n        houseCode\r\n        status\r\n        bookDate\r\n        bookDay\r\n        bookTime\r\n        inTime\r\n        checkInAt\r\n        checkOutAt\r\n        fee\r\n        feeBooking\r\n        paidStatus\r\n        bookingType\r\n        updatedAt\r\n        halfPriceTotal\r\n        fullPriceTotal\r\n        isDeleted\r\n        bookCode\r\n        images\r\n        incomeKIP\r\n        incomeTHB\r\n        incomeUSD\r\n        exChange\r\n        consolidateID\r\n        customer {\r\n          _id\r\n          gender\r\n          age\r\n          phoneNumber\r\n          fullName\r\n        }\r\n        acceptBy {\r\n          firstName\r\n          lastName\r\n        }\r\n        updatedBy {\r\n          firstName\r\n          lastName\r\n        }\r\n        room {\r\n          title_lao\r\n          title_eng\r\n          priceHalf\r\n          priceFull\r\n          _id\r\n        }\r\n        house {\r\n          _id\r\n          houseName\r\n          contactPhone\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_CHECK_IN = gql`\r\n  mutation UpdateRoom($data: RoomInput!, $where: RoomWhereInputOne!) {\r\n    updateRoom(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_BOOKING_STATUS = gql`\r\n  mutation UpdateBooking($data: BookingInput!, $where: BookingWhereInputOne!) {\r\n    updateBooking(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const HOUSE = gql`\r\n  query Houses($where: HouseWhereInput, $limit: Int) {\r\n    houses(where: $where, limit: $limit) {\r\n      data {\r\n        type {\r\n          title_lao\r\n          title_eng\r\n        }\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DELETE_BOOKING = gql`\r\nmutation DeleteBooking($where: BookingWhereInputOne!) {\r\n  deleteBooking(where: $where) {\r\n    _id\r\n  }\r\n}`;\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateTime,\n  getLocalHouse,\n  ITEM_PER_PAGE,\n  loadingData,\n  paiStatus,\n  setParams,\n  socketServer,\n} from \"../../../helper\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  HOUSE,\n  UPDATE_BOOKING_STATUS,\n} from \"./apollo\";\nexport default function TypeHouse({ getId }) {\n  const { history, location, match } = useReactRouter();\n  const numberPage = match?.params?.page;\n  const [listData, setListData] = useState()\n  const query = new URLSearchParams(location.search);\n  const [queryHouse, { data: setData, loading: loadingId }] =\n    useLazyQuery(HOUSE, { fetchPolicy: \"cache-and-network\" });\n  // detail\n  useEffect(() => {\n    queryHouse({\n      variables: {\n        where: {\n          _id: getId,\n        },\n        orderBy: \"createdAt_DESC\",\n        limit: 1,\n      },\n    });\n  }, [getId]);\n\n  const getData = setData?.houses?.data[0];\n\n  return (\n    <>\n        <td className=\"text-end text-black\">\n          {getData?.type?.title_lao ? getData?.type?.title_lao : \"-\"}\n        </td>\n    </>\n  );\n}","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../helper\";\nimport { QUERY_BOOKING } from \"./apollo\";\nimport TypeHouse from \"./TypeHouse\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        tabindex=\"-1\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title>ຂໍ້ມູນຫ້ອງ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  mr-4\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຫ້ອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ປະເພດກິດຈະການ</span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ກິດຈະການ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ລູກຄ້າ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ເວລາຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ວັນທີຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຈຳນວນມື້</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຊົ່ວໂມພັກ</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຄ້າງຄືນ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຊົ່ວຄາວ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊຳລະ</span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\">ບໍ່ມີຂໍ້ມູນ</p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-white me-1 border-top btn-primary\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-white\" />\n          ປິດ\n        </button>\n      </Modal>\n    </>\n  );\n}\n","import { Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  endOfMonth,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  getYearCustom,\n  ITEM_PER_PAGE,\n  loadingData,\n  loadingScreen,\n  messageConfirm,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  notiflixConfirm,\n  setParams,\n  socketServer,\n  startOfMonth,\n  _month,\n} from \"../../../helper\";\nimport BottomNav from \"../../../layouts/BottomNav\";\nimport { HOME_PAGE, OTHER } from \"../../../routes/app\";\nimport NoData from \"../../../helper/components/NoData\";\nimport moment from \"moment\";\nimport { DELETE_BOOKING, QUERY_BOOKING, UPDATE_BOOKING_STATUS } from \"./apollo\";\nimport SearchRoom from \"../../../helper/components/SearchRoom\";\nimport DetailRoom from \"./DetailRoom\";\nimport {\n  FormControl,\n  InputAdornment,\n  InputLabel,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nexport default function BookingCancel() {\n  const { match, history, location } = useReactRouter();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const query = new URLSearchParams(location?.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [reloadData, setReloadData] = useState(false);\n  //state month adn year\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [listRoom, setListRoom] = useState();\n  const [detailRoom, setDetailRoom] = useState();\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const [updateBookingStatus] = useMutation(UPDATE_BOOKING_STATUS);\n  const [deleteData] = useMutation(DELETE_BOOKING);\n  // call Data\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\n    QUERY_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n\n  useEffect(() => {\n    queryBooking({\n      variables: {\n        where: {\n          // house: parseInt(localHouse),\n          status: \"CANCEL\",\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n          // _id: parseInt(searchValue ? searchValue : undefined),\n        },\n        skip: numberRow * (numberPage - 1),\n        limit: numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberPage,\n    numberRow,\n    searchValue,\n    reloadData,\n    localHouse,\n    listRoom,\n    startDate,\n    endDate,\n  ]);\n  socketServer.on(\"approveBooking\", (res) => {\n    if (res === localHouse) {\n      // newSound.play();\n      setReloadData(!reloadData);\n    }\n  });\n\n  // pagination\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(setData?.bookings?.total / numberRow); i++) {\n    countPage.push(i);\n  }\n  // update status\n  const updateStatus = async (_id, roomId, houseID) => {\n    messageConfirm(\"ຕ້ອງການດືງຄືນແທ້ ຫຼື ບໍ່?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"REQUESTED\",\n              room: roomId,\n              house: houseID,\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"ດືງກັບຄືນສຳເລັດ\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n  // cancel\n  const _delete = async (_id) => {\n    messageConfirm(\"ຕ້ອງການລືບ ຫຼື ບໍ່?\", async () => {\n      try {\n        const { data: _deleteData } = await deleteData({\n          variables: {\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (_deleteData) {\n          messageSuccess(\"ລືບຂໍ້ມູນສຳເລັດ\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n\n  return (\n    <div style={{ marginTop: -80 }}>\n      <div id=\"appCapsule\">\n        <div className=\"justify-content-md-center\">\n          <div className=\"appHeader text-light border-0\">\n            <div style={{ flex: 1 }} className=\"text-left\">\n              <button\n                className=\"btn text-white\"\n                onClick={() => history.push(OTHER)}\n              >\n                <i className=\"fa fa-chevron-left fs-4\" />\n              </button>\n            </div>\n            ຂໍ້ມູນການຍົກເລີກ\n            <div\n              className=\"text-white pageTitle text-right text-nowrap pr-0\"\n              style={{ flex: 1 }}\n            >\n              <button\n                className=\"btn text-white mr-0\"\n                onClick={() => setReloadData(!reloadData)}\n              >\n                {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\n              </button>\n            </div>\n          </div>\n          <br />\n          <br />\n          <div className=\"option-section\">\n            <br />\n            <div className=\"row col-md-12  mt-1\">\n              <div className=\"col-6\">\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={formatDateDash(startDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`startDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n              <div\n                className=\"col-6\"\n                style={{\n                  right: -15,\n                }}\n              >\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={formatDateDash(endDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`endDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"section  mb-2 mt-1\">\n            <div className=\"transactions\">\n              <div className=\"row\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        <i className=\"fa-solid fa-magnifying-glass\" />\n                      </InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"number\"\n                    placeholder=\"ປ້ອນລະຫັດຈອງ\"\n                    onChange={(e) => setSearchValue(e.target.value)}\n                  />\n                </FormControl>\n              </div>\n              <div className=\"text-center\">\n                {loading ? loadingData(25) : \"\"}\n              </div>\n              {setData?.bookings?.total > 0 ? (\n                <div className=\"listView mt-2\">\n                  {setData?.bookings?.data?.map((data, index) => (\n                    <>\n                      <b\n                        className=\"float-end\"\n                        style={{ marginTop: -8, marginRight: -10 }}\n                      >\n                        <i\n                          className=\"icon-trash text-danger\"\n                          onClick={(e) => {\n                            _delete(data?._id);\n                          }}\n                          style={{ fontSize: 20 }}\n                        ></i>\n                      </b>\n                      <a\n                        href=\"javascript:void(0)\"\n                        className=\"item pr-0 \"\n                        key={index}\n                        style={{\n                          borderTop: \"1px solid #ed6b0e\",\n                        }}\n                      >\n                        <div\n                          className=\"detail col-md-10\"\n                          onClick={() => setDetailRoom(data?._id)}\n                        >\n                          <div>\n                            <strong>ລະຫັດຈອງ: BH-{data?._id}</strong>\n                            <strong>ຫ້ອງ: {data?.room?.title_lao}</strong>\n                            <b className=\"text-black\">\n                              ລາຄາ:{\" \"}\n                              {data?.room?.priceFull\n                                ? currency(data?.room?.priceFull)\n                                : 0}{\" \"}\n                              /\n                              {data?.room?.priceHalf\n                                ? currency(data?.room?.priceHalf)\n                                : 0}{\" \"}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              ເຂົ້າພັກ:{\" \"}\n                              {data?.bookingType === \"FULL\" ? (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  ຄືນ\n                                </>\n                              ) : (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  ຊົ່ວໂມງ\n                                </>\n                              )}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              ເກັບໄດ້:{\" \"}\n                              {data?.fullPriceTotal > 0 ? (\n                                <>\n                                  {data?.fullPriceTotal\n                                    ? currency(data?.fullPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              ) : (\n                                <>\n                                  {data?.halfPriceTotal\n                                    ? currency(data?.halfPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              )}\n                            </b>\n                          </div>\n                        </div>\n                        <div className=\"right\">\n                          <button\n                            className=\"btn btn-primary btn-sm action-button\"\n                            onDoubleClick={() => {\n                              return false;\n                            }}\n                            onClick={(e) => {\n                              updateStatus(\n                                data?._id,\n                                data?.room?._id,\n                                data?.house?._id\n                              );\n                            }}\n                          >\n                            <i className=\"fa-solid fa-rotate-left fa-1x\" />\n                          </button>\n                        </div>\n                      </a>\n                    </>\n                  ))}\n                </div>\n              ) : (\n                <NoData loading={loading} />\n              )}\n              {setData?.bookings?.total > 100 && (\n                <Pagination\n                  className=\"mt-2\"\n                  pageTotal={countPage}\n                  currentPage={numberPage}\n                  onPageChange={(page) => {\n                    history.push({\n                      search: setParams(`page`, page),\n                    });\n                  }}\n                />\n              )}\n            </div>\n          </div>\n          <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { gql } from \"@apollo/client\";\r\nexport const QUERY_HOUSE = gql`\r\n  query Query(\r\n    $where: HouseWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n    $noLimit: Boolean\r\n  ) {\r\n    houses(\r\n      where: $where\r\n      orderBy: $orderBy\r\n      skip: $skip\r\n      limit: $limit\r\n      noLimit: $noLimit\r\n    ) {\r\n      total\r\n      data {\r\n        _id\r\n        houseName\r\n        public\r\n        owner{\r\n          _id\r\n          firstName\r\n          lastName\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const UPDATE_HOUSE = gql`\r\n  mutation Mutation($data: HouseInput!, $where: HouseWhereInputOne!) {\r\n    updateHouse(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const QUERY_BRANCHES = gql`\r\n  query Branches(\r\n    $where: BranchWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    branches(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n      total\r\n      data {\r\n        id_branch\r\n        branch_name\r\n        public\r\n        address_info\r\n        codDay\r\n        map_lat\r\n        map_lng\r\n        powerTime\r\n        percentOfCom\r\n        percentOfPickup\r\n        percentOfCOD\r\n        timeScanOut\r\n        timeScanIn\r\n        provinceID {\r\n        _id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\nexport const QUERY_COMMISSIONS_FRANSHISE = gql`\r\n  query Branches(\r\n    $where: BranchWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    branches(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n      total\r\n      data {\r\n        id_branch\r\n        branch_name\r\n        percentOfCom\r\n        percentOfPickup\r\n        percentOfCOD\r\n        mainBranches\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const QUERY_USERS = gql`\r\n  query Users(\r\n    $where: UserWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n    $noLimit: Boolean\r\n  ) {\r\n    users(\r\n      where: $where\r\n      orderBy: $orderBy\r\n      skip: $skip\r\n      limit: $limit\r\n      noLimit: $noLimit\r\n    ) {\r\n      total\r\n      data {\r\n        _id\r\n        firstName\r\n        lastName\r\n        phoneNumber\r\n        password\r\n        status\r\n        role\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const QUERY_CUSTOMERS = gql`\r\n  query Customers(\r\n    $where: CustomerWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n    $noLimit: Boolean\r\n  ) {\r\n    customers(\r\n      where: $where\r\n      orderBy: $orderBy\r\n      skip: $skip\r\n      limit: $limit\r\n      noLimit: $noLimit\r\n    ) {\r\n      total\r\n      data {\r\n        _id\r\n        fullName\r\n        phoneNumber\r\n        password\r\n        status\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_BRANCHES = gql`\r\nmutation UpdateBranch($data: BranchInput!, $where: BranchWhereInputOne!) {\r\n  updateBranch(data: $data, where: $where) {\r\n    id_branch\r\n  }\r\n}\r\n`;\r\n \r\nexport const UPDATE_USERS = gql`\r\n  mutation Mutation($data: UserInput!, $where: UserWhereInputOne!) {\r\n    updateUser(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const UPDATE_CUSTOMER = gql`\r\n  mutation UpdateCustomer(\r\n    $data: CustomerInput!\r\n    $where: CustomerWhereInputOne!\r\n  ) {\r\n    updateCustomer(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\n\r\n\r\n\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport { QUERY_USERS, UPDATE_USERS } from \"../apollo\";\r\nexport default function BlockUser() {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n\r\n  const [queryUsers, { data: userData, loading }] = useLazyQuery(QUERY_USERS, {\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n  const [updateUser] = useMutation(UPDATE_USERS);\r\n\r\n  useEffect(() => {\r\n    queryUsers({\r\n      variables: {\r\n        where: {\r\n          firstName: searchValue ? searchValue : undefined,\r\n        },\r\n        limit: searchValue ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n  useEffect(() => {\r\n    if (userData) {\r\n      setUsers(userData?.users?.data);\r\n    }\r\n    if (searchValue === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [userData, searchValue]);\r\n\r\n  const _onSearch = () => {\r\n    setSearchValue(searchValue);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n\r\n  const _turnOnStatus = (id, statusCheck) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      statusCheck === \"ACTIVE\"\r\n        ? \"ທ່ານຕ້ອງການ ບລ໋ອກ user ນີ້ແທ້ ຫຼື ບໍ່?\"\r\n        : \"ທ່ານຕ້ອງການປົດບລ໋ອກ user ນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      () => {\r\n        try {\r\n          const _updated = updateUser({\r\n            variables: {\r\n              data: {\r\n                status:\r\n                  statusCheck === \"ACTIVE\"\r\n                    ? String(\"UNACTIVE\")\r\n                    : String(\"ACTIVE\"),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\r\n            setNewLoadData(!newLoadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"p-1 text-black \" onClick={() => setShow(true)}>\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n        ບລ໋ອກ User\r\n      </div>\r\n      <Modal show={show} animation={false} size=\"xl\">\r\n        <Modal.Header className=\"text-black\">\r\n          ບລ໋ອກ User\r\n          <a\r\n            className=\"pull-right ms-2 \"\r\n            style={{ textDecoration: \"none\", marginTop: -10 }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"ຊື່ພະນັງານ...\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{ border: \"1px solid #c2c1be\" }}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => _onSearch()}\r\n              className=\"btn btn-primary btn-lg\"\r\n            >\r\n              <i className=\"icon-search1\" />\r\n            </button>\r\n          </div>\r\n          {loading ? (\r\n            loadingData(23, \"ກຳລັງໂຫຼດຂໍ້ມູນ\")\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-bordered table-sm\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th className=\"text-nowrap\">ຊື່ ແລະ ນາມສະກຸນ</th>\r\n                    <th className=\"text-nowrap\">ບລ໋ອກ</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {users &&\r\n                    users?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"\">{index + 1}</td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.firstName ? item?.firstName : \"-\"}{\" \"}\r\n                          {item?.lastName ? item?.lastName : \"-\"}\r\n                        </td>\r\n                        <td\r\n                          style={{ textAlign: \"center\" }}\r\n                          className=\"text-nowrap\"\r\n                        >\r\n                          <div className=\"form-check form-switch\">\r\n                            <input\r\n                              id=\"_dm-dbOfflineContact\"\r\n                              className=\"form-check-input\"\r\n                              type=\"checkbox\"\r\n                              checked={\r\n                                item?.status === \"ACTIVE\" ? \"ACTIVE\" : \"\"\r\n                              }\r\n                              onChange={() =>\r\n                                _turnOnStatus(item?._id, item?.status)\r\n                              }\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n                {/* <tbody>\r\n                  {users &&\r\n                    users?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"text-center\">{index + 1}</td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.firstName ? item?.firstName : \"-\"}{\" \"}\r\n                          {item?.lastName ? item?.lastName : \"-\"}\r\n                        </td>\r\n                        <td\r\n                          style={{ textAlign: \"center\" }}\r\n                          className=\"text-nowrap\"\r\n                        >\r\n                          <div className=\"form-check form-switch\">\r\n                            <input\r\n                              id=\"_dm-dbOfflineContact\"\r\n                              className=\"form-check-input\"\r\n                              type=\"checkbox\"\r\n                              checked={\r\n                                item?.status === \"ACTIVE\" ? \"ACTIVE\" : \"\"\r\n                              }\r\n                              onChange={() =>\r\n                                _turnOnStatus(item?._id, item?.status)\r\n                              }\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody> */}\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport { QUERY_USERS, UPDATE_USERS } from \"../apollo\";\r\nexport default function ChangeRole() {\r\n  const [show, setShow] = useState(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n  const [editStatus, setEditStatus] = useState(false);\r\n  const [getIndex, setGetIndex] = useState(0);\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const [queryUsers, { data: userData, loading }] = useLazyQuery(QUERY_USERS, {\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n  const [updateUser] = useMutation(UPDATE_USERS);\r\n\r\n  useEffect(() => {\r\n    queryUsers({\r\n      variables: {\r\n        where: {\r\n          firstName: searchValue ? searchValue : undefined,\r\n        },\r\n        limit: searchValue ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n\r\n  useEffect(() => {\r\n    if (userData) {\r\n      setUsers(userData?.users?.data);\r\n    }\r\n    if (searchValue === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [userData, searchValue]);\r\n\r\n  const _onSearch = () => {\r\n    setSearchValue(searchValue);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n\r\n  const _changeRole = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການປ່ຽນສິດການໃຊ້ລະບົບ user ນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      () => {\r\n        try {\r\n          const _updated = updateUser({\r\n            variables: {\r\n              data: {\r\n                role: String(text),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\r\n            setText(text);\r\n            setNewLoadData(!newLoadData);\r\n            setEditStatus(false);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\" p-1 text-black border-top\" onClick={() => setShow(true)}>\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n        ກຳນົດສິດການນຳໃຊ້ລະບົບ\r\n      </div>\r\n      <Modal show={show} animation={false} size=\"xl\">\r\n        <Modal.Header className=\"text-black\">\r\n          ກຳນົດສິດການນຳໃຊ້ລະບົບ\r\n          <a\r\n            className=\"pull-right ms-2 \"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"ຊື່ພະນັກງານ...\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{ border: \"1px solid #c2c1be\" }}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => _onSearch()}\r\n              className=\"btn btn-primary btn-lg\"\r\n            >\r\n              <i className=\"icon-search1\" />\r\n            </button>\r\n          </div>\r\n          {loading ? (\r\n            loadingData(23, \"ກຳລັງໂຫຼດຂໍ້ມູນ\")\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-bordered table-sm text-black\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">#</th>\r\n                    <th>ຊື່ ແລະ ນາມສະກຸນ</th>\r\n                    <th>ສິດການໃຊ້ລະບົບ</th>\r\n                    <th>ຈັດການ</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {users &&\r\n                    users?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"text-center\">{index + 1}</td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.firstName ? item?.firstName : \"-\"}{\" \"}\r\n                          {item?.lastName ? item?.lastName : \"-\"}\r\n                        </td>\r\n                        <td className=\"text-nowrap\">\r\n                          {editStatus && getIndex === item?._id ? (\r\n                            <select\r\n                              className=\"form-control\"\r\n                              onChange={(e) => setText(e.target.value)}\r\n                            >\r\n                              <option defaultValue=\"\">\r\n                                ເລືອກສິດການໃຊ້ລະບົບ\r\n                              </option>\r\n                              <option\r\n                                value=\"HR\"\r\n                                selected={item?.role === \"HR\" ? true : false}\r\n                              >\r\n                                ບຸກຄາລະກອນ\r\n                              </option>\r\n                              <option\r\n                                value=\"ACCOUNTANT\"\r\n                                selected={\r\n                                  item?.role === \"ACCOUNTANT\" ? true : false\r\n                                }\r\n                              >\r\n                                ບັນຊີ\r\n                              </option>\r\n                              <option\r\n                                value=\"FINANCE\"\r\n                                selected={\r\n                                  item?.role === \"FINANCE\" ? true : false\r\n                                }\r\n                              >\r\n                                ການເງິນ\r\n                              </option>\r\n\r\n                              <option\r\n                                value=\"BRANCH_DIRECTOR\"\r\n                                selected={\r\n                                  item?.role === \"BRANCH_DIRECTOR\" ? true : false\r\n                                }\r\n                              >\r\n                                ເຈົ້າຂອງກີດຈະການ\r\n                              </option>\r\n                              <option\r\n                                value=\"IT\"\r\n                                selected={item?.role === \"IT\" ? true : false}\r\n                              >\r\n                                IT\r\n                              </option>\r\n                              <option\r\n                                value=\"CALL_CENTER\"\r\n                                selected={\r\n                                  item?.role === \"CALL_CENTER\" ? true : false\r\n                                }\r\n                              >\r\n                                ເຄົາເຕີ\r\n                              </option>\r\n                              <option\r\n                                value=\"ADMIN\"\r\n                                selected={item?.role === \"ADMIN\" ? true : false}\r\n                              >\r\n                                ADMIN\r\n                              </option>\r\n                              <option\r\n                                value=\"SUPER_ADMIN\"\r\n                                selected={\r\n                                  item?.role === \"SUPER_ADMIN\" ? true : false\r\n                                }\r\n                              >\r\n                                SUPER_ADMIN\r\n                              </option>\r\n                              <option\r\n                                value=\"CUSTOMER_SERVICE\"\r\n                                selected={\r\n                                  item?.role === \"CUSTOMER_SERVICE\"\r\n                                    ? true\r\n                                    : false\r\n                                }\r\n                              >\r\n                                ບໍລິການລູກຄ້າ\r\n                              </option>\r\n                            </select>\r\n                          ) : (\r\n                            item?.role\r\n                          )}\r\n                        </td>\r\n\r\n                        <td style={{ textAlign: \"center\" }}>\r\n                          {editStatus && getIndex === item?._id ? (\r\n                            <a\r\n                              href=\"javaScript:void(0)\"\r\n                              onClick={() => _changeRole(item?._id)}\r\n                              style={{ textDecoration: \"none\" }}\r\n                            >\r\n                              <i className=\"icon-check text-success fa-2x\" />\r\n                            </a>\r\n                          ) : (\r\n                            <a\r\n                              href=\"javaScript:void(0)\"\r\n                              onClick={() => {\r\n                                setEditStatus(true);\r\n                                setGetIndex(item?._id);\r\n                                setText(item?.role);\r\n                              }}\r\n                              style={{ textDecoration: \"none\" }}\r\n                            >\r\n                              <i className=\"icon-edit text-primary\" />\r\n                            </a>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport { QUERY_USERS, UPDATE_USERS } from \"../apollo\";\r\nexport default function ChangePasswordStaff() {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n  const [editStatus, setEditStatus] = useState(false);\r\n  const [getIndex, setGetIndex] = useState(0);\r\n  const [text, setText] = useState(\"\");\r\n  const [searchValuePhone, setSearchValuePhone] = useState(\"\");\r\n  const [queryUsers, { data: userData, loading }] = useLazyQuery(QUERY_USERS, {\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n  const [updateUser] = useMutation(UPDATE_USERS);\r\n\r\n  useEffect(() => {\r\n    queryUsers({\r\n      variables: {\r\n        where: {\r\n          firstName: searchValue ? searchValue : undefined,\r\n          phoneNumber: searchValuePhone\r\n            ? parseInt(searchValuePhone)\r\n            : undefined,\r\n        },\r\n        // limit: searchValue ? 1000 : 10,\r\n        limit: searchValue || searchValuePhone ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n\r\n  useEffect(() => {\r\n    if (userData) {\r\n      setUsers(userData?.users?.data);\r\n    }\r\n    if (searchValue === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [userData, searchValue, searchValuePhone]);\r\n\r\n  useEffect(() => {\r\n    if (searchValuePhone === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [searchValuePhone]);\r\n  const _onSearch = () => {\r\n    setSearchValue(searchValue);\r\n    setSearchValuePhone(searchValuePhone);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  // const _onSearch = () => {\r\n  //   setSearchValue(searchValue);\r\n  //   setNewLoadData(!newLoadData);\r\n  // };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n\r\n  const _changeRole = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການປ່ຽນລະຫັດຜ່ານ user ນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      () => {\r\n        try {\r\n          const _updated = updateUser({\r\n            variables: {\r\n              data: {\r\n                password: String(text),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\r\n            setText(text);\r\n            setNewLoadData(!newLoadData);\r\n            setEditStatus(false);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        className=\"p-1 text-black border-bottom\"\r\n        onClick={() => setShow(true)}\r\n      >\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n        ປ່ຽນລະຫັດຜ່ານພະນັກງານ\r\n      </div>\r\n      <Modal show={show}  animation={false} size=\"xl\">\r\n        <Modal.Header className=\"text-black\">\r\n          {\" \"}\r\n          ປ່ຽນລະຫັດຜ່ານພະນັກງານ\r\n          <a\r\n            className=\"pull-right ms-2 \"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"search\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"ຊື່...\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{ border: \"1px solid #c2c1be\" }}\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"ເບີໂທ...\"\r\n              onChange={(e) => setSearchValuePhone(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{ border: \"1px solid #c2c1be\" }}\r\n              onWheel={(e) => e.target.blur()}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => _onSearch()}\r\n              className=\"btn btn-primary btn-lg\"\r\n            >\r\n              <i className=\"icon-search1\" />\r\n            </button>\r\n          </div>\r\n          {loading ? (\r\n            loadingData(23, \"ກຳລັງໂຫຼດຂໍ້ມູນ\")\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-bordered table-sm text-black\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">#</th>\r\n                    <th className=\"text-nowrap\">ຊື່ ແລະ ນາມສະກຸນ</th>\r\n                    <th className=\"text-nowrap\">ເບີໂທ</th>\r\n                    <th className=\"text-nowrap\">ລະຫັດຜ່ານ</th>\r\n                    <th className=\"text-nowrap\">ຈັດການ</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {users &&\r\n                    users?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"text-center\">{index + 1}</td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.firstName ? item?.firstName : \"-\"}{\" \"}\r\n                          {item?.lastName ? item?.lastName : \"-\"}\r\n                        </td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.phoneNumber ? item?.phoneNumber : \"-\"}\r\n                        </td>\r\n                        <td className=\"text-center text-nowrap\">\r\n                          {editStatus && getIndex === item?._id ? (\r\n                            <input\r\n                              type=\"text\"\r\n                              onChange={(e) => setText(e.target.value)}\r\n                              className=\"form-control text-center\"\r\n                              placeholder=\"* * * * * *\"\r\n                            />\r\n                          ) : (\r\n                            \"* * * * * *\"\r\n                          )}\r\n                        </td>\r\n\r\n                        <td\r\n                          style={{ textAlign: \"center\" }}\r\n                          className=\"text-nowrap\"\r\n                        >\r\n                          {editStatus && getIndex === item?._id ? (\r\n                            <a\r\n                              href=\"javaScript:void(0)\"\r\n                              onClick={() => _changeRole(item?._id)}\r\n                              style={{ textDecoration: \"none\" }}\r\n                            >\r\n                              <i className=\"icon-check text-success fa-2x\" />\r\n                            </a>\r\n                          ) : (\r\n                            <a\r\n                              href=\"javaScript:void(0)\"\r\n                              onClick={() => {\r\n                                setEditStatus(true);\r\n                                setGetIndex(item?._id);\r\n                                setText(item?.role);\r\n                              }}\r\n                              style={{ textDecoration: \"none\" }}\r\n                            >\r\n                              <i className=\"icon-edit text-primary\" />\r\n                            </a>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport { QUERY_CUSTOMERS, UPDATE_CUSTOMER } from \"../apollo\";\r\nexport default function ChangePasswordCustomer() {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [searchValueID, setSearchValueID] = useState(\"\");\r\n  const [searchValuePhone, setSearchValuePhone] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n  const [editStatus, setEditStatus] = useState(false);\r\n  const [getIndex, setGetIndex] = useState(0);\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const [queryCustomer, { data: customerData, loading }] = useLazyQuery(\r\n    QUERY_CUSTOMERS,\r\n    {\r\n      fetchPolicy: \"cache-and-network\",\r\n    }\r\n  );\r\n  const [updateCustomer] = useMutation(UPDATE_CUSTOMER);\r\n\r\n  useEffect(() => {\r\n    queryCustomer({\r\n      variables: {\r\n        where: {\r\n          _id: searchValueID ? parseInt(searchValueID) : undefined,\r\n          phoneNumber: searchValuePhone\r\n            ? parseInt(searchValuePhone)\r\n            : undefined,\r\n        },\r\n        limit: searchValueID || searchValuePhone ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n  useEffect(() => {\r\n    if (customerData) {\r\n      setUsers(customerData?.customers?.data);\r\n    }\r\n    if (searchValueID === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [customerData, searchValueID]);\r\n  useEffect(() => {\r\n    if (searchValuePhone === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [searchValuePhone]);\r\n\r\n  const _onSearch = () => {\r\n    setSearchValueID(searchValueID);\r\n    setSearchValuePhone(searchValuePhone);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n\r\n  const _changeRole = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການປ່ຽນລະຫັດຜ່ານ user ນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      () => {\r\n        try {\r\n          const _updated = updateCustomer({\r\n            variables: {\r\n              data: {\r\n                password: String(text),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\r\n            setText(text);\r\n            setNewLoadData(!newLoadData);\r\n            setEditStatus(false);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"p-1 text-black \" onClick={() => setShow(true)}>\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n        ປ່ຽນລະຫັດຜ່ານລູກຄ້າ\r\n      </div>\r\n      <Modal show={show} animation={false} size=\"xl\">\r\n        <Modal.Header className=\"text-black\">\r\n          ປ່ຽນລະຫັດຜ່ານລູກຄ້າ\r\n          <a\r\n            className=\"pull-right ms-2 \"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <div className=\"input-group mb-3\">\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-lg\"\r\n            placeholder=\"ໄອດີ...\"\r\n            onChange={(e) => setSearchValueID(e.target.value)}\r\n            onKeyPress={_handleKeypress}\r\n            style={{ border: \"1px solid #c2c1be\" }}\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-lg\"\r\n            placeholder=\"ເບີໂທ...\"\r\n            onChange={(e) => setSearchValuePhone(e.target.value)}\r\n            onKeyPress={_handleKeypress}\r\n            style={{ border: \"1px solid #c2c1be\" }}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => _onSearch()}\r\n            className=\"btn btn-primary btn-lg\"\r\n          >\r\n            <i className=\"icon-search1\" />\r\n          </button>\r\n        </div>\r\n        {loading ? (\r\n          loadingData(23, \"ກຳລັງໂຫຼດຂໍ້ມູນ\")\r\n        ) : (\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-sm text-black\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"text-center\">#</th>\r\n                  <th className=\"text-nowrap\">ID</th>\r\n                  <th className=\"text-nowrap\">ຊື່ ແລະ ນາມສະກຸນ</th>\r\n                  <th className=\"text-nowrap\">ເບີໂທ</th>\r\n                  <th className=\"text-nowrap\">ລະຫັດຜ່ານ</th>\r\n                  <th className=\"text-nowrap\">ຈັດການ</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {users &&\r\n                  users?.map((item, index) => (\r\n                    <tr key={index}>\r\n                      <td className=\"text-center\">{index + 1}</td>\r\n                      <td className=\"text-center\">{item?._id}</td>\r\n                      <td className=\"text-nowrap\">\r\n                        {item?.fullName ? item?.fullName : \"-\"}{\" \"}\r\n                      </td>\r\n                      <td className=\"text-nowrap\">\r\n                        {item?.phoneNumber ? item?.phoneNumber : \"-\"}\r\n                      </td>\r\n                      <td className=\"text-center text-nowrap\">\r\n                        {editStatus && getIndex === item?._id ? (\r\n                          <input\r\n                            type=\"text\"\r\n                            onChange={(e) => setText(e.target.value)}\r\n                            className=\"form-control text-center\"\r\n                          />\r\n                        ) : (\r\n                          \"* * * *\"\r\n                        )}\r\n                      </td>\r\n\r\n                      <td\r\n                        style={{ textAlign: \"center\" }}\r\n                        className=\"text-nowrap\"\r\n                      >\r\n                        {editStatus && getIndex === item?._id ? (\r\n                          <a\r\n                            href=\"javaScript:void(0)\"\r\n                            onClick={() => _changeRole(item?._id)}\r\n                            style={{ textDecoration: \"none\" }}\r\n                          >\r\n                            <i className=\"icon-check text-success fa-2x\" />\r\n                          </a>\r\n                        ) : (\r\n                          <a\r\n                            href=\"javaScript:void(0)\"\r\n                            onClick={() => {\r\n                              setEditStatus(true);\r\n                              setGetIndex(item?._id);\r\n                              setText(item?.password);\r\n                            }}\r\n                            style={{ textDecoration: \"none\" }}\r\n                          >\r\n                            <i className=\"icon-edit text-primary\" />\r\n                          </a>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport \"./utils/index.css\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport { QUERY_HOUSE, UPDATE_HOUSE } from \"../apollo\";\r\nexport default function TurnOffHouse() {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const [house, setHouse] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n\r\n  const [queryHouse, { data: resPonData, loading }] = useLazyQuery(\r\n    QUERY_HOUSE,\r\n    { fetchPolicy: \"cache-and-network\" }\r\n  );\r\n  const [updateHouse] = useMutation(UPDATE_HOUSE);\r\n\r\n  useEffect(() => {\r\n    queryHouse({\r\n      variables: {\r\n        where: {\r\n          houseName: searchValue ? searchValue : undefined,\r\n        },\r\n        limit: searchValue ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n  useEffect(() => {\r\n    if (resPonData) {\r\n      setHouse(resPonData?.houses?.data);\r\n    }\r\n    if (searchValue === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [resPonData, searchValue]);\r\n\r\n  const _onSearch = () => {\r\n    setSearchValue(searchValue);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n  const _turnOnHouse = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການເປີດ ກິດຈະການ ນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      async () => {\r\n        try {\r\n          const _updated = await updateHouse({\r\n            variables: {\r\n              data: {\r\n                public: String(\"ACTIVE\"),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\r\n            setNewLoadData(!newLoadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  const _turnOffHouse = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການປິດ ກິດຈະການ ນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      async () => {\r\n        try {\r\n          const _updated = await updateHouse({\r\n            variables: {\r\n              data: {\r\n                public: String(\"INACTIVE\"),\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\r\n            setNewLoadData(!newLoadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        className=\"p-1 text-black border-bottom\"\r\n        onClick={() => setShow(true)}\r\n      >\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n        ຕັ້ງຄ່າເປີດ ແລະ ປິດກິດຈະການ\r\n      </div>\r\n      <Modal show={show} animation={false} size=\"xl\">\r\n        <Modal.Header>\r\n          ຕັ້ງຄ່າເປີດ ແລະ ປິດກິດຈະກໍາ\r\n          <a\r\n            className=\"pull-right ms-2\"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"input-group mt-1\">\r\n            <input\r\n              type=\"search\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"ຊື່ກິດຈະການ...\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{ border: \"1px solid #c2c1be\" }}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => _onSearch()}\r\n              className=\"btn btn-primary btn-lg\"\r\n            >\r\n              <i className=\"icon-search1\" />\r\n            </button>\r\n          </div>\r\n          {loading ? (\r\n            loadingData(23, \"ກຳລັງໂຫຼດຂໍ້ມູນ\")\r\n          ) : (\r\n            <div className=\"table-responsive mt-1\">\r\n              <table className=\"table table-bordered table-sm text-black\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">#</th>\r\n                    <th className=\"text-nowrap\">ຊື່ກິດຈະການ</th>\r\n                    <th className=\"text-nowrap\" width=\"30\">\r\n                      ຈັດການ\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {house &&\r\n                    house?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"text-center\">{index + 1}</td>\r\n                        <td>{item?.houseName ? item?.houseName : \"-\"}</td>\r\n                        <div className=\"form-check form-switch\">\r\n                          <input\r\n                            id=\"_dm-dbOfflineContact\"\r\n                            className=\"form-check-input ms-2\"\r\n                            type=\"checkbox\"\r\n                            checked={item?.public === \"ACTIVE\" ? \"ACTIVE\" : \"\"}\r\n                            onChange={\r\n                              item?.public === \"ACTIVE\"\r\n                                ? () => {\r\n                                    _turnOffHouse(item?._id);\r\n                                  }\r\n                                : () => {\r\n                                    _turnOnHouse(item?._id);\r\n                                  }\r\n                            }\r\n                          />\r\n                        </div>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\nexport const QUERY_TYPE_ROOM = gql`\n  query TypeRooms(\n    $noLimit: Boolean\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: TypeRoomWhereInput\n  ) {\n    typeRooms(\n      noLimit: $noLimit\n      limit: $limit\n      skip: $skip\n      orderBy: $orderBy\n      where: $where\n    ) {\n      total\n      data {\n        _id\n        title_lao\n        title_eng\n      }\n    }\n  }\n`;\nexport const CUSTOMER = gql`\n  query Customers(\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: CustomerWhereInput\n    $noLimit: Boolean\n  ) {\n    customers(\n      limit: $limit\n      skip: $skip\n      orderBy: $orderBy\n      where: $where\n      noLimit: $noLimit\n    ) {\n      total\n      data {\n        _id\n        fullName\n        phoneNumber\n      }\n    }\n  }\n`;\n\nexport const PROVINCES = gql`\n  query Provinces(\n    $where: ProvinceWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    provinces(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      data {\n        _id\n        provinceName\n        provinceCode\n        province_map_lat\n        province_map_lng\n        addressInfo\n      }\n    }\n  }\n`;\n\nexport const DISTRICTS = gql`\n  query Data($where: DistrictWhereInput) {\n    districts(where: $where) {\n      data {\n        _id\n        title\n        province {\n          _id\n          provinceName\n        }\n      }\n    }\n  }\n`;\n\nexport const USER = gql`\n  query Users($where: UserWhereInput) {\n  users(where: $where) {\n    data {\n      _id\n      firstName\n      lastName\n    }\n  }\n}\n`;","import { useLazyQuery } from \"@apollo/client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData } from \"..\";\r\nimport { USER } from \"./apollo\";\r\n\r\nexport default function ListUser({\r\n  style,\r\n  className,\r\n  defaultValue,\r\n  size,\r\n  getData,\r\n  where,\r\n  disabled,\r\n}) {\r\n  const inputSize =\r\n    size === \"lg\"\r\n      ? \"form-control-lg\"\r\n      : size === \"sm\"\r\n      ? \"form-control-sm\"\r\n      : \"form-control-md\";\r\n  const [searchValue, setSearchValue] = useState();\r\n  const [show, setShow] = useState(false);\r\n  const [fetchData, { data, loading }] = useLazyQuery(USER);\r\n  useEffect(() => {\r\n    fetchData({\r\n      variables: {\r\n        where: {\r\n          firstName: searchValue ? searchValue : undefined,\r\n        },\r\n        limit: 100,\r\n      },\r\n    });\r\n  }, [searchValue, where]);\r\n\r\n  const handleClick = (value) => {\r\n    if (!value && getData) {\r\n      getData(null);\r\n      setShow(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const result = data?.users?.data?.filter(\r\n        (obj) => obj?.firstName === value\r\n      );\r\n\r\n      if (result.length > 0 && getData) {\r\n        getData(result[0]);\r\n        setShow(false);\r\n      }\r\n    } catch (error) {\r\n      if (getData) getData();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <input\r\n        type={\"button\"}\r\n        className={`form-control ${inputSize} ${className}`}\r\n        style={{ textAlign: \"left\" }}\r\n        value={defaultValue ? defaultValue : \"ຄົ້ນຫາ...\"}\r\n        onClick={() => setShow(true)}\r\n      />\r\n      <Modal\r\n        show={show}\r\n        centered\r\n        style={style}\r\n        className={className}\r\n        animation={false}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title className=\"fs-5\">ເລືອກພະນັກງານ</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"custom-modal-body\">\r\n          <div className=\"form-group\">\r\n            <input\r\n              type={\"search\"}\r\n              className=\"form-control form-control-lg\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onInput={(e) => {\r\n                if (!e.target.value && getData) getData();\r\n              }}\r\n              placeholder=\"ຄົ້ນຫາ\"\r\n            />\r\n          </div>\r\n          {loading ? (\r\n            <center>{loadingData(25, \"ກຳລັງໂຫຼດຂໍ້ມູນ...\")}</center>\r\n          ) : (\r\n            <div className=\"mt-1\">\r\n\r\n              {data?.users?.data?.map((data, index) => (\r\n                <div\r\n                  className=\"d-flex py-2 border-bottom align-items-center text-black\"\r\n                  key={index}\r\n                  onClick={() => handleClick(data?.firstName)}\r\n                >\r\n                  <span>\r\n                    <i className=\"fa fa-user text-danger mr-2\" />{\" \"}\r\n                    {data?.firstName}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-block btn-danger\"\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x\" /> ຍົກເລີກ\r\n          </button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\r\nimport Notiflix from \"notiflix\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { loadingData, messageError, messageSuccess } from \"../../../helper\";\r\nimport ListUser from \"../../../helper/components/ListUser\";\r\nimport \"./utils/index.css\"\r\nimport { QUERY_HOUSE, UPDATE_HOUSE } from \"../apollo\";\r\nexport default function InviteOwner() {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const [house, setHouse] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n  const [itemID, setItemID] = useState(\"\");\r\n  const [userData, setUserData] = useState([]);\r\n  const [queryHouse, { data: resPonData, loading }] = useLazyQuery(\r\n    QUERY_HOUSE,\r\n    { fetchPolicy: \"cache-and-network\" }\r\n  );\r\n  const [updateHouse] = useMutation(UPDATE_HOUSE);\r\n\r\n  useEffect(() => {\r\n    queryHouse({\r\n      variables: {\r\n        where: {\r\n          houseName: searchValue ? searchValue : undefined,\r\n        },\r\n        limit: searchValue ? 1000 : 10,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [newLoadData]);\r\n  useEffect(() => {\r\n    if (resPonData) {\r\n      setHouse(resPonData?.houses?.data);\r\n    }\r\n    if (searchValue === \"\") {\r\n      setNewLoadData(!newLoadData);\r\n    }\r\n  }, [resPonData, searchValue]);\r\n\r\n  const _onSearch = () => {\r\n    setSearchValue(searchValue);\r\n    setNewLoadData(!newLoadData);\r\n  };\r\n  const _handleKeypress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      _onSearch();\r\n    }\r\n  };\r\n  const _handleSubmit = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງຢືນຢັນລາຍການນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      async () => {\r\n        try {\r\n          const _updated = await updateHouse({\r\n            variables: {\r\n              data: {\r\n                owner: userData?._id,\r\n              },\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_updated) {\r\n            messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\r\n            setItemID(\"\");\r\n            setNewLoadData(!newLoadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"p-1 text-black border-bottom\" onClick={() => setShow(true)}>\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n        ບັນຈຸເຈົ້າຂອງກິດຈະການ\r\n      </div>\r\n      <Modal\r\n        show={show}\r\n        animation={false}size=\"xl\"\r\n      >\r\n        <Modal.Header>\r\n          ບັນຈຸເຈົ້າຂອງກິດຈະການ\r\n          <a\r\n            className=\"pull-right ms-2 \"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <Modal.Body >\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"ຊື່ກິດຈະການ...\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              onKeyPress={_handleKeypress}\r\n              style={{border:\"1px solid #c2c1be\"}}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => _onSearch()}\r\n              className=\"btn btn-primary btn-lg\"\r\n            >\r\n              <i className=\"icon-search1\" />\r\n            </button>\r\n          </div>\r\n          {loading ? (\r\n            loadingData(23, \"ກຳລັງໂຫຼດຂໍ້ມູນ\")\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-bordered table-sm text-black\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">#</th>\r\n                    <th className=\"text-nowrap\">ຊື່ກິດຈະການ</th>\r\n                    <th className=\"text-nowrap\" width=\"200\">\r\n                      ລາຍຊື່ສະມາຊິກ\r\n                    </th>\r\n                    <th className=\"text-nowrap\" width=\"120\">\r\n                      ຈັດການ\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {house &&\r\n                    house?.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"text-center\">{index + 1}</td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?.houseName ? item?.houseName : \"-\"}\r\n                        </td>\r\n                        <td className=\"text-nowrap\">\r\n                          {item?._id === itemID ? (\r\n                            <ListUser\r\n                              getData={(data) => {\r\n                                setUserData(data);\r\n                              }}\r\n                              defaultValue={userData?.firstName}\r\n                            />\r\n                          ) : (\r\n                            <span>\r\n                              {item?.owner?.firstName\r\n                                ? item?.owner?.firstName +\r\n                                  \" \" +\r\n                                  item?.owner?.lastName\r\n                                : \"-\"}\r\n                            </span>\r\n                          )}\r\n                        </td>\r\n                        <td>\r\n                          {item?._id === itemID ? (\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn btn-success btn-sm\"\r\n                              onClick={() => _handleSubmit(item?._id)}\r\n                            >\r\n                              <i className=\"icon-check\" /> ຢືນຢັນ\r\n                            </button>\r\n                          ) : (\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"btn btn-light btn-sm\"\r\n                              onClick={() => setItemID(item?._id)}\r\n                            >\r\n                              <i className=\"icon-edit\" /> ແກ້ໄຂ\r\n                            </button>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const QUERY_USER_STAFF = gql`\r\n query Users($noLimit: Boolean, $limit: Int, $skip: Int, $orderBy: OrderByInput, $where: UserWhereInput) {\r\n  users(noLimit: $noLimit, limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n    total\r\n    data {\r\n      _id\r\n      profileImage\r\n      firstName\r\n      lastName\r\n      gender\r\n      phoneNumber\r\n      password\r\n      carSign\r\n      status\r\n      basicSalary\r\n      role\r\n      province {\r\n      _id\r\n        provinceName\r\n      }\r\n      district {\r\n      _id\r\n        title\r\n      }\r\n      village {\r\n      _id\r\n        title\r\n      }\r\n      house {\r\n        houseName\r\n        _id\r\n      }\r\n      startWorkTime\r\n      endWorkTime\r\n    }\r\n  }\r\n}\r\n`;\r\nexport const ADD_USERSTAFF = gql`\r\n  mutation CreateUser($data: UserInput!) {\r\n    createUser(data: $data) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const UPDATE_USER = gql`\r\n  mutation UpdateUser($data: UserInput!, $where: UserWhereInputOne!) {\r\n    updateUser(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const DELETE_USER = gql`\r\n  mutation DeleteUser($where: UserWhereInputOne!) {\r\n    deleteUser(where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/female.721cc0fe.png\";","import React, { useEffect, useState } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  currency,\n  formatDateDash,\n  ITEM_PER_PAGE,\n  loadingData,\n  messageError,\n  messageSuccess,\n  setGender,\n  userStatus,\n} from \"../../helper\";\nimport female from \"../../img/female.png\";\nimport male from \"../../img/male.png\";\nimport * as ROUTES from \"../../routes/app\";\nimport Notiflix from \"notiflix\";\nimport { QUERY_USER_STAFF } from \"./apollo\";\n\nexport default function DetailProfile() {\n  const { history, location, match } = useReactRouter();\n  const getId = match?.params?._id;\n  // get query search\n  const query = new URLSearchParams(location.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [numberRows, setNumberRows] = useState(rows ? rows : ITEM_PER_PAGE);\n  const [dataUserStaff, setDataUserStaff] = useState([]);\n  const [newLoadData, setNewLoadData] = useState(false);\n\n  const [getUserStaff, { data: resUserStaffData, loading }] = useLazyQuery(\n    QUERY_USER_STAFF,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    getUserStaff({\n      variables: {\n        where: {\n          _id:parseInt(getId),\n        },\n        limit: 1,\n      },\n    });\n  }, [getId]);\n  useEffect(() => {\n    if (resUserStaffData) {\n      setDataUserStaff(resUserStaffData?.users?.data);\n    }\n  }, [resUserStaffData]);\n  //pageination\n  const countData = resUserStaffData?.users?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRows); i++) {\n    countPage.push(i);\n  }\n\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\">\n            ລາຍລະອຽດໂປຮໄຟລ໌ພະນັກງານ\n          </h3>\n        </div>\n      </div>\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"row card\">\n                <div className=\"card-body\">\n                  <div className=\"table-responsive\">\n                    <table className=\"table table-striped table-sm\">\n                      <tbody>\n                        {resUserStaffData?.users?.data &&\n                          resUserStaffData?.users?.data?.map((data, index) => (\n                            <>\n                              <div className=\"col-md-2\">\n                                {data?.profileImage ? (\n                                  <></>\n                                ) : (\n                                  <>\n                                    <img\n                                      src={male}\n                                      style={{\n                                        width: \"170px\",\n                                        height: \"180px\",\n                                      }}\n                                    />\n                                  </>\n                                )}\n                              </div>\n                              <tr>\n                                <td className=\"text-left\">ຊື ແລະ ນາມສະກຸມ</td>\n                                <td className=\"text-end\">\n                                  {data?.firstName ? data?.firstName : \"-\"}{\" \"}\n                                  {data?.lastName ? data?.lastName : \"-\"}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>ເພດ:</td>\n                                <td className=\"text-end\">\n                                  {setGender(data?.gender ? data?.gender : \"-\")}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>ອາຍຸ:</td>\n                                <td className=\"text-end\">\n                                  {data?.phoneNumber ? data?.phoneNumber : \"-\"}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>ແຂວງ:</td>\n                                <td className=\"text-end\">\n                                  {data?.province?.provinceName\n                                    ? data?.province?.provinceName\n                                    : \"-\"}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>ເມືອງ:</td>\n                                <td className=\"text-end\">\n                                  {data?.district?.title\n                                    ? data?.district?.title\n                                    : \"-\"}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>ບ້ານ:</td>\n                                <td className=\"text-end\">\n                                  {data?.village?.title\n                                    ? data?.village?.title\n                                    : \"-\"}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>ບັດປະຈຳຕົວ ຫລື ສຳມະໂນຄົວ:</td>\n                                <td className=\"text-end\">\n                                  {data?.carSign ? data?.carSign : \"-\"}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>ຕຳແຫນ່ງ:</td>\n                                <td className=\"text-end\">\n                                  {userStatus(data?.role ? data?.role : \"-\")}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>ເງິນເດືອນພື້ນຖານ:</td>\n                                <td className=\"text-end\">\n                                  {currency(\n                                    data?.basicSalary ? data?.basicSalary : 0\n                                  )}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>ວັນທີ່ເລີ່ມງານ:</td>\n                                <td className=\"text-end\">\n                                  {formatDateDash(\n                                    data?.startWorkTime\n                                      ? data?.startWorkTime\n                                      : 0\n                                  )}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td>ວັນທີອອກວຽກ:</td>\n                                <td className=\"text-end\">\n                                  {formatDateDash(\n                                    data?.endWorkTime ? data?.endWorkTime : 0\n                                  )}\n                                </td>\n                              </tr>\n                            </>\n                          ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nexport default function Gender({ value, onClick, className, style }) {\n  return (\n    <div className={`text-center ${className}`} style={style}>\n      <div className=\"btn-group\">\n        <Button\n          variant={value === \"MALE\" ? \"primary\" : \"dark\"}\n          className=\"fs-6\"\n          onClick={() => {\n            if (onClick) onClick(\"MALE\");\n          }}\n        >\n          <i className=\"fa fa-male\" /> <span className=\"ml-1\">ຊາຍ</span>\n        </Button>\n        <Button\n          variant={value === \"FEMALE\" ? \"primary\" : \"dark\"}\n          className=\"fs-6\"\n          onClick={() => {\n            if (onClick) onClick(\"FEMALE\");\n          }}\n        >\n          <i className=\"fa fa-female\" /> <span className=\"ml-1\">ຍິງ</span>\n        </Button>\n        <Button\n          variant={value === \"OTHER\" ? \"primary\" : \"dark\"}\n          className=\"fs-6\"\n          onClick={() => {\n            if (onClick) onClick(\"OTHER\");\n          }}\n        >\n          <i className=\"fa fa-venus-double\" />{\" \"}\n          <span className=\"ml-1\">ບໍ່ລະບຸ</span>\n        </Button>\n      </div>\n    </div>\n  );\n}\n","import S3 from 'react-aws-s3';\n\nconst config = {\n    bucketName: 'bithouse-bucket',\n    dirName: 'images', \n    region: 'ap-southeast-1',\n    accessKeyId: 'AKIARU4Q6V6AGTS2DCIJ',\n    secretAccessKey: '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',\n    s3Url: 'https://bithouse-bucket.s3.ap-southeast-1.amazonaws.com', \n}\n\n\n\n export const s3Client = new S3(config);\n\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\n\nconst QUERY = gql`\n  query Districts($where: DistrictWhereInput) {\n    districts(where: $where) {\n      data {\n        title\n        id_list\n        id_state {\n          id_state\n          provinceName\n        }\n      }\n    }\n  }\n`;\n\nexport default function SelectDistrict({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n  provinceId,\n}) {\n  const [getData, setData] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data, loading }] = useLazyQuery(QUERY);\n\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          // id_state: \"1\",\n        },\n      },\n    });\n  }, [provinceId]);\n  \n\n  useEffect(() => {\n    const results = data?.districts?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((_data) => {\n        const object = {\n          ..._data,\n          value: _data?.id_list,\n          label: _data?.title,\n        };\n        return object;\n      });\n      setData(_results);\n    } else {\n      setData([]);\n    }\n  }, [data]);\n\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = getData?.filter((_data) => _data?.id_list === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [getData, value]);\n\n  return (\n    <div style={{ width: \"100%\", color: \"black\", fontSize: 16 }}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກເມືອງ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={getData}\n      />\n    </div>\n  );\n}\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\n\nconst QUERY = gql`\n  query Provinces {\n    provinces {\n      data {\n        _id\n        provinceName\n      }\n    }\n  }\n`;\n\nexport default function SelectProvince({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [getData, setData] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data, loading }] = useLazyQuery(QUERY);\n\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {},\n      },\n    });\n  }, []);\n\n  useEffect(() => {\n    const results = data?.provinces?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((_data) => {\n        const object = {\n          ..._data,\n          value: _data?._id,\n          label: _data?.provinceName,\n        };\n        return object;\n      });\n      setData(_results);\n    } else {\n      setData([]);\n    }\n  }, [data]);\n\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = getData?.filter((_data) => _data?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [getData, value]);\n\n  return (\n    <div style={{ width: \"100%\", color:\"black\",fontSize:16 }}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກແຂວງ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={getData}\n      />\n    </div>\n  );\n}\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\n\nconst QUERY = gql`\n  query Villages($where: VillageWhereInput) {\n    villages(where: $where) {\n      data {\n        _id\n        title\n      }\n    }\n  }\n`;\n\nexport default function SelectVillage({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n  districtId,\n}) {\n  const [getData, setData] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data, loading }] = useLazyQuery(QUERY);\n\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          district: districtId,\n        },\n      },\n    });\n  }, [districtId]);\n\n  useEffect(() => {\n    const results = data?.villages?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((_data) => {\n        const object = {\n          ..._data,\n          value: _data?._id,\n          label: _data?.title,\n        };\n        return object;\n      });\n      setData(_results);\n    } else {\n      setData([]);\n    }\n  }, [data]);\n\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = getData?.filter((_data) => _data?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [getData, value]);\n\n  return (\n    <div style={{ width: \"100%\", color: \"black\", fontSize: 16 }}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກບ້ານ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={getData}\n      />\n    </div>\n  );\n}\n","import { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { ADD_USERSTAFF, UPDATE_USER } from \"./apollo\";\nimport { Formik, useFormik } from \"formik\";\nimport {\n  endOfMonth,\n  formatDateDash,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  startOfMonth,\n  valiDate,\n} from \"../../helper\";\nimport Gender from \"../../helper/Gender\";\nimport male from \"../../img/female.png\";\nimport * as ROUTES from \"../../routes/app\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { s3Client } from \"../../helper/s3Client\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport \"./utils/index.css\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\nimport SelectDistrict from \"../../helper/components/SelectDistrict\";\nimport SelectProvince from \"../../helper/components/SelectProvince\";\nimport SelectVillage from \"../../helper/components/SelectVillage\";\nexport default function EditUserStaff({ onSuccess, getData }) {\n  const [show, setShow] = useState(false);\n  const [role, setRole] = useState(getData?.role);\n  const [update_user] = useMutation(UPDATE_USER);\n  const handleClose = () => setShow(false);\n  const jsonObj = getStaffLogin();\n  const userInfo = jsonObj?.data;\n  const [provinceData, setProvinceData] = useState({});\n  const [districtData, setDistrictData] = useState({});\n  const [viLLage, setVillageData] = useState({});\n\n  const [imageName, setImageName] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [gender, setGender] = useState(getData?.gender);\n  const [getHouse, setHouse] = useState({});\n  const [startWorkTime, setStartDate] = useState(\n    formatDateDash(getData?.startWorkTime)\n  );\n  const [endWorkTime, setEndDate] = useState(\n    formatDateDash(getData?.endWorkTime)\n  );\n  // pictrue\n  const handleUpload = async (event) => {\n    const imageName = uuidv4() + \".\" + event.target.files[0].type.split(\"/\")[1];\n    const _file = event.target.files[0];\n    setFile(_file);\n    const res = await s3Client.uploadFile(_file, imageName);\n    if (res?.location) {\n      setFile(_file);\n      // setImageName(res?.location);\n      setImageName(imageName);\n      messageSuccess(\"ອັບໂຫຼດຮູບພາບສຳເລັດແລ້ວ\");\n    } else {\n      setFile(null);\n      setImageName(\"\");\n      messageWarning(\"ການອັບໂຫຼດຮູບພາບບໍ່ສຳເລັດ\");\n    }\n  };\n\n  const {\n    handleChange,\n    errors,\n    values,\n    handleSubmit,\n    resetForm,\n    setFieldValue,\n  } = useFormik({\n    initialValues: {\n      firstName: \"\",\n      lastName: \"\",\n      phoneNumber: \"\",\n      password: \"\",\n      startWorkTime: \"\",\n      endWorkTime: \"\",\n      carSign: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!values.firstName) {\n        errors.firstName = \"error\";\n      }\n      if (!values.lastName) {\n        errors.lastName = \"error\";\n      }\n      if (!values.phoneNumber) {\n        errors.phoneNumber = \"error\";\n      }\n      if (!role) errors.role = \"error\";\n      if (!districtData?._id) errors.district = \"error\";\n      if (!provinceData?._id) errors.province = \"error\";\n      if (!getHouse?._id) errors.house = \"error\";\n      if (!role) errors.role = \"error\";\n      return errors;\n    },\n    onSubmit: async (values) => {\n      // return\n      loadingScreen();\n      try {\n        const { data: create } = await update_user({\n          variables: {\n            data: {\n              carSign: String(values?.carSign),\n              startWorkTime: String(startWorkTime),\n              endWorkTime: String(endWorkTime),\n              firstName: String(values?.firstName),\n              lastName: String(values?.lastName),\n              phoneNumber: parseInt(values?.phoneNumber),\n              profileImage: String((values.profileImage = imageName)),\n              village: viLLage?._id,\n              district: String(districtData?._id),\n              province: String(provinceData?._id),\n              role: String(role),\n              gender: String(gender),\n              house: String(getHouse?._id),\n            },\n            where: {\n              _id: getData?._id,\n            },\n          },\n        });\n        if (create) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            window.scrollTo(0, 0);\n          }, 100);\n          onSuccess();\n          setShow(false);\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        Notiflix.Loading.remove();\n        console.log(error);\n        messageError(\"ແກ້ໄຂຂໍ້ມູນຜິດພາດ\");\n      }\n    },\n  });\n\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    setProvinceData(getData?.province);\n    setDistrictData(getData?.district);\n    setVillageData(getData?.village);\n    setHouse(getData?.house);\n    setFieldValue(\n      \"firstName\",\n      getData?.firstName ? getData?.firstName : \"\",\n      false\n    );\n    setFieldValue(\n      \"lastName\",\n      getData?.lastName ? getData?.lastName : \"\",\n      false\n    );\n    setFieldValue(\n      \"phoneNumber\",\n      getData?.phoneNumber ? getData?.phoneNumber : \"\",\n      false\n    );\n    setFieldValue(\n      \"password\",\n      getData?.password ? getData?.password : \"\",\n      false\n    );\n    setFieldValue(\n      \"startWorkTime\",\n      getData?.startWorkTime ? getData?.startWorkTime : \"\",\n      false\n    );\n    setFieldValue(\n      \"endWorkTime\",\n      getData?.endWorkTime ? getData?.endWorkTime : \"\",\n      false\n    );\n    setFieldValue(\"carSign\", getData?.carSign ? getData?.carSign : \"\", false);\n  }, [getData, show]);\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn btn-light btn-sm\"\n        onClick={(e) => {\n          e.stopPropagation();\n          setShow(true);\n        }}\n      >\n        <i className=\"icon icon-edit\"></i>\n      </button>\n      <Modal\n        show={show}\n        onHide={() => setShow(false)}\n        animation={false}\n        size=\"xl\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title className=\"fs-5\">\n            <i className=\"icon-edit\" /> ແກ້ໄຂພະນັກງານ\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"row mt-1\">\n            <div className=\"form-group\">\n              <label className=\"control-label\">ອັບໂຫຼດຮູບໂປຣໄຟຣ໌</label>\n              <div style={{ textAlign: \"center\" }} for=\"file-upload\">\n                <input\n                  type=\"file\"\n                  id=\"file-upload\"\n                  className=\"bg-danger\"\n                  onChange={handleUpload}\n                  hidden\n                />\n                <label htmlFor=\"file-upload\" className=\"long-border\">\n                  {file ? (\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      style={{ width: \"170px\", height: \"180\" }}\n                    />\n                  ) : (\n                    <img\n                      src={male}\n                      style={{ width: \"170px\", height: \"180px\" }}\n                    />\n                  )}\n                </label>\n              </div>\n            </div>\n\n            <div className=\"form-group mt-1\">\n              <label>ຊື່ {valiDate()}</label>\n              <input\n                type=\"text\"\n                className={\n                  errors.firstName\n                    ? \"form-control mb-3 is-invalid\"\n                    : \"form-control mb-3 invalid\"\n                }\n                name=\"firstName\"\n                value={values.firstName}\n                onChange={handleChange}\n                placeholder=\"ຊື່\"\n              />\n            </div>\n            <div className=\"form-group mb-2\">\n              <label>ນາມສະກຸນ {valiDate()}</label>\n              <input\n                type=\"text\"\n                className={\n                  errors.lastName\n                    ? \"form-control mb-3 is-invalid\"\n                    : \"form-control mb-3 invalid\"\n                }\n                name=\"lastName\"\n                value={values.lastName}\n                onChange={handleChange}\n                placeholder=\"ນາມສະກຸນ\"\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <div>\n              <label htmlFor=\"\">ເພດ {valiDate()}</label>\n            </div>\n            <Gender onClick={(value) => setGender(value)} value={gender} />\n            <span className=\"invalid\">{errors?.gender}</span>\n          </div>\n          <div className=\"row mt-1\">\n            <div className=\"form-group\">\n              <label>ເບີໂທ(+856 20) {valiDate()}</label>\n              <input\n                type=\"number\"\n                className={\n                  errors.phoneNumber\n                    ? \"form-control  is-invalid\"\n                    : \"form-control  invalid\"\n                }\n                name=\"phoneNumber\"\n                value={values.phoneNumber}\n                onChange={handleChange}\n                placeholder=\"7678XXXX\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>ບັດປະຈຳຕົວ {valiDate()}</label>\n              <input\n                type=\"text\"\n                className={\n                  errors.carSign\n                    ? \"form-control  is-invalid\"\n                    : \"form-control  invalid\"\n                }\n                name=\"carSign\"\n                value={values.carSign}\n                onChange={handleChange}\n                placeholder=\"ປ້ອນເລກບັດ\"\n              />\n            </div>\n          </div>\n          <div className=\"form-row mt-1\">\n            <div className=\"col-md-12\">\n              <div>\n                <SelectProvince\n                  size={\"lg\"}\n                  getData={(data) => {\n                    setProvinceData(data);\n                    setDistrictData({});\n                  }}\n                  defaultValue={provinceData?.provinceName}\n                  className={errors.province ? \"is-invalid\" : \"\"}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-row mt-1\">\n            <div className=\"col-md-12\">\n              <SelectDistrict\n                size={\"lg\"}\n                getData={(data) => {\n                  setDistrictData(data);\n                  setVillageData({});\n                }}\n                provinceId={{ _id: provinceData?._id }}\n                defaultValue={districtData?.title}\n                className={errors?.district ? \"is-invalid\" : \"\"}\n              />\n            </div>\n          </div>\n          <div className=\"form-row mt-1\">\n            <div className=\"col-md-12\">\n              <SelectVillage\n                size={\"lg\"}\n                getData={(data) => {\n                  setVillageData(data);\n                }}\n                districtId={{ _id: districtData?._id }}\n                defaultValue={viLLage?.title}\n                className={errors?.village ? \"is-invalid\" : \"\"}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-md-12 mt-1\">\n              <div className=\"form-group mb-2\">\n                <SelectLocalHouse\n                  size={\"lg\"}\n                  getData={(data) => {\n                    setHouse(data);\n                  }}\n                  provinceId={{ _id: provinceData?._id }}\n                  defaultValue={getHouse?.houseName}\n                  className={errors.house ? \"is-invalid\" : \"\"}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group mt-1\">\n            <label>ເລືອກຕຳແຫນ່ງ {valiDate()}</label>\n            <select\n              className=\"form-select\"\n              value={role}\n              onChange={(e) => setRole(e.target.value)}\n            >\n              {userRole?.map((item, index) => (\n                <option key={index} value={item?.value}>\n                  {item?.title}\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"form-group mt-1\">\n            <label>ວັນທີ່ເລີ່ມງານ</label>\n            <input\n              type=\"date\"\n              className=\"form-control form-control-lg\"\n              name=\"startWorkTime\"\n              value={formatDateDash(startWorkTime)}\n              onChange={(e) => setStartDate(e.target.value)}\n              placeholder=\"ເລືອກວັນທີ່\"\n            />\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n\nexport const userRole = [\n  { value: \"\", title: \"ເລືອກຕຳແຫນ່ງ\" },\n  { value: \"HR\", title: \"ບຸກຄາລະກອນ\" },\n  { value: \"ACCOUNTANT\", title: \"ບັນຊີ\" },\n  { value: \"FINANCE\", title: \"ການເງິນ\" },\n  { value: \"BRANCH_DIRECTOR\", title: \"ຫົວໜ້າບໍລິຫານກິດຈະການ\" },\n  { value: \"CALL_CENTER\", title: \"ພ/ງ ຕ້ອນຮັບ\" },\n  { value: \"ADMIN\", title: \"ເອັດມິນ\" },\n  { value: \"SUPER_ADMIN\", title: \"ບໍລິຫານສູງສຸດ\" },\n  { value: \"CUSTOMER_SERVICE\", title: \"ພ/ງ ບໍລິການລູກຄ້າ\" },\n  { value: \"DRIVER_DIRECTOR\", title: \"ພ/ງ ຂັບລົດ\" },\n];\n","import { useMutation } from \"@apollo/client\";\r\nimport React, { useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { ADD_USERSTAFF } from \"./apollo\";\r\nimport { Formik, useFormik } from \"formik\";\r\nimport {\r\n  endOfMonth,\r\n  formatDateDash,\r\n  getStaffLogin,\r\n  loadingScreen,\r\n  messageError,\r\n  messageSuccess,\r\n  messageWarning,\r\n  startOfMonth,\r\n  valiDate,\r\n} from \"../../helper\";\r\nimport Gender from \"../../helper/Gender\";\r\nimport male from \"../../img/female.png\";\r\nimport AddCircleOutlineTwoToneIcon from \"@material-ui/icons/AddCircleOutlineTwoTone\";\r\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\r\nimport SelectDistrict from \"../../helper/components/SelectDistrict\";\r\nimport SelectProvince from \"../../helper/components/SelectProvince\";\r\nimport SelectVillage from \"../../helper/components/SelectVillage\";\r\nimport * as ROUTES from \"../../routes/app\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { s3Client } from \"../../helper/s3Client\";\r\nimport Notiflix, { Loading } from \"notiflix\";\r\nimport \"./utils/index.css\";\r\nexport default function AddUserStaff({ onSuccess, getData }) {\r\n  const [show, setShow] = useState(false);\r\n  const [role, setRole] = useState(\"\");\r\n  const [addUserStaff] = useMutation(ADD_USERSTAFF);\r\n  const handleClose = () => setShow(false);\r\n  const jsonObj = getStaffLogin();\r\n  const userInfo = jsonObj?.data;\r\n  const [provinceData, setProvinceData] = useState({});\r\n  const [districtData, setDistrictData] = useState({});\r\n  const [viLLage, setVillageData] = useState({});\r\n  const [imageName, setImageName] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [gender, setGender] = useState(\"MALE\");\r\n  const [getHouse, setHouse] = useState({});\r\n  const [startWorkTime, setStartDate] = useState(startOfMonth());\r\n  const [endWorkTime, setEndDate] = useState(endOfMonth());\r\n  // pictrue\r\n  const handleUpload = async (event) => {\r\n    const imageName = uuidv4() + \".\" + event.target.files[0].type.split(\"/\")[1];\r\n    const _file = event.target.files[0];\r\n    setFile(_file);\r\n    const res = await s3Client.uploadFile(_file, imageName);\r\n    if (res?.location) {\r\n      setFile(_file);\r\n      // setImageName(res?.location);\r\n      setImageName(imageName);\r\n      messageSuccess(\"ອັບໂຫຼດຮູບພາບສຳເລັດແລ້ວ\");\r\n    } else {\r\n      setFile(null);\r\n      setImageName(\"\");\r\n      messageWarning(\"ການອັບໂຫຼດຮູບພາບບໍ່ສຳເລັດ\");\r\n    }\r\n  };\r\n\r\n  const { handleChange, errors, values, handleSubmit, resetForm } = useFormik({\r\n    initialValues: {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      phoneNumber: \"\",\r\n      password: \"\",\r\n      carSign: \"\",\r\n    },\r\n    enableReinitialize: false,\r\n    validate: (values) => {\r\n      const errors = {};\r\n      if (!values.firstName) {\r\n        errors.firstName = \"error\";\r\n      }\r\n      if (!values.lastName) {\r\n        errors.lastName = \"error\";\r\n      }\r\n      if (!values.phoneNumber) {\r\n        errors.phoneNumber = \"error\";\r\n      }\r\n      if (!values.password) {\r\n        errors.password = \"error\";\r\n      }\r\n      if (!districtData?._id) errors.district = \"ກະລຸນາເລືອກເມືອງ\";\r\n      if (!provinceData?._id) errors.province = \"ກະລຸນາເລືອກແຂວງ\";\r\n      if (!getHouse?._id) errors.house = \"ກະລຸນາເລືອກກີດຈະການ\";\r\n      if (!role) errors.role = \"ກະລຸນາເລືອກຕຳແຫນ່ງ\";\r\n      return errors;\r\n    },\r\n    onSubmit: async (values) => {\r\n      // return\r\n      loadingScreen();\r\n      try {\r\n        const { data: create } = await addUserStaff({\r\n          variables: {\r\n            data: {\r\n              carSign: String(values?.carSign),\r\n              startWorkTime: String(startWorkTime),\r\n              endWorkTime: String(endWorkTime),\r\n              firstName: values?.firstName,\r\n              lastName: values?.lastName,\r\n              password: values?.password,\r\n              phoneNumber: parseInt(values?.phoneNumber),\r\n              profileImage: String((values.profileImage = imageName)),\r\n              village: viLLage?._id,\r\n              district: String(districtData?._id),\r\n              province: String(provinceData?._id),\r\n              role: String(role),\r\n              gender: String(gender),\r\n              house: String(getHouse?._id),\r\n            },\r\n          },\r\n        });\r\n        if (create) {\r\n          Notiflix.Loading.remove();\r\n          messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\r\n          setTimeout(() => {\r\n            resetForm({ values: \"\" });\r\n            window.scrollTo(0, 0);\r\n          }, 100);\r\n          onSuccess();\r\n          setShow(false);\r\n        } else {\r\n          Notiflix.Loading.remove();\r\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\r\n        }\r\n      } catch (error) {\r\n        Notiflix.Loading.remove();\r\n        console.log(error);\r\n        messageError(\"ບັນທືກຂໍ້ມູນຜິດພາດ\");\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-light btn-lg\"\r\n        onClick={() => setShow(true)}\r\n      >\r\n        <i className=\"icon-plus-circle me-1\" />  ເພີ່ມ\r\n      </button>\r\n      <Modal\r\n        show={show}\r\n        onHide={() => setShow(false)}\r\n        animation={false}\r\n        size=\"xl\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title className=\"fs-5\">\r\n            <i className=\"icon-sliders\" /> ເພີ່ມພະນັກງານ\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"row mt-1\">\r\n            <div className=\"form-group\">\r\n              <label className=\"control-label\">ອັບໂຫຼດຮູບໂປຣໄຟຣ໌</label>\r\n              <div style={{ textAlign: \"center\" }} for=\"file-upload\">\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"file-upload\"\r\n                  className=\"bg-danger\"\r\n                  onChange={handleUpload}\r\n                  hidden\r\n                />\r\n                <label htmlFor=\"file-upload\" className=\"long-border\">\r\n                  {file ? (\r\n                    <img\r\n                      src={URL.createObjectURL(file)}\r\n                      alt={file.name}\r\n                      style={{ width: \"170px\", height: \"180\" }}\r\n                    />\r\n                  ) : (\r\n                    <img\r\n                      src={male}\r\n                      style={{ width: \"170px\", height: \"180px\" }}\r\n                    />\r\n                  )}\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group mt-1\">\r\n              <label>ຊື່ {valiDate()}</label>\r\n              <input\r\n                type=\"text\"\r\n                className={\r\n                  errors.firstName\r\n                    ? \"form-control mb-3 is-invalid\"\r\n                    : \"form-control mb-3 invalid\"\r\n                }\r\n                name=\"firstName\"\r\n                value={values.firstName}\r\n                onChange={handleChange}\r\n                placeholder=\"ຊື່\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group mb-2\">\r\n              <label>ນາມສະກຸນ {valiDate()}</label>\r\n              <input\r\n                type=\"text\"\r\n                className={\r\n                  errors.lastName\r\n                    ? \"form-control mb-3 is-invalid\"\r\n                    : \"form-control mb-3 invalid\"\r\n                }\r\n                name=\"lastName\"\r\n                value={values.lastName}\r\n                onChange={handleChange}\r\n                placeholder=\"ນາມສະກຸນ\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <div>\r\n              <label htmlFor=\"\">ເພດ {valiDate()}</label>\r\n            </div>\r\n            <Gender onClick={(value) => setGender(value)} value={gender} />\r\n            <span className=\"invalid\">{errors?.gender}</span>\r\n          </div>\r\n          <div className=\"row mt-1\">\r\n            <div className=\"form-group\">\r\n              <label>ເບີໂທ(+856 20) {valiDate()}</label>\r\n              <input\r\n                type=\"number\"\r\n                className={\r\n                  errors.phoneNumber\r\n                    ? \"form-control  is-invalid\"\r\n                    : \"form-control  invalid\"\r\n                }\r\n                name=\"phoneNumber\"\r\n                value={values.phoneNumber}\r\n                onChange={handleChange}\r\n                placeholder=\"7678XXXX\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>ບັດປະຈຳຕົວ</label>\r\n              <input\r\n                type=\"text\"\r\n                className={\r\n                  errors.carSign\r\n                    ? \"form-control  is-invalid\"\r\n                    : \"form-control  invalid\"\r\n                }\r\n                name=\"carSign\"\r\n                value={values.carSign}\r\n                onChange={handleChange}\r\n                placeholder=\"ປ້ອນເລກບັດ\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-row mt-1\">\r\n            <div className=\"col-md-12\">\r\n              <div>\r\n                <SelectProvince\r\n                  size={\"lg\"}\r\n                  getData={(data) => {\r\n                    setProvinceData(data);\r\n                    setDistrictData({});\r\n                  }}\r\n                  defaultValue={provinceData?.provinceName}\r\n                  className={errors.province ? \"is-invalid\" : \"\"}\r\n                />\r\n                <div className=\"text-danger\">{errors.province}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-row mt-1\">\r\n            <div className=\"col-md-12\">\r\n              <SelectDistrict\r\n                size={\"lg\"}\r\n                getData={(data) => {\r\n                  setDistrictData(data);\r\n                  setVillageData({});\r\n                }}\r\n                provinceId={{ _id: provinceData?._id }}\r\n                defaultValue={districtData?.title}\r\n                className={errors?.district ? \"is-invalid\" : \"\"}\r\n              />\r\n              <div className=\"text-danger\">{errors.district}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-row mt-1\">\r\n            <div className=\"col-md-12\">\r\n              <SelectVillage\r\n                size={\"lg\"}\r\n                getData={(data) => {\r\n                  setVillageData(data);\r\n                }}\r\n                districtId={{ _id: districtData?._id }}\r\n                defaultValue={viLLage?.title}\r\n                className={errors?.village ? \"is-invalid\" : \"\"}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12 mt-1\">\r\n              <div className=\"form-group mb-2\">\r\n                <SelectLocalHouse\r\n                  size={\"lg\"}\r\n                  getData={(data) => {\r\n                    setHouse(data);\r\n                  }}\r\n                  provinceId={{ _id: provinceData?._id }}\r\n                  defaultValue={getHouse?.houseName}\r\n                  className={errors.house ? \"is-invalid\" : \"\"}\r\n                />\r\n                <div className=\"text-danger\">{errors.house}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group mt-1\">\r\n            <label>ເລືອກຕຳແຫນ່ງ {valiDate()}</label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={role}\r\n              onChange={(e) => setRole(e.target.value)}\r\n            >\r\n              {userRole?.map((item, index) => (\r\n                <option key={index} value={item?.value}>\r\n                  {item?.title}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group mt-1\">\r\n            <label>ວັນທີ່ເລີ່ມງານ</label>\r\n            <input\r\n              type=\"date\"\r\n              className=\"form-control form-control-lg\"\r\n              name=\"startWorkTime\"\r\n              value={formatDateDash(startWorkTime)}\r\n              onChange={(e) => setStartDate(e.target.value)}\r\n              placeholder=\"ເລືອກວັນທີ່\"\r\n            />\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary btn-block btn-lg\"\r\n            onClick={() => handleSubmit()}\r\n          >\r\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\r\n            ບັນທຶກ\r\n          </button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport const userRole = [\r\n  { value: \"\", title: \"ເລືອກຕຳແຫນ່ງ\" },\r\n  { value: \"HR\", title: \"ບຸກຄາລະກອນ\" },\r\n  { value: \"ACCOUNTANT\", title: \"ບັນຊີ\" },\r\n  { value: \"FINANCE\", title: \"ການເງິນ\" },\r\n  { value: \"LAW\", title: \"ກົດໝາຍ\" },\r\n  { value: \"BRANCH_DIRECTOR\", title: \"ຫົວໜ້າບໍລິຫານກິດຈະການ\" },\r\n  { value: \"CALL_CENTER\", title: \"ພ/ງ ຕ້ອນຮັບ\" },\r\n  { value: \"ADMIN\", title: \"ເອັດມິນ\" },\r\n  { value: \"SUPER_ADMIN\", title: \"ບໍລິຫານສູງສຸດ\" },\r\n  { value: \"CUSTOMER_SERVICE\", title: \"ພ/ງ ບໍລິການລູກຄ້າ\" },\r\n  { value: \"DRIVER_DIRECTOR\", title: \"ພ/ງ ຂັບລົດ\" },\r\n];\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport {\r\n  getStaffLogin,\r\n  ITEM_PER_PAGE,\r\n  loadingData,\r\n  messageError,\r\n  messageSuccess,\r\n  userStatus,\r\n} from \"../../helper\";\r\nimport Notiflix from \"notiflix\";\r\nimport { QUERY_USER_STAFF, DELETE_USER } from \"./apollo\";\r\n// import AddUserStaff from \"./addUser_staff\";\r\n// import EditUserStaff from \"./EditUserStaff\";\r\nimport * as ROUTES from \"../../routes/app\";\r\nimport DetailProfile from \"./DetailProfile\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport EditUserStaff from \"./EditUserStaff\";\r\nimport AddUserStaff from \"./addUser_staff\";\r\nexport default function UserList() {\r\n  const { history, location, match } = useReactRouter();\r\n  const numberPage = match?.params?.page;\r\n  // get query search\r\n  const query = new URLSearchParams(location.search);\r\n  const rows = parseInt(query.get(\"rows\"));\r\n  const [numberRows, setNumberRows] = useState(rows ? rows : ITEM_PER_PAGE);\r\n  const [dataUserStaff, setDataUserStaff] = useState([]);\r\n  //\r\n  const [show, setShow] = useState(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n  const [editStatus, setEditStatus] = useState(false);\r\n  const [getIndex, setGetIndex] = useState(0);\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const [getUserStaff, { data: resUserStaffData, loading }] = useLazyQuery(\r\n    QUERY_USER_STAFF,\r\n    { fetchPolicy: \"cache-and-network\" }\r\n  );\r\n  const [deleteUserStaff] = useMutation(DELETE_USER);\r\n\r\n  const jsonObj = getStaffLogin();\r\n  const userInfo = jsonObj?.data;\r\n  useEffect(() => {\r\n    getUserStaff({\r\n      variables: {\r\n        where: {\r\n          firstName: String(searchValue),\r\n        },\r\n        skip: searchValue ? 0 : numberRows * (numberPage - 1),\r\n        limit: searchValue ? 1000 : numberRows,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [numberRows, searchValue, numberPage, newLoadData]);\r\n  useEffect(() => {\r\n    if (resUserStaffData) {\r\n      setDataUserStaff(resUserStaffData?.users?.data);\r\n    }\r\n  }, [resUserStaffData]);\r\n\r\n  //pageination\r\n  const countData = resUserStaffData?.users?.total;\r\n  const countPage = [];\r\n  for (var i = 1; i <= Math.ceil(countData / numberRows); i++) {\r\n    countPage.push(i);\r\n  }\r\n  const NO = (index) => {\r\n    const no = numberRows * numberPage - numberRows;\r\n    if (numberRows > 0) {\r\n      return no + index + 1;\r\n    } else {\r\n      return index + 1;\r\n    }\r\n  };\r\n  const _onChangeRows = (e) => {\r\n    let _value = e?.target?.value;\r\n    history.push(`?rows=${_value}`);\r\n    setNumberRows(parseInt(_value));\r\n  };\r\n\r\n  const _deleteUserStaff = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການລຶບ user ນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      async () => {\r\n        try {\r\n          const _deleteUserStaff = await deleteUserStaff({\r\n            variables: {\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_deleteUserStaff) {\r\n            messageSuccess(\"ດຳເນີນການສຳເລັດ\");\r\n            setNewLoadData(!newLoadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ດຳເນີນການບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\" p-1 text-black border-top\" onClick={() => setShow(true)}>\r\n        <i className=\"fa-solid fa-chevron-right me-2\" />\r\n        ເພີ່ມພະນັກງານ\r\n      </div>\r\n      <Modal show={show} animation={false} size=\"xl\">\r\n        <Modal.Header className=\"text-black\">\r\n          <AddUserStaff\r\n            onSuccess={() => {\r\n              setNewLoadData(!newLoadData);\r\n            }}\r\n          />\r\n          <a\r\n            className=\"pull-right ms-2 \"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"ຊື່ພະນັກງານ...\"\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              style={{ border: \"1px solid #c2c1be\" }}\r\n            />\r\n          </div>\r\n          {loading ? (\r\n            loadingData(23, \"ກຳລັງໂຫຼດຂໍ້ມູນ\")\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-bordered table-sm text-black\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">#</th>\r\n                    <th>ຊື່ ແລະ ນາມສະກຸນ</th>\r\n                    <th>ເບີໂທ</th>\r\n                    <th>ທີ່ຢູ່</th>\r\n                    <th>ຕຳແຫນ່ງ</th>\r\n                    <th>ບ່ອນປະຈຳການ</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {dataUserStaff?.map((item, index) => (\r\n                    <tr key={index}>\r\n                      <td className=\"text-center\">{index + 1}</td>\r\n                      <td className=\"text-nowrap\">\r\n                        {item?.firstName ? item?.firstName : \"-\"}{\" \"}\r\n                        {item?.lastName ? item?.lastName : \"-\"}\r\n                      </td>\r\n                      <td className=\"text-nowrap\">\r\n                        {item?.phoneNumber ? item?.phoneNumber : \"-\"}{\" \"}\r\n                      </td>\r\n                      <td className=\"text-nowrap\">\r\n                        {item?.province?.provinceName\r\n                          ? item?.province?.provinceName\r\n                          : \"-\"}\r\n                        <br />\r\n                        {item?.district?.title ? item?.district?.title : \"-\"}\r\n                        <br />\r\n                        {item?.village?.title ? item?.village?.title : \"-\"}\r\n                        <br />\r\n                      </td>\r\n                      <td className=\"text-nowrap\">\r\n                        {userStatus(item?.role ? item?.role : \"-\")}\r\n                      </td>\r\n                      <td className=\"text-nowrap\">\r\n                        {userStatus(\r\n                          item?.house?.houseName ? item?.house?.houseName : \"-\"\r\n                        )}\r\n                      </td>\r\n                      <td style={{ textAlign: \"center\" }}>\r\n                        <EditUserStaff\r\n                          getData={item}\r\n                          onSuccess={() => {\r\n                            setNewLoadData(!newLoadData);\r\n                          }}\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport BlockUser from \"./widget/blockUser\";\r\n\r\nimport ChangeRole from \"./widget/changeRole\";\r\n\r\nimport ChangePasswordStaff from \"./widget/changePasswordStaff\";\r\nimport ChangePasswordCustomer from \"./widget/changePasswordCustomer\";\r\n\r\nimport TurnOffHouse from \"./widget/turnOffhouse\";\r\nimport InviteOwner from \"./widget/inviteOwner\";\r\nimport { OTHER } from \"../../routes/app\";\r\nimport UserList from \"../user_staff\";\r\nexport default function SettingsScreen() {\r\n  const { history, location, match } = useReactRouter();\r\n  return (\r\n    <>\r\n      <div className=\"appHeader text-light border-0 mr-0\">\r\n        <div style={{ flex: 1 }} className=\"text-left\">\r\n          <button\r\n            className=\"btn text-white\"\r\n            onClick={() => history.push(OTHER)}\r\n          >\r\n            <i className=\"fa fa-chevron-left fs-4\" />\r\n          </button>\r\n        </div>\r\n        ຕັ້ງຄ່າລະບົບ\r\n        <div\r\n          className=\"text-white pageTitle text-right text-nowrap pr-0\"\r\n          style={{ flex: 1 }}\r\n        ></div>\r\n      </div>\r\n      <div className=\"row\" style={{ marginTop: 70 }}>\r\n        <div className=\"col-md-4 mt-1\">\r\n          <div className=\"card border ms-1\">\r\n            <div\r\n              className=\"p-1 border-bottom  fs-5\"\r\n              style={{ backgroundColor: \"#fcfcfc\",color:\"#9c9695\" }}\r\n            >\r\n              <i\r\n                className=\"fa-sharp fa-solid fa-microchip me-2\"\r\n                style={{ color: \"#d9d1d0\" }}\r\n              />\r\n              ຕັ້ງຄ່າກິດຈະການ\r\n            </div>\r\n            <TurnOffHouse />\r\n            <InviteOwner />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-4 mt-1\">\r\n          <div className=\"card border ms-1\">\r\n            <div\r\n              className=\"p-1  border-bottom  fs-5\"\r\n              style={{ backgroundColor: \"#fcfcfc\",color:\"#9c9695\" }}\r\n            >\r\n              <i\r\n                className=\"fa-sharp fa-solid fa-microchip me-2\"\r\n                style={{ color: \"#d9d1d0\" }}\r\n              />\r\n              ຕັ້ງຄ່າພະນັກງານ\r\n            </div>\r\n            <BlockUser />\r\n            <ChangeRole />\r\n            <UserList />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-4 mt-1\">\r\n          <div className=\"card border ms-1\">\r\n            <div\r\n              className=\"p-1 border-bottom  fs-5\"\r\n              style={{ backgroundColor: \"#fcfcfc\", color:\"#9c9695\" }}\r\n            >\r\n              <i\r\n                className=\"fa-sharp fa-solid fa-microchip me-2\"\r\n                style={{ color: \"#d9d1d0\" }}\r\n              />\r\n              ຈັດການລະຫັດຜ່ານ\r\n            </div>\r\n            <ChangePasswordStaff />\r\n            <ChangePasswordCustomer />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\"\r\n\r\nexport const QUERY_RATE_EXCHANGE = gql`\r\n  query Data(\r\n    $where: RateExchangeWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n    $noLimit: Boolean\r\n  ) {\r\n    rateExchanges(\r\n      where: $where\r\n      orderBy: $orderBy\r\n      skip: $skip\r\n      limit: $limit\r\n      noLimit: $noLimit\r\n    ) {\r\n      data {\r\n        _id\r\n        laoKIP\r\n        laoTHB\r\n        laoUSD\r\n        createdAt\r\n        createdBy {\r\n          _id\r\n          firstName\r\n          lastName\r\n        }\r\n        house {\r\n          _id\r\n          houseName\r\n        }\r\n      }\r\n      total\r\n    }\r\n  }\r\n`;\r\nexport const CREATE_RATE_EXCHANGE = gql`\r\n  mutation Mutation($data: RateExchangeInput!) {\r\n    createRateExchange(data: $data) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const DELETE_RATE_EXCHANGE = gql`\r\n  mutation Mutation($where: RateExchangeWhereInputOne!) {\r\n    deleteRateExchange(where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const UPDATE_RATE_EXCHANGE = gql`\r\n  mutation UpdateRateExchange(\r\n    $data: RateExchangeInput!\r\n    $where: RateExchangeWhereInputOne\r\n  ) {\r\n    updateRateExchange(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n","import { useMutation } from \"@apollo/client\";\nimport React, { useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { Formik } from \"formik\";\nimport {\n  messageError,\n  messageSuccess,\n  messageWarning,\n  valiDate,\n  getStaffLogin,\n} from \"../../helper\";\nimport { UPDATE_RATE_EXCHANGE } from \"./apollo\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\nimport \"./utils/index.css\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\n\nexport default function EditRateExChange({ dataValue, onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n\n  const [show, setShow] = useState(false);\n  const [updateRateExchange] = useMutation(UPDATE_RATE_EXCHANGE);\n  const handleClose = () => setShow(false);\n  const [house, setHouse] = useState(dataValue?.house);\n  return (\n    <Formik\n      initialValues={{\n        laoKIP: dataValue?.laoKIP,\n        laoTHB: dataValue?.laoTHB,\n        laoUSD: dataValue?.laoUSD,\n      }}\n      enableReinitialize={true}\n      validate={(values) => {\n        const errors = {};\n\n        if (!values.laoKIP) {\n          errors.laoKIP = \"ກະລຸນາປ້ອນອັດຕາແລກປ່ຽນເງິນກີບ\";\n        }\n        if (!values.laoTHB) {\n          errors.laoTHB = \"ກະລຸນາປ້ອນອັດຕາແລກປ່ຽນເງິນກີບ-ບາດ\";\n        }\n        if (!values.laoUSD) {\n          errors.laoUSD = \"ກະລຸນາປ້ອນອັດຕາແລກປ່ຽນເງິນກີບ-ໂດລາ\";\n        }\n\n        if (!house?._id) errors.house = \"ກະລຸນາເລືອກຫ້ອງ\";\n\n        return errors;\n      }}\n      onSubmit={async (values) => {\n        try {\n          let _updateRateExchange = await updateRateExchange({\n            variables: {\n              data: {\n                laoKIP: parseFloat(values.laoKIP),\n                laoTHB: parseFloat(values.laoTHB),\n                laoUSD: parseFloat(values.laoUSD),\n                house: house?._id,\n              },\n              where: {\n                _id: parseInt(dataValue?._id),\n              },\n            },\n          });\n\n          if (_updateRateExchange) {\n            messageSuccess(\"ແກ້ໄຂຂໍ້ມູນສຳເລັດ\");\n            onSuccess();\n            setShow(false);\n          } else {\n            messageError(\"ແກ້ໄຂຂໍ້ມູນບໍ່ສຳເລັດ\");\n          }\n        } catch (error) {\n          console.log(error);\n          messageError(\"ແກ້ໄຂຂໍ້ມູນຜິດພາດ\");\n        }\n      }}\n    >\n      {({ values, errors, handleChange, handleSubmit, isDisabled }) => (\n        <React.Fragment>\n          <button\n            type=\"button\"\n            className=\"btn btn-lg\"\n            onClick={() => setShow(true)}\n            size=\"xl\"\n          >\n            <i className=\"fas fa-edit \" />\n          </button>\n          <Modal show={show}>\n            <Modal.Header className=\"text-black\">\n              ແກ້ໄຂອັດຕາແລກປ່ຽນ\n              <a\n                className=\"pull-right ms-2 \"\n                style={{ textDecoration: \"none\", marginTop: -10 }}\n                onClick={() => setShow(false)}\n              >\n                <i className=\"icon-x fa-2x text-danger\" />\n              </a>\n            </Modal.Header>\n            <Modal.Body>\n              <div className=\"row bg-color\">\n                <div className=\" col-md-12\">\n                  <div className=\"form-group mb-3\">\n                    <label>ເລືອກກິດຈະການ {valiDate()}</label>\n                    <SelectLocalHouse\n                      style={{ width: \"100%\" }}\n                      value={house?._id}\n                      onChange={(obj) => {\n                        if (obj?._id) {\n                          setHouse(obj);\n                        }\n                      }}\n                      ownerId={userInfo?._id}\n                    />\n                    <span className=\"text-danger\">{errors.house}</span>\n                  </div>\n                  <div className=\"form-group mb-1\">\n                    <FormControl fullWidth sx={{ m: 0 }}>\n                      <OutlinedInput\n                        startAdornment={\n                          <InputAdornment position=\"start\">\n                            <i className=\"fa-sharp fa-solid fa-kip-sign\" />\n                          </InputAdornment>\n                        }\n                        onWheel={(e) => e.target.blur()}\n                        type=\"number\"\n                        name=\"laoKIP\"\n                        placeholder=\"ປ້ອນລະຫັດຈອງ\"\n                        value={values.laoKIP}\n                        onChange={handleChange}\n                      />\n                    </FormControl>\n                    <span className=\"text-danger\">{errors.laoKIP}</span>\n                  </div>\n                  <div className=\"form-group mb-1\">\n                    <FormControl fullWidth sx={{ m: 0 }}>\n                      <OutlinedInput\n                        startAdornment={\n                          <InputAdornment position=\"start\">\n                            <i className=\"fa-sharp fa-solid fa-bitcoin-sign\" />\n                          </InputAdornment>\n                        }\n                        onWheel={(e) => e.target.blur()}\n                        type=\"number\"\n                        name=\"laoTHB\"\n                        placeholder=\"ກີບ-ບາດ\"\n                        value={values.laoTHB}\n                        onChange={handleChange}\n                      />\n                    </FormControl>\n                    <span className=\"text-danger\">{errors.laoTHB}</span>\n                  </div>\n                  <div className=\"form-group\">\n                    <FormControl fullWidth sx={{ m: 0 }}>\n                      <OutlinedInput\n                        startAdornment={\n                          <InputAdornment position=\"start\">\n                            <i className=\"fa-sharp fa-solid fa-dollar-sign\" />\n                          </InputAdornment>\n                        }\n                        onWheel={(e) => e.target.blur()}\n                        type=\"number\"\n                        name=\"laoUSD\"\n                        placeholder=\"ກີບ-ໂດລາ\"\n                        value={values.laoUSD}\n                        onChange={handleChange}\n                      />\n                    </FormControl>\n                    <span className=\"text-danger\">{errors.laoUSD}</span>\n                  </div>\n                </div>\n              </div>\n            </Modal.Body>\n            <Modal.Footer>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-block btn-lg\"\n                onClick={() => handleSubmit()}\n                disabled={isDisabled}\n              >\n                <i className=\"icon-save\" style={{ marginRight: 3 }} />\n                ບັນທຶກ\n              </button>\n            </Modal.Footer>\n          </Modal>\n        </React.Fragment>\n      )}\n    </Formik>\n  );\n}\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { Formik, useFormik } from \"formik\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  valiDate,\n} from \"../../helper\";\n\nimport { CREATE_RATE_EXCHANGE } from \"./apollo\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\nimport Notiflix from \"notiflix\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\n\nexport default function AddRateExchange({ onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n\n  const [show, setShow] = useState(false);\n  const [addRateExchange] = useMutation(CREATE_RATE_EXCHANGE);\n  const [house, setHouse] = useState({});\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n\n\n  const { handleChange, errors, values, handleSubmit, resetForm, isDisabled } =\n    useFormik({\n      initialValues: {\n        laoKIP: \"\",\n        laoTHB: \"\",\n        laoUSD: \"\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (!values.laoKIP) {\n          errors.laoKIP = \"ກະລຸນາປ້ອນອັດຕາແລກປ່ຽນເງິນກີບ\";\n        }\n        if (!values.laoTHB) {\n          errors.laoTHB = \"ກະລຸນາປ້ອນອັດຕາແລກປ່ຽນເງິນກີບ-ບາດ\";\n        }\n        if (!values.laoUSD) {\n          errors.laoUSD = \"ກະລຸນາປ້ອນອັດຕາແລກປ່ຽນເງິນກີບ-ໂດລາ\";\n        }\n        if (!house?._id) errors.house = \"ກະລຸນາເລືອກກິດຈະການ\";\n\n        return errors;\n      },\n      onSubmit: async (values) => {\n        loadingScreen();\n        try {\n          const { data: inputData } = await addRateExchange({\n            variables: {\n              data: {\n                laoKIP: parseFloat(values.laoKIP),\n                laoTHB: parseFloat(values.laoTHB),\n                laoUSD: parseFloat(values.laoUSD),\n                house: house?._id,\n              },\n            },\n          });\n          if (inputData) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ບັນທືກຂໍ້ມູນສຳເລັດ\");\n            setShow(false);\n            onSuccess();\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"ເປີດຫ້ອງບໍ່ສຳເລັດ\");\n          }\n        } catch (error) {\n          Notiflix.Loading.remove();\n          console.log(error);\n        }\n      },\n    });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"icon-plus-circle me-1\" /> ເພີ່ມ\n      </button>\n      <Modal\n        show={show}\n        animation={false}size=\"xl\"\n      >\n        <Modal.Header className=\"text-black\">\n          ເພີ່ມອັດຕາແລກປ່ຽນວັນນີ້\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"form-group mb-3\">\n            <label>ເລືອກກິດຈະການ {valiDate()}</label>\n            <SelectLocalHouse\n              style={{ width: \"100%\" }}\n              value={house?._id}\n              onChange={(obj) => {\n                if (obj?._id) {\n                  setHouse(obj);\n                }\n              }}\n              ownerId={userInfo?._id}\n            />\n            <span className=\"text-danger\">{errors.house}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-sharp fa-solid fa-kip-sign\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"number\"\n                name=\"laoKIP\"\n                placeholder=\"ເງິນກີບ\"\n                value={values.laoKIP}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.laoKIP}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-sharp fa-solid fa-bitcoin-sign\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"number\"\n                name=\"laoTHB\"\n                placeholder=\"ກີບ-ບາດ\"\n                value={values.laoTHB}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.laoTHB}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-sharp fa-solid fa-dollar-sign\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"number\"\n                name=\"laoUSD\"\n                placeholder=\"ກີບ-ໂດລາ\"\n                value={values.laoUSD}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.laoUSD}</span>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import { Formik } from \"formik\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport {\r\n  createdAt_gte,\r\n  createdAt_lt,\r\n  currency,\r\n  endOfMonth,\r\n  formatDateDash,\r\n  formatDateTime,\r\n  getLocalHouse,\r\n  getStaffLogin,\r\n  loadingData,\r\n  messageConfirm,\r\n  messageError,\r\n  messageSuccess,\r\n  setParams,\r\n  socketServer,\r\n  startMonth,\r\n  _month,\r\n} from \"../../helper\";\r\nimport BottomNav from \"../../layouts/BottomNav\";\r\nimport { OTHER } from \"../../routes/app\";\r\nimport NoData from \"../../helper/components/NoData\";\r\nimport { QUERY_RATE_EXCHANGE, DELETE_RATE_EXCHANGE } from \"./apollo\";\r\nimport {\r\n  FormControl,\r\n  InputAdornment,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport Pagination from \"../../helper/controllers/Pagination\";\r\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\r\nimport Notiflix from \"notiflix\";\r\nimport EditRateExChange from \"./editRateExchange\";\r\nimport AddRateExchange from \"./addRateExchange\";\r\nexport default function RateExChange() {\r\n  const { match, history, location } = useReactRouter();\r\n  const userState = getStaffLogin();\r\n  const userData = userState?.data;\r\n  const query = new URLSearchParams(location?.search);\r\n  const [house, setHouse] = useState(\"\");\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [numberRow, setNumberRow] = useState(50);\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const [startDate, setStartDate] = useState(startMonth());\r\n  const [endDate, setEndDate] = useState(endOfMonth());\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [deleteRateExchange] = useMutation(DELETE_RATE_EXCHANGE);\r\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\r\n    QUERY_RATE_EXCHANGE,\r\n    { fetchPolicy: \"network-only\" }\r\n  );\r\n  useEffect(() => {\r\n    setHouse(getLocalHouse());\r\n  }, []);\r\n  useEffect(() => {\r\n    queryBooking({\r\n      variables: {\r\n        where: {\r\n          house: house?._id,\r\n          createdAt_gte: createdAt_gte(startDate),\r\n          createdAt_lt: createdAt_lt(endDate),\r\n        },\r\n        skip: numberRow * (numberPage - 1),\r\n        limit: searchValue ? 1000 : numberRow,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [\r\n    numberRow,\r\n    searchValue,\r\n    numberPage,\r\n    reloadData,\r\n    house,\r\n    startDate,\r\n    endDate,\r\n  ]);\r\n  // pagination\r\n  useEffect(() => {\r\n    const page = query.get(\"page\");\r\n    const _startDate = query.get(\"startDate\");\r\n    const _endDate = query.get(\"endDate\");\r\n    setStartDate(_startDate || startMonth());\r\n    setEndDate(_endDate || endOfMonth());\r\n    if (page) {\r\n      setNumberPage(parseInt(page));\r\n    } else {\r\n      setNumberRow(50);\r\n    }\r\n  }, [query]);\r\n  const countPage = [];\r\n  for (\r\n    var i = 1;\r\n    i <= Math.ceil(setData?.rateExchanges?.total / numberRow);\r\n    i++\r\n  ) {\r\n    countPage.push(i);\r\n  }\r\n\r\n  const _deleteRateExChange = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການລົບ ລາຍການ ນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      async () => {\r\n        try {\r\n          const _deleteRateExchange = await deleteRateExchange({\r\n            variables: {\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_deleteRateExchange) {\r\n            messageSuccess(\"ລືບສຳເລັດ\");\r\n            setReloadData(!reloadData);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n          messageError(\"ລືບຂໍ້ມູນບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: -80 }}>\r\n      <div id=\"appCapsule\">\r\n        <div className=\"justify-content-md-center\">\r\n          <div className=\"appHeader text-light border-0\">\r\n            <div style={{ flex: 1 }} className=\"text-left\">\r\n              <button\r\n                className=\"btn text-white\"\r\n                onClick={() => history.push(OTHER)}\r\n              >\r\n                <i className=\"fa fa-chevron-left fs-4\" />\r\n              </button>\r\n            </div>\r\n            ຈັດການຂໍ້ມູນອັດຕາແລກປ່ຽນ\r\n            <div\r\n              className=\"text-white pageTitle text-right text-nowrap pr-0\"\r\n              style={{ flex: 1 }}\r\n            >\r\n              <button\r\n                className=\"btn text-white mr-0\"\r\n                onClick={() => setReloadData(!reloadData)}\r\n              >\r\n                {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <br />\r\n          <div className=\"option-section\">\r\n            <br />\r\n            <div className=\"row col-md-12  mt-1\">\r\n              <div className=\"col-6\">\r\n                <div className=\"option-card\">\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\" form-control form-control-lg\"\r\n                    style={{ marginLeft: 6 }}\r\n                    value={formatDateDash(startDate)}\r\n                    onChange={(e) => {\r\n                      history.push({\r\n                        search: setParams(`startDate`, e.target.value),\r\n                      });\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"col-6\"\r\n                style={{\r\n                  right: -10,\r\n                }}\r\n              >\r\n                <div className=\"option-card\">\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\" form-control form-control-lg\"\r\n                    value={formatDateDash(endDate)}\r\n                    onChange={(e) => {\r\n                      history.push({\r\n                        search: setParams(`endDate`, e.target.value),\r\n                      });\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"section  mb-2 mt-1\">\r\n            <div className=\"transactions\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12 w-100\">\r\n                  <SelectLocalHouse\r\n                    style={{ width: \"100%\" }}\r\n                    value={house?._id}\r\n                    onChange={(obj) => {\r\n                      if (obj?._id) {\r\n                        setHouse(obj);\r\n                      }\r\n                    }}\r\n                    ownerId={userData?._id}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                {loading ? loadingData(25) : \"\"}\r\n              </div>\r\n              {setData?.rateExchanges?.total > 0 ? (\r\n                <div className=\"listView mt-2\">\r\n                  {setData?.rateExchanges?.data?.map((data, index) => (\r\n                    <>\r\n                      <b\r\n                        className=\"float-end\"\r\n                        style={{ marginTop: -8, marginRight: -10 }}\r\n                      >\r\n                        <i\r\n                          className=\"icon-trash text-danger\"\r\n                          onClick={(e) => {\r\n                            _deleteRateExChange(data?._id);\r\n                          }}\r\n                          style={{ fontSize: 20 }}\r\n                        ></i>\r\n                      </b>\r\n\r\n                      <a\r\n                        href=\"javascript:void(0)\"\r\n                        className=\"item pr-0 \"\r\n                        key={index}\r\n                        style={{ borderTop: \"1px solid #ed6b0e\" }}\r\n                      >\r\n                        <div className=\"detail col-md-10\">\r\n                          <div>\r\n                            <strong>\r\n                              ຊື່ກິດຈະການ: {data?.house?.houseName}\r\n                            </strong>\r\n                            <b className=\"text-black\">\r\n                              ກີບ: {currency(data?.laoKIP)}\r\n                            </b>\r\n                            <br />\r\n                            <b className=\"text-black\">\r\n                              ບາດ: {currency(data?.laoTHB)}\r\n                            </b>\r\n                            <br />\r\n                            <b className=\"text-black pt-1\">\r\n                              ໂດລາ: {currency(data?.laoUSD)}\r\n                            </b>\r\n                            <br />\r\n                            <b className=\"text-black\">\r\n                              ວັນທີ່: {formatDateTime(data?.createdAt)}\r\n                            </b>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"right\">\r\n                          <button className=\"btn  btn-sm\">\r\n                            <EditRateExChange\r\n                              dataValue={data}\r\n                              onSuccess={() => {\r\n                                setReloadData(!reloadData);\r\n                              }}\r\n                            />\r\n                          </button>\r\n                        </div>\r\n                      </a>\r\n                    </>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <NoData loading={loading} />\r\n              )}\r\n              {setData?.rateExchanges?.total > 50 && (\r\n                <Pagination\r\n                  className=\"mt-2\"\r\n                  pageTotal={countPage}\r\n                  currentPage={numberPage}\r\n                  onPageChange={(page) => {\r\n                    history.push({\r\n                      search: setParams(`page`, page),\r\n                    });\r\n                  }}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          bottom: 5,\r\n          backgroundColor: \"#edece8\",\r\n        }}\r\n        className=\"col-md-12 appBottomMenu\"\r\n      >\r\n        <AddRateExchange\r\n          onSuccess={(e) => {\r\n            setReloadData(!reloadData);\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\nexport const CREATE_TYPE = gql`\n  mutation CreateTypeRoom($data: TypeRoomInput!) {\n    createTypeRoom(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_TYPE_ROOM = gql`\n  query TypeRooms(\n    $noLimit: Boolean\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: TypeRoomWhereInput\n  ) {\n    typeRooms(\n      noLimit: $noLimit\n      limit: $limit\n      skip: $skip\n      orderBy: $orderBy\n      where: $where\n    ) {\n      total\n      data {\n        _id\n        title_lao\n        title_eng\n        createdAt\n        createdBy {\n          firstName\n          lastName\n        }\n      }\n    }\n  }\n`;\n\nexport const EDIT_ROOM = gql`\n  mutation UpdateTypeRoom(\n    $data: TypeRoomInput!\n    $where: TypeRoomWhereInputOne!\n  ) {\n    updateTypeRoom(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n\nexport const DELETE = gql`\n  mutation DeleteTypeRoom($where: TypeRoomWhereInputOne!) {\n    deleteTypeRoom(where: $where) {\n      _id\n    }\n  }\n`;\n","import { useMutation } from \"@apollo/client\";\nimport React, { useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { Formik } from \"formik\";\nimport {\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  valiDate,\n} from \"../../../helper\";\nimport { EDIT_ROOM } from \"./apollo\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\nexport default function EditType({ getId, onSuccess }) {\n  const [show, setShow] = useState(false);\n  const [editProvinces] = useMutation(EDIT_ROOM);\n  const handleClose = () => setShow(false);\n  return (\n    <Formik\n      initialValues={{\n        title_lao: getId?.title_lao ? getId?.title_lao : \"\",\n        title_eng: getId?.title_eng ? getId?.title_eng : \"\",\n      }}\n      enableReinitialize={true}\n      validate={(values) => {\n        const errors = {};\n        if (!values.title_lao) {\n          errors.title_lao = \"error\";\n        }\n        return errors;\n      }}\n      onSubmit={async (values) => {\n        loadingScreen();\n        try {\n          let _upDate = await editProvinces({\n            variables: {\n              data: {\n                title_lao: String(values?.title_lao),\n                title_eng: String(values?.title_eng),\n              },\n              where: {\n                _id: getId?._id,\n              },\n            },\n          });\n          if (_upDate) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ແກ້ໄຂສຳເລັດ\");\n            setShow(false);\n            onSuccess();\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"ແກ້ໄຂຂໍ້ມູນບໍ່ສຳເລັດ\");\n          }\n        } catch (error) {\n          Notiflix.Loading.remove();\n          console.log(error);\n          messageError(\"ຂໍ້ມູນຜິດພາດ\");\n        }\n      }}\n    >\n      {({ values, errors, handleChange, handleSubmit, isDisabled }) => (\n        <React.Fragment>\n          <button\n            type=\"button\"\n            className=\"btn btn-light btn-lg\"\n            onClick={() => setShow(true)}\n          >\n            <i className=\"fas fa-edit \" />\n          </button>\n          <Modal show={show} size=\"xl\" animation={false}>\n            <Modal.Header>\n              ແກ້ໄຂຂໍ້ມູນປະເພດຫ້ອງ\n              <a\n                className=\"pull-right ms-2 \"\n                style={{ textDecoration: \"none\", marginTop: -10 }}\n                onClick={() => setShow(false)}\n              >\n                <i className=\"icon-x fa-2x text-danger\" />\n              </a>\n            </Modal.Header>\n            <Modal.Body>\n              <div className=\"form-group\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">ພາສາລາວ:</InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"text\"\n                    name=\"title_lao\"\n                    placeholder=\"...\"\n                    value={values.title_lao}\n                    error={errors.title_lao}\n                    onChange={handleChange}\n                  />\n                  <div className=\"text-danger\">{errors.title_lao}</div>\n                </FormControl>\n              </div>\n              <div className=\"form-group\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        ພາສາອັງກິດ:\n                      </InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"text\"\n                    name=\"title_eng\"\n                    placeholder=\"...\"\n                    value={values.title_eng}\n                    onChange={handleChange}\n                  />\n                </FormControl>\n              </div>\n            </Modal.Body>\n            <Modal.Footer>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-block btn-lg\"\n                onClick={() => handleSubmit()}\n                disabled={isDisabled}\n              >\n                <i className=\"icon-save\" style={{ marginRight: 3 }} />\n                ບັນທຶກ\n              </button>\n            </Modal.Footer>\n          </Modal>\n        </React.Fragment>\n      )}\n    </Formik>\n  );\n}\n","import { useMutation } from \"@apollo/client\";\nimport React, { useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { Formik, useFormik } from \"formik\";\nimport {\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  valiDate,\n} from \"../../../helper\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\nimport { CREATE_TYPE } from \"./apollo\";\nexport default function AddTypeRoom({ getId, onSuccess }) {\n  const [show, setShow] = useState(false);\n  const [createType] = useMutation(CREATE_TYPE);\n\n  const { handleChange, errors, values, handleSubmit, resetForm } = useFormik({\n    initialValues: {\n      title_lao: \"\",\n      title_eng: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!values.title_lao) {\n        errors.title_lao = \"ກະລຸນາປ້ອນເພດຫ້ອງ\";\n      }\n      return errors;\n    },\n    onSubmit: async (values) => {\n      loadingScreen();\n      try {\n        const { data: updated } = await createType({\n          variables: {\n            data: {\n              title_lao: String(values?.title_lao),\n              title_eng: String(values?.title_eng),\n            },\n          },\n        });\n        if (updated) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            window.scrollTo(0, 0);\n          }, 100);\n          onSuccess();\n          setShow(false);\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        Notiflix.Loading.remove();\n        messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n      }\n    },\n  });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n        size=\"xl\"\n      >\n        <i className=\"icon-plus-circle me-1\" /> ເພີ່ມປະເພດຫ້ອງ\n      </button>\n      <Modal show={show} size=\"xl\">\n        <Modal.Header>\n          ແກ້ໄຂຂໍ້ມູນປະເພດຫ້ອງ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"form-group\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ພາສາລາວ:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                name=\"title_lao\"\n                placeholder=\"...\"\n                value={values.title_lao}\n                error={errors.title_lao}\n                onChange={handleChange}\n              />\n              <div className=\"text-danger\">{errors.title_lao}</div>\n            </FormControl>\n          </div>\n          <div className=\"form-group\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ພາສາອັງກິດ:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                name=\"title_eng\"\n                placeholder=\"...\"\n                value={values.title_eng}\n                onChange={handleChange}\n              />\n            </FormControl>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            onDoubleClick={() => {\n              return false;\n            }}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  loadingData,\n  loadingScreen,\n  messageConfirm,\n  messageError,\n  messageSuccess,\n  setParams,\n  valiDate,\n} from \"../../../helper\";\nimport { useFormik } from \"formik\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport { CREATE_TYPE, DELETE, QUERY_TYPE_ROOM } from \"./apollo\";\nimport { Row } from \"react-bootstrap\";\nimport EditType from \"./editType\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  setRef,\n} from \"@mui/material\";\nimport NoData from \"../../../helper/components/NoData\";\nimport AddTypeRoom from \"./AddTypeRoom\";\nexport default function TypeRoom() {\n  const [numberRows, setNumberRows] = useState(ITEM_PER_PAGE);\n  const { history, location, match } = useReactRouter();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const numberPage = match?.params?.page;\n  const query = new URLSearchParams(location.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [createType] = useMutation(CREATE_TYPE);\n  const [_deleteType] = useMutation(DELETE);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(\n    QUERY_TYPE_ROOM,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          title_lao: searchValue ? searchValue : undefined,\n        },\n        skip: searchValue ? 0 : numberRows * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRows,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [numberRows, searchValue, numberPage, newLoadData]);\n\n  const countData = setData?.typeRooms?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRows); i++) {\n    countPage.push(i);\n  }\n\n  const _delete = (id) => {\n    messageConfirm(\"ທ່ານຕ້ອງການລືບ ແທ້ ຫຼື ບໍ່?\", async () => {\n      loadingScreen();\n      try {\n        const { data: _deleteData } = await _deleteType({\n          variables: {\n            where: {\n              _id: id,\n            },\n          },\n        });\n        if (_deleteData) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ລືບສຳເລັດ\");\n          setNewLoadData(!newLoadData);\n        } else {\n          messageError(\"ລືບບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        console.log(error);\n        Notiflix.Loading.remove();\n        messageError(\"ຂໍ້ມູນຜີດພາດ\");\n      }\n    });\n  };\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\">ຈັດການຂໍ້ມູນປະເພດຫ້ອງ</h3>\n        </div>\n      </div>\n      {/* data */}\n      <div className=\"section\">\n        <div className=\"transactions\" style={{ marginTop: 30 }}>\n          <div className=\"row\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-solid fa-magnifying-glass\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"search\"\n                placeholder=\"ປ້ອນປະເພດຫ້ອງພາສາລາວຄົ້ນຫາ\"\n                onChange={(e) => setSearchValue(e.target.value)}\n              />\n            </FormControl>\n          </div>\n          <div className=\"text-center\">{loading ? loadingData(25) : \"\"}</div>\n          {setData?.typeRooms?.total > 0 ? (\n            <div className=\"listView mt-2\">\n              {setData?.typeRooms?.data?.map((data, index) => (\n                <>\n                  <b\n                    className=\"float-end\"\n                    style={{ marginTop: -8, marginRight: -10 }}\n                  >\n                    <i\n                      className=\"icon-trash text-danger\"\n                      onClick={(e) => {\n                        _delete(data?._id);\n                      }}\n                      style={{ fontSize: 20, color: \"#9c9695\" }}\n                    ></i>\n                  </b>\n                  <a\n                    href=\"javascript:void(0)\"\n                    className=\"item pr-0 \"\n                    key={index}\n                  >\n                    <div className=\"detail col-md-10\">\n                      <div>\n                        <strong>ປະເພດຫ້ອງລາວ: {data?.title_lao}</strong>\n                        <strong>ປະເພດຫ້ອງອັງກິດ: {data?.title_eng}</strong>\n                      </div>\n                    </div>\n                    <div className=\"right\">\n                      <EditType\n                        getId={data}\n                        onSuccess={(e) => {\n                          setNewLoadData(!newLoadData);\n                        }}\n                      />\n                    </div>\n                  </a>\n                </>\n              ))}\n            </div>\n          ) : (\n            <NoData loading={loading} />\n          )}\n          {setData?.typeRooms?.total > 100 && (\n            <Pagination\n              className=\"mt-2\"\n              pageTotal={countPage}\n              currentPage={numberPage}\n              onPageChange={(page) => {\n                history.push({\n                  search: setParams(`page`, page),\n                });\n              }}\n            />\n          )}\n        </div>\n        <div\n          style={{\n            position: \"fixed\",\n            // bottom: 1,\n            backgroundColor: \"#edece8\",\n            zIndex: 99999,\n          }}\n          className=\"col-md-12 appBottomMenu\"\n        >\n          <AddTypeRoom\n            onSuccess={(e) => {\n              setNewLoadData(!newLoadData);\n            }}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const CREATE_ROOM = gql`\n  mutation CreateRoom($data: RoomInput!) {\n    createRoom(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_ROOM = gql`\n  query Rooms(\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: RoomWhereInput\n  ) {\n    rooms(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\n      total\n      data {\n        _id\n        title_lao\n        title_eng\n        priceHalf\n        priceFull\n        status\n        detail\n        createdAt\n        typeRoom {\n          _id\n          title_lao\n        }\n        house {\n          _id\n          houseName\n        }\n        coverImage\n        images\n      }\n    }\n  }\n`;\n\nexport const EDIT_ROOM = gql`\n  mutation UpdateRoom($data: RoomInput!, $where: RoomWhereInputOne!) {\n    updateRoom(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n\nexport const DELETE_ROOM = gql`\n  mutation DeleteRoom($where: RoomWhereInputOne!) {\n    deleteRoom(where: $where) {\n      _id\n    }\n  }\n`;\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getLocalHouse } from \"..\";\n\nconst SELECT_ROOM = gql`\n  query TypeRooms($where: TypeRoomWhereInput) {\n    typeRooms(where: $where) {\n      total\n      data {\n        _id\n        title_lao\n        title_eng\n      }\n    }\n  }\n`;\nexport default function SearchTypeRoom({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(\n    SELECT_ROOM,\n    { fetchPolicy: \"network-only\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          // house:localHouse,\n        },\n      },\n      orderBy: \"createdAt_DESC\",\n    });\n  }, [localHouse]);\n\n  useEffect(() => {\n    const results = data?.typeRooms?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.title_lao + \" / \" + item?.title_eng,\n        };\n        return object;\n      });\n      setItems([{ value: \"\", label: \"ທັງຫມົດ\" }, ..._results]);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        fontSize: 16,\n        color: \"black\",\n      }}\n    >\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກປະເພດຫ້ອງ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        errors\n        options={items}\n      />\n    </div>\n  );\n}\n","import { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport \"./utils/index.css\";\nimport AddCircleOutlineTwoToneIcon from \"@material-ui/icons/AddCircleOutlineTwoTone\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  valiDate,\n} from \"../../../helper\";\nimport { CREATE_ROOM } from \"./apollo\";\nimport TypeRoom from \"../../../helper/components/typeRoom\";\nimport { s3Client } from \"../../../helper/s3Client\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport SearchTypeRoom from \"../../../helper/components/SearchTypeRoom\";\nimport { useInternalState } from \"@apollo/client/react/hooks/useQuery\";\nimport SelectLocalHouse from \"../../../helper/components/SelectLocalHouse\";\nexport default function AddRooms({ onSuccess, loadData, className }) {\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const [typeDataRoom, setTypeDataRoom] = useState({});\n  const [imageName, setImageName] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [createRoom] = useMutation(CREATE_ROOM);\n  const [getDocFiless, setDocFiless] = useState([]);\n  const [getFileNames, setFileNames] = useState([]);\n  const [status, setStatus] = useState(false);\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const [getHouse, setHouse] = useState(\"\");\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n  // pictrue\n  const handleUpload = async (event) => {\n    const imageName = uuidv4() + \".\" + event.target.files[0].type.split(\"/\")[1];\n    const _file = event.target.files[0];\n    setFile(_file);\n    const res = await s3Client.uploadFile(_file, imageName);\n    if (res?.location) {\n      setFile(_file);\n      setImageName(imageName);\n      messageSuccess(\"ອັບໂຫຼດຮູບພາບສຳເລັດແລ້ວ\");\n    } else {\n      setFile(null);\n      setImageName(\"\");\n      messageWarning(\"ການອັບໂຫຼດຮູບພາບບໍ່ສຳເລັດ\");\n    }\n  };\n\n  // upload any file\n  const handleUploadDocFile = async (event) => {\n    try {\n      // setDocFiles(_image);\n      const error = [];\n      const success = [];\n      const files = [];\n      for (const doc of event.target.files) {\n        files.push(doc.name);\n        const docFileName = uuidv4() + \".\" + doc.type.split(\"/\")[1];\n        const res = await s3Client.uploadFile(doc, docFileName);\n        if (res?.location) {\n          success.push(docFileName);\n        } else {\n          error.push(docFileName);\n        }\n      }\n      setFileNames(files);\n      setDocFiless(success);\n      messageSuccess(\"ອັບໂຫຼດຮູບພາບສຳເລັດແລ້ວ\");\n    } catch (error) {\n      console.log({ error });\n    }\n  };\n  const removeArray = (index) => {\n    getDocFiless.splice(index, 1);\n    setDocFiless(getDocFiless);\n\n    getFileNames.splice(index, 1);\n    setFileNames(getFileNames);\n    setStatus(!status);\n  };\n  const { handleChange, errors, values, handleSubmit, resetForm } = useFormik({\n    initialValues: {\n      title_lao: \"\",\n      title_eng: \"\",\n      priceHalf: 0,\n      priceFull: 0,\n      detail: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!values.title_lao) {\n        errors.title_lao = \"ກະລຸນາປ້ອນຫ້ອງ\";\n      }\n      if (values.priceFull <= 0) {\n        errors.priceFull = \"ກະລຸນາປ້ອນຈຳນວນເງິນຫລາຍກວ່າ 0\";\n      }\n      if (values.priceHalf <= 0) {\n        errors.priceHalf = \"ກະລຸນາປ້ອນຈຳນວນເງິນຫລາຍກວ່າ 0\";\n      }\n      if (getDocFiless.length < 1) {\n        errors.docFile = \"ກະລຸນາເລືອກຮູບກ່ອນ\";\n      }\n      if (!getHouse?._id) errors.house = \"ເລືອກກິດຈະການ\";\n      if (!typeDataRoom?._id) errors.typeRoom = \"ກະລູນາເລືອກປະເພດຫ້ອງ\";\n      return errors;\n    },\n    onSubmit: async (values, { resetForm }) => {\n      loadingScreen();\n      // return\n      try {\n        const { data: updated } = await createRoom({\n          variables: {\n            data: {\n              title_lao: String(values?.title_lao),\n              title_eng: String(values?.title_eng),\n              priceHalf: parseInt(values?.priceHalf),\n              priceFull: parseInt(values?.priceFull),\n              detail: String(values?.detail),\n              house: String(getHouse?._id),\n              typeRoom: String(typeDataRoom?._id),\n              coverImage: getDocFiless ? String(getDocFiless.join(\",\")) : \"\",\n              images: String(imageName),\n            },\n          },\n        });\n        if (updated) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\n          onSuccess(loadData === true ? false : true);\n          setFile(\"\");\n          setFileNames(\"\");\n          setDocFiless(\"\");\n          resetForm();\n          setShow(false);\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        Notiflix.Loading.remove();\n        messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n      }\n    },\n  });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"icon-plus-circle me-1\" /> ເພີ່ມຫ້ອງ\n      </button>\n      <Modal show={show} size=\"xl\">\n        <Modal.Header>\n          ເລືອກປະເພດຫ້ອງ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"row\">\n            <div className=\"form-group\">\n              <label className=\"control-label\">ອັບໂຫຼດຮູບໂປຣໄຟຣ໌ຫ້ອງ</label>\n              <div\n                style={{ textAlign: \"center\" }}\n                for=\"file-upload\"\n                className=\"long\"\n              >\n                <input\n                  type=\"file\"\n                  id=\"file-upload\"\n                  className=\"bg-danger\"\n                  onChange={handleUpload}\n                  hidden\n                />\n                <label for=\"file-upload\" style={{ padding: 20 }}>\n                  {file ? (\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      // style={{ width: 300, height: 250 }}\n                      style={{\n                        height: 200,\n                        width: 200,\n                        borderRadius: 100 / 2,\n                      }}\n                    />\n                  ) : (\n                    <AddCircleOutlineTwoToneIcon\n                      style={{ fontSize: 45 }}\n                      className=\"text-secondary\"\n                    />\n                  )}\n                </label>\n              </div>\n            </div>\n            <div className=\"col-md-6\">\n              <div className=\"form-group mb-2\">\n                <SearchTypeRoom\n                  style={{ height: \"100%\", backgroundColor: \"red\" }}\n                  value={typeDataRoom?._id}\n                  onChange={(obj) => {\n                    setTypeDataRoom(obj);\n                  }}\n                />\n                <div className=\"text-danger\">{errors.typeRoom}</div>\n              </div>\n            </div>\n            <div className=\"col-md-6\">\n              <div className=\"form-group mb-2\">\n                <SelectLocalHouse\n                  style={{ width: \"100%\" }}\n                  value={getHouse?._id}\n                  onChange={(obj) => {\n                    if (obj?._id) {\n                      setHouse(obj);\n                    }\n                  }}\n                  ownerId={userData?._id}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ພາສາລາວ:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                name=\"title_lao\"\n                placeholder=\"...\"\n                value={values.title_lao}\n                onChange={handleChange}\n                error={errors.title_lao}\n              />\n              <div className=\"text-danger\">{errors.title_lao}</div>\n            </FormControl>\n          </div>\n          <div className=\"form-row mt-3\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      ພາສາອັງກິດ:\n                    </InputAdornment>\n                  }\n                  onWheel={(e) => e.target.blur()}\n                  type=\"text\"\n                  name=\"title_eng\"\n                  placeholder=\"...\"\n                  value={values.title_eng}\n                  onChange={handleChange}\n                />\n                <div className=\"text-danger\">{errors.title_eng}</div>\n              </FormControl>\n            </div>\n          </div>\n\n          <div className=\"form-row mt-3\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">ຄ້າງຄືນ:</InputAdornment>\n                  }\n                  onWheel={(e) => e.target.blur()}\n                  type=\"number\"\n                  name=\"priceFull\"\n                  placeholder=\"...\"\n                  value={values.priceFull}\n                  error={errors.priceFull}\n                  onChange={handleChange}\n                />\n                <div className=\"text-danger\">{errors.priceFull}</div>\n              </FormControl>\n            </div>\n          </div>\n          <div className=\"form-row mt-3\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">ຊົ່ວຄາວ:</InputAdornment>\n                  }\n                  onWheel={(e) => e.target.blur()}\n                  type=\"number\"\n                  name=\"priceHalf\"\n                  placeholder=\"...\"\n                  value={values.priceHalf}\n                  onChange={handleChange}\n                />\n                <div className=\"text-danger\">{errors.priceHalf}</div>\n              </FormControl>\n            </div>\n          </div>\n\n          <div className=\"form-row mt-3\">\n            <label className=\"text-black\">ລາຍລະອຽດ</label>\n            <div className=\"col-md-12\">\n              <textarea\n                rows={3}\n                style={{ color: \"black\" }}\n                name=\"detail\"\n                className=\"form-control form-control-lg\"\n                placeholder=\"...\"\n                onChange={handleChange}\n                value={values?.detail}\n              ></textarea>\n            </div>\n          </div>\n          <div className=\"form-group mt-2\">\n            <label>ຮູບພາບ (ເລືອກຫຼາຍຮູບພ້ອມກັນ) {valiDate()}</label>\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                type=\"file\"\n                name=\"docFile\"\n                value={values.docFile}\n                onChange={handleUploadDocFile}\n                placeholder=\"ເລືອກຮູບ\"\n                error={errors.docFile}\n                multiple\n              />\n              <div className=\"text-danger\">{errors.docFile}</div>\n            </FormControl>\n          </div>\n          <hr />\n          <div className=\"form-group mb-2\">\n            <label>ຟາຍທີ່ອັບໂຫລດແລ້ວ</label>\n            <div>\n              <div className=\"col-md-12\">\n                {getFileNames &&\n                  getFileNames.map((item, index) => (\n                    <>\n                      <div className=\"row mb-0\" key={index}>\n                        <div className=\"col-md-6\">\n                          <h4>{item}</h4>\n                        </div>\n                        <div\n                          className=\"col-md-6\"\n                          style={{ textAlign: \"right\" }}\n                        >\n                          <button\n                            className=\"btn btn-icon btn-xs btn-danger rounded-circle dz-cancel\"\n                            onClick={() => removeArray(index)}\n                          >\n                            <i className=\"icon-delete\"></i>\n                          </button>\n                        </div>\n                      </div>\n                      <hr />\n                    </>\n                  ))}\n              </div>\n            </div>\n          </div>\n        </div>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg mb-2\"\n            onClick={() => handleSubmit()}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport \"./utils/index.css\";\nimport AddCircleOutlineTwoToneIcon from \"@material-ui/icons/AddCircleOutlineTwoTone\";\nimport {\n  aws_url_image,\n  aws_url_images,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  valiDate,\n} from \"../../../helper\";\nimport { EDIT_ROOM } from \"./apollo\";\nimport TypeRoom from \"../../../helper/components/typeRoom\";\nimport { s3Client } from \"../../../helper/s3Client\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport male from \"../../../img/male.png\";\nimport SearchTypeRoom from \"../../../helper/components/SearchTypeRoom\";\nimport SelectLocalHouse from \"../../../helper/components/SelectLocalHouse\";\nimport {\n  FormControl,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  OutlinedInput,\n  Select,\n} from \"@mui/material\";\nexport default function EditRooms({ onSuccess, data, loadData }) {\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const [getValueStatus, setValueStatus] = useState();\n  const [typeDataRoom, setTypeDataRoom] = useState();\n  const [getHouse, setHouse] = useState();\n  const [imageName, setImageName] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [createRoom] = useMutation(EDIT_ROOM);\n  const [getDocFiles, setGetDocFiles] = useState(data.coverImage);\n  const [getImages, setImages] = useState(data.images);\n  const [getDocFiless, setDocFiless] = useState([]);\n  const [getFileNames, setFileNames] = useState([]);\n  const [status, setStatus] = useState(false);\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  // pictrue\n  const handleUpload = async (event) => {\n    const imageName = uuidv4() + \".\" + event.target.files[0].type.split(\"/\")[1];\n    const _file = event.target.files[0];\n    setFile(_file);\n    const res = await s3Client.uploadFile(_file, imageName);\n    if (res?.location) {\n      setFile(_file);\n      setImageName(imageName);\n      messageSuccess(\"ອັບໂຫຼດຮູບພາບສຳເລັດແລ້ວ\");\n    } else {\n      setFile(null);\n      setImageName(\"\");\n      messageWarning(\"ການອັບໂຫຼດຮູບພາບບໍ່ສຳເລັດ\");\n    }\n  };\n\n  // upload any file\n  const handleUploadDocFile = async (event) => {\n    try {\n      // setDocFiles(_image);\n      const error = [];\n      const success = [];\n      const files = [];\n      for (const doc of event.target.files) {\n        files.push(doc.name);\n        const docFileName = uuidv4() + \".\" + doc.type.split(\"/\")[1];\n        const res = await s3Client.uploadFile(doc, docFileName);\n        if (res?.location) {\n          success.push(docFileName);\n        } else {\n          error.push(docFileName);\n        }\n      }\n      setFileNames(files);\n      setDocFiless(success);\n      messageSuccess(\"ອັບໂຫຼດຮູບພາບສຳເລັດແລ້ວ\");\n    } catch (error) {\n      console.log({ error });\n    }\n  };\n  const newArray = [];\n  for (let i = 0; i < getDocFiles?.split(\",\").length; i++) {\n    newArray.push(getDocFiles?.split(\",\")[i]);\n  }\n  const removeArray = (index) => {\n    getDocFiless.splice(index, 1);\n    setDocFiless(getDocFiless);\n\n    getFileNames.splice(index, 1);\n    setFileNames(getFileNames);\n    setStatus(!status);\n  };\n  const {\n    handleChange,\n    errors,\n    values,\n    handleSubmit,\n    resetForm,\n    setFieldValue,\n  } = useFormik({\n    initialValues: {\n      title_lao: \"\",\n      title_eng: \"\",\n      priceHalf: \"\",\n      priceFull: \"\",\n      detail: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!values.title_lao) {\n        errors.title_lao = \"ກະລຸນາປ້ອນຫ້ອງ\";\n      }\n      if (values.priceFull <= 0) {\n        errors.priceFull = \"ກະລຸນາປ້ອນຈຳນວນເງິນຫລາຍກວ່າ 0\";\n      }\n      if (values.priceHalf <= 0) {\n        errors.priceHalf = \"ກະລຸນາປ້ອນຈຳນວນເງິນຫລາຍກວ່າ 0\";\n      }\n      if (getDocFiles === \"\" && getDocFiless.length < 1) {\n        errors.docFile = \"ກະລຸນາເລືອກຮູບກ່ອນ\";\n      }\n      if (!getHouse?._id) errors.house = \"error\";\n      if (!typeDataRoom?._id) errors.typeRoom = \"error\";\n      return errors;\n    },\n    onSubmit: async (values) => {\n      loadingScreen();\n      try {\n        const { data: updated } = await createRoom({\n          variables: {\n            data: {\n              title_lao: String(values?.title_lao),\n              title_eng: String(values?.title_eng),\n              priceHalf: parseInt(values?.priceHalf),\n              priceFull: parseInt(values?.priceFull),\n              status: String(getValueStatus),\n              detail: String(values?.detail),\n              house: String(getHouse?._id),\n              typeRoom: String(typeDataRoom?._id),\n              coverImage:\n                getDocFiless.length > 0\n                  ? String(getDocFiless.join(\",\"))\n                  : getDocFiles,\n              images: String(imageName ? imageName : getImages),\n            },\n            where: {\n              _id: data?._id,\n            },\n          },\n        });\n\n        if (updated) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ການດຳເນີນງານສຳເລັດ\");\n          onSuccess(loadData === true ? false : true);\n          setFileNames(\"\");\n          setDocFiless(\"\");\n          setShow(false);\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"ການດຳເນີນງານບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        console.log(error);\n        Notiflix.Loading.remove();\n        messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n      }\n    },\n  });\n\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    setFieldValue(\"title_lao\", data?.title_lao ? data?.title_lao : \"\", false);\n    setFieldValue(\"title_eng\", data?.title_eng ? data?.title_eng : \"\", false);\n    setFieldValue(\"priceFull\", data?.priceFull ? data?.priceFull : 0, false);\n    setFieldValue(\"priceHalf\", data?.priceHalf ? data?.priceHalf : 0, false);\n    setFieldValue(\"detail\", data?.detail ? data?.detail : \"\", false);\n    setValueStatus(data.status);\n    setTypeDataRoom(data?.typeRoom);\n    setHouse(data?.house);\n  }, [data, show]);\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn btn-sm\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"fas fa-edit\" />\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header>\n          {\" \"}\n          ຟອມແກ້ໄຂຂໍ້ມູນຫ້ອງ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"row\">\n            <div className=\"form-group\">\n              <label className=\"control-label\">ອັບໂຫຼດຮູບໂປຣໄຟຣ໌ຫ້ອງ</label>\n              <div\n                style={{ textAlign: \"center\" }}\n                for=\"file-upload\"\n                className=\"long\"\n              >\n                <input\n                  type=\"file\"\n                  id=\"file-upload\"\n                  className=\"bg-danger\"\n                  onChange={handleUpload}\n                  hidden\n                />\n                <label for=\"file-upload\" style={{ padding: 20 }}>\n                  {file ? (\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      style={{\n                        height: 200,\n                        width: 200,\n                        borderRadius: 100 / 2,\n                      }}\n                    />\n                  ) : (\n                    <img\n                      src={data?.images ? aws_url_images + data?.images : male}\n                      style={{ width: \"170px\", height: \"180px\" }}\n                    />\n                  )}\n                </label>\n              </div>\n            </div>\n            <div className=\"col-md-6 mt-2\">\n              <div className=\"form-group mb-2\">\n                <label>ເລືອກປະເພດຫ້ອງ {valiDate()}</label>\n                <SearchTypeRoom\n                  style={{ height: \"100%\", backgroundColor: \"red\" }}\n                  value={typeDataRoom?._id}\n                  onChange={(obj) => {\n                    setTypeDataRoom(obj);\n                  }}\n                />\n              </div>\n            </div>\n            <div className=\"col-md-6 mt-2\">\n              <div className=\"form-group mb-2\">\n                <SelectLocalHouse\n                  style={{ width: \"100%\" }}\n                  value={getHouse?._id}\n                  onChange={(obj) => {\n                    if (obj?._id) {\n                      setHouse(obj);\n                    }\n                  }}\n                  ownerId={userData?._id}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ພາສາລາວ:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                name=\"title_lao\"\n                placeholder=\"...\"\n                value={values.title_lao}\n                onChange={handleChange}\n                error={errors.title_lao}\n              />\n              <div className=\"text-danger\">{errors.title_lao}</div>\n            </FormControl>\n          </div>\n          <div className=\"form-row mt-3\">\n            <div>\n              <div className=\"col-md-12\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        ພາສາອັງກີດ:\n                      </InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"text\"\n                    name=\"title_lao\"\n                    placeholder=\"...\"\n                    value={values.title_eng}\n                    onChange={handleChange}\n                    error={errors.title_eng}\n                  />\n                </FormControl>\n              </div>\n            </div>\n          </div>\n          <div className=\"row mt-1\">\n            <div className=\"col-md-6\">\n              <div className=\"form-row mt-2\">\n                <div className=\"col-md-12\">\n                  <FormControl fullWidth sx={{ m: 0 }}>\n                    <OutlinedInput\n                      startAdornment={\n                        <InputAdornment position=\"start\">\n                          ຄ້າງຄືນ:\n                        </InputAdornment>\n                      }\n                      onWheel={(e) => e.target.blur()}\n                      type=\"number\"\n                      name=\"priceFull\"\n                      placeholder=\"...\"\n                      value={values.priceFull}\n                      error={errors.priceFull}\n                      onChange={handleChange}\n                    />\n                    <div className=\"text-danger\">{errors.priceFull}</div>\n                  </FormControl>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-md-6 ml-auto\">\n              <div className=\"form-row mt-2\">\n                <div className=\"col-md-12\">\n                  <FormControl fullWidth sx={{ m: 0 }}>\n                    <OutlinedInput\n                      startAdornment={\n                        <InputAdornment position=\"start\">\n                          ຊົ່ວຄາວ:\n                        </InputAdornment>\n                      }\n                      onWheel={(e) => e.target.blur()}\n                      type=\"number\"\n                      name=\"priceHalf\"\n                      placeholder=\"...\"\n                      value={values.priceHalf}\n                      onChange={handleChange}\n                    />\n                    <div className=\"text-danger\">{errors.priceHalf}</div>\n                  </FormControl>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"form-row mt-3\">\n            <label className=\"text-black\">ລາຍລະອຽດ</label>\n            <div className=\"col-md-12\">\n              <textarea\n                rows={3}\n                name=\"detail\"\n                style={{ color: \"black\" }}\n                className=\"form-control form-control-lg\"\n                placeholder=\"ປ້ອນລາຍລະອຽດ\"\n                onChange={handleChange}\n                value={values?.detail}\n              ></textarea>\n            </div>\n          </div>\n          <div className=\"form-group mt-2\">\n            <label>ຮູບພາບ (ເລືອກຫຼາຍຮູບພ້ອມກັນ) {valiDate()}</label>\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                type=\"file\"\n                name=\"docFile\"\n                value={values.docFile}\n                onChange={handleUploadDocFile}\n                placeholder=\"ເລືອກຮູບ\"\n                error={errors.docFile}\n                multiple\n              />\n              <div className=\"text-danger\">{errors.docFile}</div>\n            </FormControl>\n          </div>\n          <div className=\"form-group mb-2\">\n            <label>ຟາຍທີ່ອັບໂຫລດແລ້ວ</label>\n            <div>\n              <div className=\"col-md-12\">\n                {getFileNames.length === 0 ? (\n                  <>\n                    {newArray &&\n                      newArray.map((item, index) => (\n                        <>\n                          <div className=\"row mb-0 border-bottom\" key={index}>\n                            <div className=\"col-md-6\">\n                              <h4>{item}</h4>\n                            </div>\n                          </div>\n                        </>\n                      ))}\n                  </>\n                ) : (\n                  <>\n                    {getFileNames &&\n                      getFileNames.map((item, index) => (\n                        <>\n                          <div className=\"row mb-0\" key={index}>\n                            <div className=\"col-md-6\">\n                              <h4>{item}</h4>\n                            </div>\n                            <div\n                              className=\"col-md-6\"\n                              style={{ textAlign: \"right\" }}\n                            >\n                              <button\n                                className=\"btn btn-icon btn-xs btn-danger rounded-circle dz-cancel\"\n                                onClick={() => removeArray(index)}\n                              >\n                                <i className=\"icon-delete\"></i>\n                              </button>\n                            </div>\n                          </div>\n                        </>\n                      ))}\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  formatDateTime,\n  userStatus,\n  ITEM_PER_PAGE,\n  loadingData,\n  messageConfirm,\n  messageError,\n  messageSuccess,\n  currency,\n  getLocalHouse,\n  getStaffLogin,\n  setParams,\n} from \"../../../helper\";\nimport { DELETE_ROOM, QUERY_ROOM } from \"./apollo\";\nimport AddRooms from \"./addRooms\";\nimport EditRooms from \"./editRooms\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\nimport NoData from \"../../../helper/components/NoData\";\nexport default function Rooms() {\n  const { history, location, match } = useReactRouter();\n  const numberPage = match?.params?.page;\n  // get query search\n  const query = new URLSearchParams(location.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [numberRows, setNumberRows] = useState(rows ? rows : ITEM_PER_PAGE);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const jsonObj = getStaffLogin();\n  const userInfo = jsonObj?.data;\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [loadData, setLoadData] = useState(false);\n  const [provinceData, setProvinceData] = useState(\"\");\n  const [deleteRoom] = useMutation(DELETE_ROOM);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_ROOM, {\n    fetchPolicy: \"cache-and-network\",\n  });\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n\n  // let _where = {\n  //   title_lao: String(searchValue),\n  //   house: parseInt(localHouse),\n  // };\n\n  // if(userInfo?.role === \"SUPER_ADMIN\"){\n  //   delete _where.house\n  // }\n\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          title_lao: String(searchValue),\n          house: parseInt(localHouse),\n        },\n        skip: searchValue ? 0 : numberRows * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRows,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRows,\n    searchValue,\n    numberPage,\n    loadData,\n    provinceData,\n    setData,\n    localHouse,\n  ]);\n\n  //pageination\n  const countData = setData?.rooms?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRows); i++) {\n    countPage.push(i);\n  }\n  const NO = (index) => {\n    const no = numberRows * numberPage - numberRows;\n    if (numberRows > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n\n  const _deleteRoom = (id) => {\n    messageConfirm(\"ທ່ານຕ້ອລືບ ແທ້ ຫຼື ບໍ່?\", async () => {\n      Loading.dots();\n      try {\n        const { data: _deleteData } = await deleteRoom({\n          variables: {\n            where: {\n              _id: id,\n            },\n          },\n        });\n        if (_deleteData) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ລືບຂໍ້ມູນສຳເລັດແລ້ວ\");\n          setLoadData(!loadData);\n        } else {\n          messageError(\"ລືບຂໍ້ມູນບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        Notiflix.Loading.remove();\n        messageError(\"ລືບຂໍ້ມູນຜິດພາດ\");\n      }\n    });\n  };\n\n  return (\n    <>\n      <div className=\"section\" style={{ marginTop: 50 }}>\n        <div className=\"transactions mt-2\">\n          <div className=\"row\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-solid fa-magnifying-glass\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"search\"\n                placeholder=\"ຄົ້ນຫາ...\"\n                onChange={(e) => setSearchValue(e.target.value)}\n              />\n            </FormControl>\n          </div>\n          <div className=\"text-center\">{loading ? loadingData(25) : \"\"}</div>\n          {setData?.rooms?.total > 0 ? (\n            <div className=\"listView mt-2\">\n              {setData?.rooms?.data?.map((data, index) => (\n                <>\n                  <b\n                    className=\"float-end\"\n                    style={{ marginTop: -8, marginRight: -10 }}\n                  >\n                    <i\n                      className=\"icon-trash text-danger\"\n                      onClick={(e) => {\n                        _deleteRoom(data?._id);\n                      }}\n                      style={{ fontSize: 20, color: \"#9c9695\" }}\n                    ></i>\n                  </b>\n                  <a\n                    href=\"javascript:void(0)\"\n                    className=\"item pr-0 \"\n                    key={index}\n                  >\n                    <div className=\"detail col-md-10\">\n                      <div>\n                        <strong>\n                          ເບີຫ້ອງ: {data?.title_lao ? data?.title_lao : \"-\"}/\n                          {data?.title_eng ? data?.title_eng : \"-\"}\n                        </strong>\n                        <b className=\"colors\">\n                          ລາຄາ:{\" \"}\n                          {currency(data?.priceFull ? data?.priceFull : \"-\")} /{\" \"}\n                          {currency(data?.priceFull ? data?.priceFull : \"-\")}\n                        </b>\n                        <br />\n                        <b className=\"colors\">\n                          ປະເພດຫ້ອງ:{\" \"}\n                          {currency(data?.priceFull ? data?.priceFull : \"-\")}\n                        </b>\n                        <br />\n                        <b className=\"colors\">\n                          ລາຍລະອຽດ: {data?.detail ? data?.detail : \"-\"}\n                        </b>\n                      </div>\n                    </div>\n                    <div className=\"right\">\n                      <EditRooms\n                        data={data}\n                        loadData={loadData}\n                        onSuccess={(item) => {\n                          setLoadData(item);\n                        }}\n                      />\n                    </div>\n                  </a>\n                </>\n              ))}\n            </div>\n          ) : (\n            <NoData loading={loading} />\n          )}\n          {setData?.typeRooms?.total > 100 && (\n            <Pagination\n              className=\"mt-2\"\n              pageTotal={countPage}\n              currentPage={numberPage}\n              onPageChange={(page) => {\n                history.push({\n                  search: setParams(`page`, page),\n                });\n              }}\n            />\n          )}\n        </div>\n        <div\n          style={{\n            position: \"fixed\",\n            // bottom: 1,\n            backgroundColor: \"#edece8\",\n            zIndex: 99999,\n          }}\n          className=\"col-md-12 appBottomMenu\"\n        >\n          <AddRooms\n            loadData={loadData}\n            onSuccess={(item) => {\n              setLoadData(item);\n            }}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport useReactRouter from \"use-react-router\";\nimport { Button, Col } from \"react-bootstrap\";\nimport { OTHER } from \"../../routes/app\";\nimport TypeRoom from \"./type_room\";\nimport Rooms from \"./rooms\";\nimport \"./util/index.css\";\nimport { getLocalHouse } from \"../../helper\";\nexport default function TabMenu() {\n  const { history, location } = useReactRouter();\n  const params = new URLSearchParams(location?.search);\n  //useState\n  const [tabActive, setTabActive] = useState(\"Type\");\n  const [houseId, setLocalHouse] = useState(\"\");\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n\n  useEffect(() => {\n    const tab = params.get(\"tab\");\n    if (tab) {\n      setTabActive(tab);\n    }\n  }, [params]);\n\n  useEffect(() => {\n    const elmTab = document.querySelectorAll(\".nav-tabs-custom\")[0];\n    const elmItemTab = document.querySelectorAll(\"button.active\")[0];\n    if (elmTab && elmItemTab) {\n      const left = elmItemTab.offsetLeft - 10;\n      elmTab.scrollLeft = left;\n    }\n  }, [tabActive]);\n\n  return (\n    <>\n      <div className=\"appHeader text-light border-0 mr-0\">\n        <div style={{ flex: 1 }} className=\"text-left\">\n          <button\n            className=\"btn text-white\"\n            onClick={() => history.push(OTHER)}\n          >\n            <i className=\"fa fa-chevron-left fs-4\" />\n          </button>\n        </div>\n        {tabActive === \"Type\" ? (\n          <>ຈັດການເພີ່ມປະເພດຫ້ອງ</>\n        ) : (\n          <>{houseId?.houseName ? houseId?.houseName : \"ຂໍ້ມູນຫ້ອງ\"}</>\n        )}\n        <div\n          className=\"text-white pageTitle text-right text-nowrap pr-0\"\n          style={{ flex: 1 }}\n        ></div>\n      </div>\n      <div className=\"extraHeaderB\">\n        <div className=\"extraHeader pr-0 pl-0 nav-tabs-custom\">\n          <Button\n            className={`item-tab btn-block btn-lg  ${\n              tabActive === \"Type\" ? \"activeClick\" : \"\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=Type\" })}\n          >\n            ຂໍ້ມູນປະເພດຫ້ອງ\n          </Button>\n          <Button\n            className={`item-tab btn-block btn-lg mb-1  ${\n              tabActive === \"room\" ? \"activeClick\" : \"\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=room\" })}\n          >\n            ຂໍ້ມູນຫ້ອງ\n          </Button>\n        </div>\n      </div>\n      <div id=\"appCapsule\" className=\"extra-header-activeClick\">\n        {tabActive === \"Type\" && <TypeRoom />}\n        {tabActive === \"room\" && <Rooms />}\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const ADD_PROVINCES = gql`\n  mutation CreateProvince($data: ProvinceInput!) {\n    createProvince(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_REPORT_BOOKING = gql`\n  query Bookings(\n    $where: BookingWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        _id\n        customer {\n          _id\n          fullName\n        }\n        house {\n          _id\n          houseName\n        }\n        room {\n          _id\n          title_lao\n        }\n        bookDate\n        bookTime\n        checkInAt\n        feeBooking\n        halfPriceTotal\n        fullPriceTotal\n      }\n    }\n  }\n`;\n\nexport const CLEAR_REDIS = gql`\n  mutation DeleteRedis($where: RedisWhereInput!) {\n    deleteRedis(where: $where) {\n      status\n    }\n  }\n`;\nexport const EDIT_PROVINCES = gql`\n  mutation UpdateProvince(\n    $data: ProvinceInput!\n    $where: ProvinceWhereInputOne!\n  ) {\n    updateProvince(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateTime,\n  getLocalHouse,\n  ITEM_PER_PAGE,\n  loadingData,\n  paiStatus,\n  setParams,\n  socketServer,\n} from \"../../helper\";\nimport useReactRouter from \"use-react-router\";\nimport { HOUSE } from \"./gql\";\nexport default function TypeHouse({ getId }) {\n  const { history, location, match } = useReactRouter();\n  const numberPage = match?.params?.page;\n  const [listData, setListData] = useState();\n  const query = new URLSearchParams(location.search);\n  const [queryHouse, { data: setData, loading: loadingId }] = useLazyQuery(\n    HOUSE,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  // detail\n  useEffect(() => {\n    queryHouse({\n      variables: {\n        where: {\n          _id: getId,\n        },\n        orderBy: \"createdAt_DESC\",\n        limit: 1,\n      },\n    });\n  }, [getId]);\n\n  const getData = setData?.houses?.data[0];\n\n  return (\n    <>\n      <td className=\"text-end text-black\">\n        {getData?.type?.title_lao ? getData?.type?.title_lao : \"-\"}\n      </td>\n    </>\n  );\n}\n","export default \"data:image/png;base64,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\"","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../../helper\";\nimport TypeHouse from \"../../TypeHouse\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport placeholder from \"../../../../img/placeholder.png\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_REPORT_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title>ຂໍ້ມູນຫ້ອງ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  me-2\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຫ້ອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ປະເພດກິດຈະການ</span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ກິດຈະການ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ລູກຄ້າ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ເວລາຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ວັນທີຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຈຳນວນມື້</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຊົ່ວໂມພັກ</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime ? data?.inTime : 0)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຄ້າງຄືນ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal ? data?.fullPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຊົ່ວຄາວ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal ? data?.halfPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊຳລະ</span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <img\n                      src={\n                        data?.images\n                          ? aws_url_images + data?.images\n                          : placeholder\n                      }\n                      className=\"w-100\"\n                    />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\">ບໍ່ມີຂໍ້ມູນ</p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-white me-1 border-top btn-primary\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-white\" />\n          ປິດ\n        </button>\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  currency,\n  formatDateDash,\n  startMonth,\n  getLocalHouse,\n  createdAt_gte,\n  createdAt_lt,\n  setParams,\n  endOfMonth,\n} from \"../../../../helper\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\nimport SearchRoom from \"../../../../helper/components/SearchRoom\";\nimport LimitData from \"../../../../helper/controllers/LimitData\";\nimport DetailRoom from \"./DetailRoom\";\nexport default function ReportBooking() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const userState = getStaffLogin();\n  const userInfo = userState?.data;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [listRoom, setListRoom] = useState(\"\");\n  const [startDate, setStartDate] = useState(startMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [detailRoom, setDetailRoom] = useState();\n  const toDay = new Date();\n  const forMatDate = moment(toDay).format(\"YYYY-MM-DD\");\n  const [bookingDate_lt, setBookingDate_lt] = useState(forMatDate);\n  const [houseID, setHouseID] = useState(getLocalHouse());\n\n  const [getReportBooking, { data: resReportBooking, loading }] = useLazyQuery(\n    QUERY_REPORT_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(houseID?._id),\n    };\n    if (userInfo?.role === \"IT\" || userInfo?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    getReportBooking({\n      variables: {\n        where: {\n          ...whereData,\n          room: listRoom?._id ? listRoom?._id : undefined,\n          status: \"BOOKING\",\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n        },\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRow,\n    searchValue,\n    numberPage,\n    newLoadData,\n    listRoom,\n    houseID,\n    startDate,\n    endDate,\n  ]);\n\n  const _sumAll = resReportBooking?.bookings?.data;\n  const _sumFeeBooking = _.sumBy(_sumAll, \"feeBooking\");\n  //pageination\n  const countData = resReportBooking?.bookings?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n  const _onChangeRows = (e) => {\n    let _value = e?.target?.value;\n    history.push(`?rows=${_value}`);\n    setNumberRow(parseInt(_value));\n  };\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\">ລາຍງານຍອດການຈອງ</h3>\n        </div>\n      </div>\n\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6 mb-2\">\n                      <div className=\"input-group\">\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={startDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`startDate`, e.target.value),\n                            });\n                          }}\n                        />\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={endDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`endDate`, e.target.value),\n                            });\n                          }}\n                        />\n                      </div>\n                    </div>\n                    <div\n                      className=\"col-md-3\"\n                      style={{\n                        position: \"fixed\",\n                        zIndex: 100,\n                        top: 57,\n                      }}\n                    >\n                      <SearchRoom\n                        style={{ with: \"100%\", heigh: \"200px\" }}\n                        value={listRoom?._id}\n                        onChange={(obj) => {\n                          setListRoom(obj);\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"card-body \">\n                  <div className=\"table-responsive border\">\n                    <table className=\"table table-sm\">\n                      <thead>\n                        <tr>\n                          <th className=\"text-nowrap\">ລຳດັບ</th>\n                          <th className=\"text-nowrap\">ເບີຫ້ອງ</th>\n                          <th className=\"text-nowrap text-end\">ຄ່າຈອງ</th>\n                          <th className=\"text-nowrap text-center\">ວັນທີຈອງ</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {resReportBooking &&\n                          resReportBooking?.bookings?.data?.map(\n                            (item, index) => (\n                              <>\n                                <tr\n                                  key={index}\n                                  style={{\n                                    cursor: \"pointer\",\n                                  }}\n                                  className=\"text-black\"\n                                  onClick={() => setDetailRoom(item?._id)}\n                                >\n                                  <td className=\"text-nowrap\">{NO(index)}</td>\n                                  <td className=\"text-nowrap\">\n                                    {item?.room?.title_lao\n                                      ? item?.room?.title_lao\n                                      : \"-\"}\n                                  </td>\n                                  <td className=\"text-nowrap text-end\">\n                                    {item?.feeBooking\n                                      ? currency(item?.feeBooking)\n                                      : \"0\"}{\" \"}\n                                    ກີບ\n                                  </td>\n                                  <td className=\"text-nowrap text-center\">\n                                    {item?.bookDate\n                                      ? formatDateDash(item?.bookDate)\n                                      : \"\"}\n                                    <i className=\"fa-solid fa-angle-right ms-1 text-black ms-2\" />\n                                  </td>\n                                </tr>\n                              </>\n                            )\n                          )}\n                        <tr style={{ backgroundColor: \"#e6eef0\" }}>\n                          <td\n                            className=\"text-nowrap text-center\"\n                            colSpan={2}\n                            style={{ textAlign: \"center\" }}\n                          >\n                            <h4>ຍອດລວມ</h4>\n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            <h4>{currency(_sumFeeBooking)} ກີບ</h4>\n                          </td>\n                          <td></td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {resReportBooking?.bookings?.total > 100 && (\n          <Pagination\n            className=\"mt-2\"\n            pageTotal={countPage}\n            currentPage={numberPage}\n            onPageChange={(page) => {\n              history.push({\n                search: setParams(`page`, page),\n              });\n            }}\n          />\n        )}\n        <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const ADD_PROVINCES = gql`\n  mutation CreateProvince($data: ProvinceInput!) {\n    createProvince(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_REPORT_BOOKING = gql`\n  query Bookings(\n    $where: BookingWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        _id\n        customer {\n          _id\n          fullName\n        }\n        house {\n          _id\n          houseName\n        }\n        room {\n          _id\n          title_lao\n        }\n        bookDate\n        bookTime\n        checkInAt\n        feeBooking\n        halfPriceTotal\n        fullPriceTotal\n        incomeKIP\n        incomeTHB\n        incomeUSD\n      }\n    }\n  }\n`;\n\nexport const CLEAR_REDIS = gql`\n  mutation DeleteRedis($where: RedisWhereInput!) {\n    deleteRedis(where: $where) {\n      status\n    }\n  }\n`;\nexport const EDIT_PROVINCES = gql`\n  mutation UpdateProvince(\n    $data: ProvinceInput!\n    $where: ProvinceWhereInputOne!\n  ) {\n    updateProvince(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../../helper\";\nimport TypeHouse from \"../../TypeHouse\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport placeholder from \"../../../../img/placeholder.png\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(\n    QUERY_REPORT_BOOKING,\n    {\n      fetchPolicy: \"network-only\",\n    }\n  );\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title>ຂໍ້ມູນຫ້ອງ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  me-2\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຫ້ອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ປະເພດກິດຈະການ</span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ກິດຈະການ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ລູກຄ້າ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ເວລາຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ວັນທີຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຈຳນວນມື້</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຊົ່ວໂມພັກ</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime ? data?.inTime : 0)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຄ້າງຄືນ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(\n                        data?.fullPriceTotal ? data?.fullPriceTotal : 0\n                      )}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຊົ່ວຄາວ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(\n                        data?.halfPriceTotal ? data?.halfPriceTotal : 0\n                      )}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊຳລະ</span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <img\n                      src={\n                        data?.images\n                          ? aws_url_images + data?.images\n                          : placeholder\n                      }\n                      className=\"w-100\"\n                    />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\">ບໍ່ມີຂໍ້ມູນ</p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-white me-1 border-top btn-primary\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-white \" />\n          ປິດ\n        </button>\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  currency,\n  formatDateDash,\n  startMonth,\n  getLocalHouse,\n  createdAt_gte,\n  createdAt_lt,\n  setParams,\n  endOfMonth,\n} from \"../../../../helper\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\nimport SearchRoom from \"../../../../helper/components/SearchRoom\";\nimport LimitData from \"../../../../helper/controllers/LimitData\";\nimport DetailRoom from \"./DetailRoom\";\nexport default function ReportCheckIn() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const userState = getStaffLogin();\n  const userInfo = userState?.data;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [listRoom, setListRoom] = useState(\"\");\n  const [startDate, setStartDate] = useState(startMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [detailRoom, setDetailRoom] = useState();\n  const [houseID, setHouseID] = useState(getLocalHouse());\n\n  const [getReportBooking, { data: resReportBooking, loading }] = useLazyQuery(\n    QUERY_REPORT_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(houseID?._id),\n    };\n    if (userInfo?.role === \"IT\" || userInfo?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    getReportBooking({\n      variables: {\n        where: {\n          ...whereData,\n          room: listRoom?._id ? listRoom?._id : undefined,\n          status: \"CHECK_IN\",\n          checkInAt_gte: createdAt_gte(startDate),\n          checkInAt_lte: createdAt_lt(endDate),\n        },\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRow,\n    searchValue,\n    numberPage,\n    newLoadData,\n    listRoom,\n    houseID,\n    startDate,\n    endDate,\n  ]);\n\n  const _sumAll = resReportBooking?.bookings?.data;\n  const _sumFeeBooking = _.sumBy(_sumAll, \"feeBooking\");\n  const _sumIncomeKip = _.sumBy(_sumAll, \"incomeKIP\");\n  const _sumIncomeTHB = _.sumBy(_sumAll, \"incomeTHB\");\n  const _sumIncomeUSD = _.sumBy(_sumAll, \"incomeUSD\");\n  //pageination\n  const countData = resReportBooking?.bookings?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n  const _onChangeRows = (e) => {\n    let _value = e?.target?.value;\n    history.push(`?rows=${_value}`);\n    setNumberRow(parseInt(_value));\n  };\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\">\n            ລາຍງານຍອດແຂກເຂົ້າທັງຫມົດ\n          </h3>\n        </div>\n      </div>\n\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6 mb-2\">\n                      <div className=\"input-group\">\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={startDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`startDate`, e.target.value),\n                            });\n                          }}\n                        />\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={endDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`endDate`, e.target.value),\n                            });\n                          }}\n                        />\n                      </div>\n                    </div>\n                    <div\n                      className=\"col-md-3\"\n                      style={{\n                        position: \"fixed\",\n                        zIndex: 100,\n                        top: 57,\n                      }}\n                    >\n                      <SearchRoom\n                        style={{ with: \"100%\", heigh: \"200px\" }}\n                        value={listRoom?._id}\n                        onChange={(obj) => {\n                          setListRoom(obj);\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"card-body \">\n                  <div className=\"table-responsive border\">\n                    <table className=\"table table-sm\">\n                      <thead>\n                        <tr>\n                          <th className=\"text-nowrap\">ລຳດັບ</th>\n                          <th className=\"text-nowrap\">ເບີຫ້ອງ</th>\n                          <th className=\"text-nowrap text-end\">ຄ່າຫ້ອງ</th>\n                          <th className=\"text-nowrap text-center\">ວັນທີຈອງ</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {resReportBooking &&\n                          resReportBooking?.bookings?.data?.map(\n                            (item, index) => (\n                              <>\n                                <tr\n                                  key={index}\n                                  style={{\n                                    cursor: \"pointer\",\n                                  }}\n                                  className=\"text-black\"\n                                  onClick={() => setDetailRoom(item?._id)}\n                                >\n                                  <td className=\"text-nowrap\">{NO(index)}</td>\n                                  <td className=\"text-nowrap\">\n                                    {item?.room?.title_lao\n                                      ? item?.room?.title_lao\n                                      : \"-\"}\n                                  </td>\n                                  <td className=\"text-nowrap text-end\">\n                                    {item?.bookDate ? (\n                                      <>\n                                        {item?.feeBooking\n                                          ? currency(item?.feeBooking)\n                                          : \"0\"}{\" \"}\n                                        ກີບ\n                                      </>\n                                    ) : (\n                                      <>\n                                        {item?.incomeKIP > 0 && (\n                                          <>\n                                            {item?.incomeKIP\n                                              ? currency(item?.incomeKIP)\n                                              : \"0\"}{\" \"}\n                                            ກີບ\n                                            <br />\n                                          </>\n                                        )}\n                                        {item?.incomeTHB > 0 && (\n                                          <>\n                                            {item?.incomeTHB\n                                              ? currency(item?.incomeTHB)\n                                              : \"0\"}{\" \"}\n                                            ບາດ\n                                            <br />\n                                          </>\n                                        )}\n                                        {item?.incomeUSD > 0 && (\n                                          <>\n                                            {item?.incomeUSD\n                                              ? currency(item?.incomeUSD)\n                                              : \"0\"}{\" \"}\n                                            ບາດ\n                                          </>\n                                        )}\n                                      </>\n                                    )}\n                                  </td>\n                                  <td className=\"text-nowrap text-center\">\n                                    {item?.bookDate\n                                      ? formatDateDash(item?.bookDate)\n                                      : \"\"}\n                                    <i className=\"fa-solid fa-angle-right ms-1 text-black ms-2\" />\n                                  </td>\n                                </tr>\n                              </>\n                            )\n                          )}\n                        <tr style={{ backgroundColor: \"#e6eef0\" }}>\n                          <td\n                            className=\"text-nowrap text-center\"\n                            colSpan={2}\n                            style={{ textAlign: \"center\" }}\n                          >\n                            <h4>ຍອດລວມ</h4>\n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            {_sumIncomeKip >= 1 && (\n                              <>\n                                <h4>{currency(_sumIncomeKip)} ກີບ</h4>\n                              </>\n                            )}\n                            {_sumIncomeTHB >= 1 && (\n                              <>\n                                <h4>{currency(_sumIncomeTHB)} ບາດ</h4>\n                              </>\n                            )}\n                            {_sumIncomeUSD >= 1 && (\n                              <>\n                                <h4>{currency(_sumIncomeUSD)} ໂດລາ</h4>\n                              </>\n                            )}\n                          </td>\n                          <td></td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {resReportBooking?.bookings?.total > 100 && (\n          <Pagination\n            className=\"mt-2\"\n            pageTotal={countPage}\n            currentPage={numberPage}\n            onPageChange={(page) => {\n              history.push({\n                search: setParams(`page`, page),\n              });\n            }}\n          />\n        )}\n        <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const ADD_PROVINCES = gql`\n  mutation CreateProvince($data: ProvinceInput!) {\n    createProvince(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_REPORT_BOOKING = gql`\n  query Bookings(\n    $where: BookingWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        _id\n        customer {\n          _id\n          fullName\n        }\n        house {\n          _id\n          houseName\n        }\n        room {\n          _id\n          title_lao\n        }\n        bookDate\n        bookTime\n        checkInAt\n        feeBooking\n        halfPriceTotal\n        fullPriceTotal\n        incomeKIP\n        incomeTHB\n        incomeUSD\n      }\n    }\n  }\n`;\n\nexport const CLEAR_REDIS = gql`\n  mutation DeleteRedis($where: RedisWhereInput!) {\n    deleteRedis(where: $where) {\n      status\n    }\n  }\n`;\nexport const EDIT_PROVINCES = gql`\n  mutation UpdateProvince(\n    $data: ProvinceInput!\n    $where: ProvinceWhereInputOne!\n  ) {\n    updateProvince(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../../helper\";\nimport TypeHouse from \"../../TypeHouse\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport placeholder from \"../../../../img/placeholder.png\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(\n    QUERY_REPORT_BOOKING,\n    {\n      fetchPolicy: \"network-only\",\n    }\n  );\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title>ຂໍ້ມູນຫ້ອງ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  me-2\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຫ້ອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ປະເພດກິດຈະການ</span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ກິດຈະການ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ລູກຄ້າ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ເວລາຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ວັນທີຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຈຳນວນມື້</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຊົ່ວໂມພັກ</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime ? data?.inTime : 0)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຄ້າງຄືນ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(\n                        data?.fullPriceTotal ? data?.fullPriceTotal : 0\n                      )}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຊົ່ວຄາວ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(\n                        data?.halfPriceTotal ? data?.halfPriceTotal : 0\n                      )}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊຳລະ</span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <img\n                      src={\n                        data?.images\n                          ? aws_url_images + data?.images\n                          : placeholder\n                      }\n                      className=\"w-100\"\n                    />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\">ບໍ່ມີຂໍ້ມູນ</p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-white me-1 border-top btn-primary\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-white\" />\n          ປິດ\n        </button>\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  currency,\n  formatDateDash,\n  startMonth,\n  getLocalHouse,\n  createdAt_gte,\n  createdAt_lt,\n  setParams,\n  endOfMonth,\n} from \"../../../../helper\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\nimport SearchRoom from \"../../../../helper/components/SearchRoom\";\nimport LimitData from \"../../../../helper/controllers/LimitData\";\nimport DetailRoom from \"./DetailRoom\";\nexport default function ReportCheckOut() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const userState = getStaffLogin();\n  const userInfo = userState?.data;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [listRoom, setListRoom] = useState(\"\");\n  const [startDate, setStartDate] = useState(startMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [detailRoom, setDetailRoom] = useState();\n  const [houseID, setHouseID] = useState(getLocalHouse());\n\n  const [getReportBooking, { data: resReportBooking, loading }] = useLazyQuery(\n    QUERY_REPORT_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(houseID?._id),\n    };\n    if (userInfo?.role === \"IT\" || userInfo?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    getReportBooking({\n      variables: {\n        where: {\n          ...whereData,\n          room: listRoom?._id ? listRoom?._id : undefined,\n          status: \"CHECK_OUT\",\n          checkOutAt_gte: createdAt_gte(startDate),\n          checkOutAt_lte: createdAt_lt(endDate),\n        },\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRow,\n    searchValue,\n    numberPage,\n    newLoadData,\n    listRoom,\n    houseID,\n    startDate,\n    endDate,\n  ]);\n\n  const _sumAll = resReportBooking?.bookings?.data;\n  const _sumFeeBooking = _.sumBy(_sumAll, \"feeBooking\");\n  //pageination\n  const countData = resReportBooking?.bookings?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n  const _onChangeRows = (e) => {\n    let _value = e?.target?.value;\n    history.push(`?rows=${_value}`);\n    setNumberRow(parseInt(_value));\n  };\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\">\n            ລາຍງານຍອດແຂກເຂົ້າທັງຫມົດ\n          </h3>\n        </div>\n      </div>\n\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6 mb-2\">\n                      <div className=\"input-group\">\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={startDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`startDate`, e.target.value),\n                            });\n                          }}\n                        />\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={endDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`endDate`, e.target.value),\n                            });\n                          }}\n                        />\n                      </div>\n                    </div>\n                    <div\n                      className=\"col-md-3\"\n                      style={{\n                        position: \"fixed\",\n                        zIndex: 100,\n                        top: 57,\n                      }}\n                    >\n                      <SearchRoom\n                        style={{ with: \"100%\", heigh: \"200px\" }}\n                        value={listRoom?._id}\n                        onChange={(obj) => {\n                          setListRoom(obj);\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"card-body \">\n                  <div className=\"table-responsive border\">\n                    <table className=\"table  table-sm\">\n                      <thead>\n                        <tr>\n                          <th className=\"text-nowrap\">ລຳດັບ</th>\n                          <th className=\"text-nowrap\">ເບີຫ້ອງ</th>\n                          <th className=\"text-nowrap text-end\">ຄ່າຈອງ</th>\n                          <th className=\"text-nowrap text-center\">ວັນທີຈອງ</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {resReportBooking &&\n                          resReportBooking?.bookings?.data?.map(\n                            (item, index) => (\n                              <>\n                                <tr\n                                  key={index}\n                                  style={{\n                                    cursor: \"pointer\",\n                                  }}\n                                  className=\"text-black\"\n                                  onClick={() => setDetailRoom(item?._id)}\n                                >\n                                  <td className=\"text-nowrap\">{NO(index)}</td>\n                                  <td className=\"text-nowrap\">\n                                    {item?.room?.title_lao\n                                      ? item?.room?.title_lao\n                                      : \"-\"}\n                                  </td>\n                                  <td className=\"text-nowrap text-end\">\n                                    {item?.bookDate ? (\n                                      <>\n                                        {item?.feeBooking\n                                          ? currency(item?.feeBooking)\n                                          : \"0\"}{\" \"}\n                                        ກີບ\n                                      </>\n                                    ) : (\n                                      <>\n                                        {item?.incomeKIP > 0 && (\n                                          <>\n                                            {item?.incomeKIP\n                                              ? currency(item?.incomeKIP)\n                                              : \"0\"}{\" \"}\n                                            ກີບ\n                                            <br />\n                                          </>\n                                        )}\n                                        {item?.incomeTHB > 0 && (\n                                          <>\n                                            {item?.incomeTHB\n                                              ? currency(item?.incomeTHB)\n                                              : \"0\"}{\" \"}\n                                            ບາດ\n                                            <br />\n                                          </>\n                                        )}\n                                        {item?.incomeUSD > 0 && (\n                                          <>\n                                            {item?.incomeUSD\n                                              ? currency(item?.incomeUSD)\n                                              : \"0\"}{\" \"}\n                                            ບາດ\n                                          </>\n                                        )}\n                                      </>\n                                    )}\n                                  </td>\n                                  <td className=\"text-nowrap text-center\">\n                                    {item?.bookDate\n                                      ? formatDateDash(item?.bookDate)\n                                      : \"\"}\n                                    <i className=\"fa-solid fa-angle-right ms-1 text-black ms-2\" />\n                                  </td>\n                                </tr>\n                              </>\n                            )\n                          )}\n                        <tr style={{ backgroundColor: \"#e6eef0\" }}>\n                          <td\n                            className=\"text-nowrap text-center\"\n                            colSpan={2}\n                            style={{ textAlign: \"center\" }}\n                          >\n                            <h4>ຍອດລວມ</h4>\n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            <h4>{currency(_sumFeeBooking)} ກີບ</h4>\n                          </td>\n                          <td></td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {resReportBooking?.bookings?.total > 100 && (\n          <Pagination\n            className=\"mt-2\"\n            pageTotal={countPage}\n            currentPage={numberPage}\n            onPageChange={(page) => {\n              history.push({\n                search: setParams(`page`, page),\n              });\n            }}\n          />\n        )}\n        <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const ADD_PROVINCES = gql`\n  mutation CreateProvince($data: ProvinceInput!) {\n    createProvince(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_REPORT_BOOKING = gql`\n  query Bookings(\n    $where: BookingWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        _id\n        customer {\n          _id\n          fullName\n        }\n        house {\n          _id\n          houseName\n        }\n        room {\n          _id\n          title_lao\n        }\n        fee\n        bookDate\n        bookTime\n        checkInAt\n        feeBooking\n        halfPriceTotal\n        fullPriceTotal\n      }\n    }\n  }\n`;\n\nexport const CLEAR_REDIS = gql`\n  mutation DeleteRedis($where: RedisWhereInput!) {\n    deleteRedis(where: $where) {\n      status\n    }\n  }\n`;\nexport const EDIT_PROVINCES = gql`\n  mutation UpdateProvince(\n    $data: ProvinceInput!\n    $where: ProvinceWhereInputOne!\n  ) {\n    updateProvince(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../../helper\";\nimport TypeHouse from \"../../TypeHouse\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport placeholder from \"../../../../img/placeholder.png\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_REPORT_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title>ຂໍ້ມູນຫ້ອງ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  me-1\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຫ້ອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ປະເພດກິດຈະການ</span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ກິດຈະການ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ລູກຄ້າ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ເວລາຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ວັນທີຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຈຳນວນມື້</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຊົ່ວໂມພັກ</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime ? data?.inTime : 0)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຄ້າງຄືນ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal ? data?.fullPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຊົ່ວຄາວ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal ? data?.halfPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊຳລະ</span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <img\n                      src={\n                        data?.images\n                          ? aws_url_images + data?.images\n                          : placeholder\n                      }\n                      className=\"w-100\"\n                    />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\">ບໍ່ມີຂໍ້ມູນ</p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-white me-1 border-top btn-primary\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-white\" />\n          ປິດ\n        </button>\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  currency,\n  formatDateDash,\n  startMonth,\n  getLocalHouse,\n  createdAt_gte,\n  createdAt_lt,\n  setParams,\n  endOfMonth,\n} from \"../../../../helper\";\nimport { QUERY_REPORT_BOOKING } from \"./apollo\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\nimport SearchRoom from \"../../../../helper/components/SearchRoom\";\nimport LimitData from \"../../../../helper/controllers/LimitData\";\nimport DetailRoom from \"./DetailRoom\";\nexport default function DividendReport() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const userState = getStaffLogin();\n  const userInfo = userState?.data;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [listRoom, setListRoom] = useState(\"\");\n  const [startDate, setStartDate] = useState(startMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [detailRoom, setDetailRoom] = useState();\n  const [houseID, setHouseID] = useState(getLocalHouse());\n\n  const [getReportBooking, { data: resReportBooking, loading }] = useLazyQuery(\n    QUERY_REPORT_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(houseID?._id),\n    };\n    if (userInfo?.role === \"IT\" || userInfo?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n    getReportBooking({\n      variables: {\n        where: {\n          ...whereData,\n          room: listRoom?._id ? listRoom?._id : undefined,\n          status: \"CHECK_OUT\",\n          checkOutAt_gte: createdAt_gte(startDate),\n          checkOutAt_lte: createdAt_lt(endDate),\n        },\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRow,\n    searchValue,\n    numberPage,\n    newLoadData,\n    listRoom,\n    houseID,\n    startDate,\n    endDate,\n  ]);\n  const _sumAll = resReportBooking?.bookings?.data;\n  const _sumFee = _.sumBy(_sumAll, \"fee\");\n  //pageination\n  const countData = resReportBooking?.bookings?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n  const _onChangeRows = (e) => {\n    let _value = e?.target?.value;\n    history.push(`?rows=${_value}`);\n    setNumberRow(parseInt(_value));\n  };\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\">\n            ລາຍງານຍອດແຂກເຂົ້າທັງຫມົດ\n          </h3>\n        </div>\n      </div>\n\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6 mb-2\">\n                      <div className=\"input-group\">\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={startDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`startDate`, e.target.value),\n                            });\n                          }}\n                        />\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={endDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`endDate`, e.target.value),\n                            });\n                          }}\n                        />\n                      </div>\n                    </div>\n                    <div\n                      className=\"col-md-3\"\n                      style={{\n                        position: \"fixed\",\n                        zIndex: 100,\n                        top: 57,\n                      }}\n                    >\n                      <SearchRoom\n                        style={{ with: \"100%\", heigh: \"200px\" }}\n                        value={listRoom?._id}\n                        onChange={(obj) => {\n                          setListRoom(obj);\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"card-body \">\n                  <div className=\"table-responsive border\">\n                    <table className=\"table  table-sm\">\n                      <thead>\n                        <tr>\n                          <th className=\"text-nowrap\">ລຳດັບ</th>\n                          <th className=\"text-nowrap\">ກີດຈະກຳ</th>\n                          <th className=\"text-nowrap\">ຫ້ອງ</th>\n                          <th className=\"text-nowrap text-end\">ຍອດປານຜົນ</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {resReportBooking &&\n                          resReportBooking?.bookings?.data?.map(\n                            (item, index) => (\n                              <>\n                                <tr\n                                  key={index}\n                                  style={{\n                                    cursor: \"pointer\",\n                                  }}\n                                  className=\"text-black\"\n                                  onClick={() => setDetailRoom(item?._id)}\n                                >\n                                  <td className=\"text-nowrap\">{NO(index)}</td>\n                                  <td className=\"text-nowrap\">\n                                    {item?.house?.houseName\n                                      ? item?.house?.houseName\n                                      : \"-\"}\n                                  </td>\n                                  <td className=\"text-nowrap\">\n                                    {item?.room?.title_lao\n                                      ? item?.room?.title_lao\n                                      : \"-\"}\n                                  </td>\n\n                                  <td className=\"text-nowrap text-end\">\n                                    {item?.fee ? currency(item?.fee) : \"0\"} {\" \"}\n                                    ກີບ\n                                  </td>\n                                </tr>\n                              </>\n                            )\n                          )}\n                        <tr style={{ backgroundColor: \"#e6eef0\" }}>\n                          <td\n                            className=\"text-nowrap text-center text-success\"\n                            colSpan={3}\n                            style={{ textAlign: \"center\" }}\n                          >\n                            <h4>ຍອດລວມ</h4>\n                          </td>\n                          <td className=\"text-nowrap text-end text-success\">\n                            <h4>{currency(_sumFee)}{\" \"} ກີບ</h4>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {resReportBooking?.bookings?.total > 100 && (\n          <Pagination\n            className=\"mt-2\"\n            pageTotal={countPage}\n            currentPage={numberPage}\n            onPageChange={(page) => {\n              history.push({\n                search: setParams(`page`, page),\n              });\n            }}\n          />\n        )}\n        <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const ADD_PROVINCES = gql`\n  mutation CreateProvince($data: ProvinceInput!) {\n    createProvince(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_REPORT_BOOKING = gql`\n  query Bookings(\n    $where: BookingWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        _id\n        customer {\n          _id\n          fullName\n        }\n        house {\n          _id\n          houseName\n        }\n        room {\n          _id\n          title_lao\n        }\n        fee\n        bookDate\n        bookTime\n        checkInAt\n        feeBooking\n        halfPriceTotal\n        fullPriceTotal\n        incomeKIP\n        incomeTHB\n        incomeUSD\n      }\n    }\n  }\n`;\n\nexport const CLEAR_REDIS = gql`\n  mutation DeleteRedis($where: RedisWhereInput!) {\n    deleteRedis(where: $where) {\n      status\n    }\n  }\n`;\nexport const EDIT_PROVINCES = gql`\n  mutation UpdateProvince(\n    $data: ProvinceInput!\n    $where: ProvinceWhereInputOne!\n  ) {\n    updateProvince(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\nexport const QUERY_SUM_TOTAL = gql`\n  query SummaryBookingTotal($where: BookingWhereInput) {\n    summaryBookingTotal(where: $where) {\n      bookingTotal\n      feeBookingAmount\n      halfPriceTotal\n      fullPriceTotal\n      incomeKIP\n      incomeTHB\n      incomeUSD\n      exChange\n    }\n  }\n`;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { Modal, Row } from \"react-bootstrap\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport _ from \"lodash\";\nimport \"./utils/index.css\";\nimport moment from \"moment\";\nimport logo from \"../../../../img/app-icon.png\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  currency,\n  formatDateDash,\n  formatDateTime,\n  formateDateSlash,\n  houseStatus,\n} from \"../../../../helper\";\nimport { getStaffLogin } from \"../../../../helper\";\nfunction Export({ _Data }) {\n  const jsonObj = getStaffLogin();\n  const userInfo = jsonObj?.data;\n  const inputRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => inputRef.current,\n  });\n  let today = moment().format(\"YYYY-MM-DD\");\n  const [show, setShow] = useState(false);\n  const { history, location, match } = useReactRouter();\n  const queryParams = new URLSearchParams(location.search);\n\n  return (\n    <React.Fragment>\n      <div className=\"col-md-12 mb-1\">\n        <button\n          type=\"button\"\n          className=\"btn btn-dark float-right mb-1\"\n          width=\"10px\"\n          onClick={() => setShow(true)}\n        >\n          <i className=\"fas fa-print\" />\n        </button>\n      </div>\n\n      <Modal show={show} onHide={() => setShow(false)} animation={false}>\n        <Modal.Header>\n          ພີມ\n          <a\n            href=\"javaScript:void(0)\"\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\" }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <Modal.Body className=\"modal-container\">\n          <Row>\n            <div className=\"col-md-12 \">\n              <button\n                onClick={handlePrint}\n                type=\"button\"\n                className=\"btn btn-dark me-2 float-start\"\n              >\n                <i className=\"icon-print mr-1\"></i> ພິມລາຍງານ\n              </button>\n            </div>\n          </Row>\n          <div style={{ paddingBottom: \"10px\" }} />\n          <div className=\"table-responsive\">\n            <table\n              className=\"table-sm\"\n              border=\"0\"\n              style={{\n                marginTop: 20,\n                width: \"100%\",\n                fontFamily: \"Phetsarath OT\",\n                backgroundColor: \"#ffffff\",\n              }}\n              ref={inputRef}\n            >\n              <thead>\n                <tr>\n                  <td colSpan={3} style={{ textAlign: \"left\", color: \"black\" }}>\n                    <img\n                      src={logo}\n                      style={{\n                        width: 80,\n                        marginBottom: 1,\n                        marginTop: 20,\n                      }}\n                      alt=\"\"\n                      id=\"table-to-xls\"\n                    />\n                    <br />\n                    ບໍລິສັດ: ບິດເຮົາສ໌ ເຕັກໂນໂລຊີ ຈຳກັດ\n                    <br />\n                    ໂທ:\n                  </td>\n                  <td colSpan={6} className=\"text-end text-black\">\n                    ວັນທີ:{formateDateSlash(today)}\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={8}>\n                    <h3 className=\"text-center\">ລາຍງານຍອດສະຫລຸບ</h3>\n                    <span className=\"text-center text-black\">\n                      ພີມໂດຍ: {userInfo?.firstName ? userInfo?.firstName : \"\"}{\" \"}\n                      {userInfo?.lastName ? userInfo?.lastName : \"\"}\n                    </span>\n                  </td>\n                </tr>\n                <tr style={{ backgroundColor: \"#f54f02\", color: \"white\" }}>\n                  <td className=\"textCenter text-nowrap\">ລວມຍອດຄັ້ງຈອງ</td>\n                  <td className=\"textCenter text-nowrap\">ລວມຍອດເງິນຈອງ</td>\n                  <td className=\"textCenter text-nowrap\">ລວມຍອດເງິນຊົ່ວຄາວ</td>\n                  <td className=\"textCenter text-nowrap\">ລວມຍອດເງິນຄ້າງຄືນ</td>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td className=\"text-nowrap text-center border text-black\">\n                    {currency(\n                      _Data?.summaryBookingTotal?.bookingTotal\n                        ? _Data?.summaryBookingTotal?.bookingTotal\n                        : 0\n                    )}\n                  </td>\n                  <td className=\"text-nowrap border text-black text-center\">\n                    {currency(\n                      _Data?.summaryBookingTotal?.feeBookingAmount\n                        ? _Data?.summaryBookingTotal?.feeBookingAmount\n                        : 0\n                    )}\n                  </td>\n                  <td className=\"text-nowrap border text-end text-black\">\n                    {currency(\n                      _Data?.summaryBookingTotal?.halfPriceTotal\n                        ? _Data?.summaryBookingTotal?.halfPriceTotal\n                        : 0\n                    )}{\" \"}\n                    ກີບ\n                  </td>\n                  <td className=\"text-nowrap border text-end text-black\">\n                    {currency(\n                      _Data?.summaryBookingTotal?.fullPriceTotal\n                        ? _Data?.summaryBookingTotal?.fullPriceTotal\n                        : 0\n                    )}{\" \"}\n                    ກີບ\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={1} className=\" text-center p-4\">\n                    <h4 className=\"text-center\">ເຊັນຜູ້ຈຳການ</h4>\n                  </td>\n                  <td className=\" text-end p-4\" colSpan={3}>\n                    <h4>ພະນັກງານ</h4>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </Modal.Body>\n      </Modal>\n    </React.Fragment>\n  );\n}\nexport default Export;\n","import React, { useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getStaffLogin,\n  currency,\n  startMonth,\n  getLocalHouse,\n  createdAt_gte,\n  createdAt_lt,\n  endOfMonth,\n  setParams,\n} from \"../../../../helper\";\n\nimport { QUERY_SUM_TOTAL } from \"./apollo\";\n\nimport _ from \"lodash\";\nimport Export from \"./Export\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\nimport SearchRoom from \"../../../../helper/components/SearchRoom\";\nexport default function SumTotalBooking() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const userState = getStaffLogin();\n  const userInfo = userState?.data;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [newLoadData, setNewLoadData] = useState(false);\n  const [getRoomValue, setGetRoomValue] = useState(\"\");\n  const [startDate, setStartDate] = useState(startMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [getReportBooking, { data: resReportSumBooking, loading }] =\n    useLazyQuery(QUERY_SUM_TOTAL, { fetchPolicy: \"cache-and-network\" });\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(localHouse?._id),\n    };\n    if (userInfo?.role === \"IT\" || userInfo?.role === \"SUPER_ADMIN\") {\n      delete whereData.house;\n    }\n\n    getReportBooking({\n      variables: {\n        where: {\n          ...whereData,\n          checkInAt_gte: createdAt_gte(startDate),\n          checkInAt_lte: createdAt_lt(endDate),\n        },\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRow,\n    searchValue,\n    numberPage,\n    newLoadData,\n    getRoomValue,\n    localHouse,\n    startDate,\n    endDate,\n  ]);\n  //pageination\n  const countData = resReportSumBooking?.bookingTotal?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n  const _onChangeRows = (e) => {\n    let _value = e?.target?.value;\n    history.push(`?rows=${_value}`);\n    setNumberRow(parseInt(_value));\n  };\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n  return (\n    <>\n      <div className=\"content__header content__boxed overlapping\">\n        <div className=\"content__wrap\">\n          <h3 className=\"page-title mb-2 text-white\">ລາຍງານຍອດສະຫລຸບ</h3>\n        </div>\n      </div>\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6 mb-2\">\n                      <div className=\"input-group\">\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={startDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`startDate`, e.target.value),\n                            });\n                          }}\n                        />\n                        <input\n                          type=\"date\"\n                          className=\"form-control\"\n                          value={endDate}\n                          onChange={(e) => {\n                            history.push({\n                              search: setParams(`endDate`, e.target.value),\n                            });\n                          }}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"col-md-3\">\n                      <SearchRoom\n                        style={{ with: \"100%\", heigh: \"200px\" }}\n                        value={getRoomValue?._id}\n                        onChange={(obj) => {\n                          setGetRoomValue(obj);\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"card-body\">\n                  <div className=\"table-responsive\">\n                    <table className=\"table  table-sm text-black\">\n                      <thead>\n                        <tr>\n                          <th className=\"text-nowrap\">ລຳດັບ</th>\n                          <th className=\"text-nowrap text-end\">ຈຳນວນ</th>\n                          <th className=\"text-nowrap text-end\">\n                            ລວມຍອດເງິນຈອງ\n                          </th>\n                          <th className=\"text-nowrap text-end\">ຊົ່ວຄາວ</th>\n                          <th className=\"text-nowrap text-end\">ຄ້າງຄືນ</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr>\n                          <td className=\"text-nowrap\">1</td>\n                          <td className=\"text-nowrap text-end\">\n                            {resReportSumBooking?.summaryBookingTotal\n                              ?.bookingTotal\n                              ? currency(\n                                  resReportSumBooking?.summaryBookingTotal\n                                    ?.bookingTotal\n                                )\n                              : 0}{\" \"}\n                            ຄັ້ງ\n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            {resReportSumBooking?.summaryBookingTotal\n                              ?.feeBookingAmount\n                              ? currency(\n                                  resReportSumBooking?.summaryBookingTotal\n                                    ?.feeBookingAmount\n                                )\n                              : 0}{\" \"}\n                            ກີບ\n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            {resReportSumBooking?.summaryBookingTotal\n                              ?.halfPriceTotal\n                              ? currency(\n                                  resReportSumBooking?.summaryBookingTotal\n                                    ?.halfPriceTotal\n                                )\n                              : 0}{\" \"}\n                            ກີບ\n                          </td>\n                          <td className=\"text-nowrap text-end\">\n                            {resReportSumBooking?.summaryBookingTotal\n                              ?.fullPriceTotal\n                              ? currency(\n                                  resReportSumBooking?.summaryBookingTotal\n                                    ?.fullPriceTotal\n                                )\n                              : 0}{\" \"}\n                            ກີບ\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                  {resReportSumBooking?.bookings?.total > 100 && (\n                    <Pagination\n                      className=\"mt-2\"\n                      pageTotal={countPage}\n                      currentPage={numberPage}\n                      onPageChange={(page) => {\n                        history.push({\n                          search: setParams(`page`, page),\n                        });\n                      }}\n                    />\n                  )}\n                </div>\n                <div\n                  style={{\n                    position: \"fixed\",\n                    bottom: 15,\n                    right: 25,\n                    opacity: 0.7,\n                  }}\n                >\n                  <Export _Data={resReportSumBooking} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport useReactRouter from \"use-react-router\";\nimport { Button, Col } from \"react-bootstrap\";\nimport { OTHER } from \"../../../routes/app\";\nimport { getLocalHouse, getStaffLogin } from \"../../../helper\";\nimport \"./util/index.css\";\nimport ReportBooking from \"./reportBooking\";\nimport ReportCheckIn from \"./reportCheckIn\";\nimport ReportCheckOut from \"./reportCheckOut\";\nimport DividendReport from \"./dividend_report\";\nimport SumTotalBooking from \"./sumTotalBooking\";\nexport default function TabMenuIncome() {\n  const { history, location } = useReactRouter();\n  const params = new URLSearchParams(location?.search);\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  //useState\n  const [tabActive, setTabActive] = useState(\"reportBooking\");\n  const [houseId, setLocalHouse] = useState(\"\");\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n\n  useEffect(() => {\n    const tab = params.get(\"tab\");\n    if (tab) {\n      setTabActive(tab);\n    }\n  }, [params]);\n\n  useEffect(() => {\n    const elmTab = document.querySelectorAll(\".nav-tabs-custom\")[0];\n    const elmItemTab = document.querySelectorAll(\"button.active\")[0];\n    if (elmTab && elmItemTab) {\n      const left = elmItemTab.offsetLeft - 10;\n      elmTab.scrollLeft = left;\n    }\n  }, [tabActive]);\n\n  return (\n    <>\n      <div className=\"appHeader text-light border-0 mr-0\">\n        <div style={{ flex: 1 }} className=\"text-left\">\n          <button\n            className=\"btn text-white\"\n            onClick={() => history.push(OTHER)}\n          >\n            <i className=\"fa fa-chevron-left fs-4\" />\n          </button>\n        </div>\n        {houseId?.houseName ? houseId?.houseName : \"ລາຍງານຂໍ້ມູນ\"}\n        <div\n          className=\"text-white pageTitle text-right text-nowrap pr-0\"\n          style={{ flex: 1 }}\n        ></div>\n      </div>\n      <div className=\"extraHeaders\">\n        <div className=\"extraHeader pr-0 pl-0 nav-tabs-custom\">\n          <Button\n            className={`item-tab ${\n              tabActive === \"reportBooking\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=reportBooking\" })}\n          >\n            ຍອມທີ່ຈອງ\n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"reportAll\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=reportAll\" })}\n          >\n            ຍອດຫ້ອງກຳລັງເປີດ\n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"checkout\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=checkout\" })}\n          >\n            ຍອດຫ້ອງແຂກອອກແລ້ວ\n          </Button>\n          {userData?.role === \"SUPER_ADMIN\" || userData?.role === \"IT\" ? (\n            <>\n              <Button\n                className={`item-tab ${\n                  tabActive === \"dividendReport\" ? \"clickActives\" : \"Actives\"\n                }`}\n                variant=\"\"\n                onClick={() => history.push({ search: \"?tab=dividendReport\" })}\n              >\n                ຍອດປັນຜົນ\n              </Button>\n            </>\n          ) : null}\n\n          <Button\n            className={`item-tab ${\n              tabActive === \"sumTotalBooking\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=sumTotalBooking\" })}\n          >\n            ຍອດສະຫລຸບລວມ\n          </Button>\n        </div>\n      </div>\n      <div id=\"appCapsule\" className=\"extra-header-activeClick\">\n        {tabActive === \"reportBooking\" && <ReportBooking />}\n        {tabActive === \"reportAll\" && <ReportCheckIn />}\n        {tabActive === \"checkout\" && <ReportCheckOut />}\n        {tabActive === \"dividendReport\" && <DividendReport />}\n        {tabActive === \"sumTotalBooking\" && <SumTotalBooking />}\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\r\nexport const QUERY_BOOKING = gql`\r\n query Data(\r\n  $limit: Int\r\n  $skip: Int\r\n  $orderBy: OrderByInput\r\n  $where: BookingWhereInput\r\n) {\r\n  bookings(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n    total\r\n    data {\r\n      _id\r\n      houseCode\r\n      status\r\n      bookDate\r\n      bookDay\r\n      bookTime\r\n      inTime\r\n      checkInAt\r\n      checkOutAt\r\n      fee\r\n      feeBooking\r\n      paidStatus\r\n      bookingType\r\n      updatedAt\r\n      halfPriceTotal\r\n      fullPriceTotal\r\n      isDeleted\r\n      bookCode\r\n      images\r\n      incomeKIP\r\n      incomeTHB\r\n      incomeUSD\r\n      exChange\r\n      consolidateID\r\n      customer {\r\n        _id\r\n        gender\r\n        age\r\n        phoneNumber\r\n        fullName\r\n      }\r\n      acceptBy {\r\n        firstName\r\n        lastName\r\n      }\r\n      updatedBy {\r\n        firstName\r\n        lastName\r\n      }\r\n      room {\r\n        title_lao\r\n        title_eng\r\n        priceHalf\r\n        priceFull\r\n        _id\r\n      }\r\n      house {\r\n        _id\r\n        houseName\r\n        contactPhone\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n`;\r\n\r\nexport const UPDATE_CHECK_IN = gql`\r\nmutation UpdateRoom($data: RoomInput!, $where: RoomWhereInputOne!) {\r\n  updateRoom(data: $data, where: $where) {\r\n    _id\r\n  }\r\n}\r\n`;\r\n\r\nexport const UPDATE_BOOKING_STATUS = gql`\r\nmutation UpdateBooking($data: BookingInput!, $where: BookingWhereInputOne!) {\r\n  updateBooking(data: $data, where: $where) {\r\n    _id\r\n  }\r\n}\r\n`;\r\n\r\nexport const HOUSE = gql`\r\nquery Houses($where: HouseWhereInput, $limit: Int) {\r\n  houses(where: $where, limit: $limit) {\r\n    data {\r\n      type {\r\n        title_lao\r\n        title_eng\r\n      }\r\n      _id\r\n    }\r\n  }\r\n}\r\n`;","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateTime,\n  getLocalHouse,\n  ITEM_PER_PAGE,\n  loadingData,\n  paiStatus,\n  setParams,\n  socketServer,\n} from \"../../../helper\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  HOUSE,\n  UPDATE_BOOKING_STATUS,\n} from \"./apollo\";\nexport default function TypeHouse({ getId }) {\n  const { history, location, match } = useReactRouter();\n  const numberPage = match?.params?.page;\n  const [listData, setListData] = useState()\n  const query = new URLSearchParams(location.search);\n  const [queryHouse, { data: setData, loading: loadingId }] =\n    useLazyQuery(HOUSE, { fetchPolicy: \"cache-and-network\" });\n  // detail\n  useEffect(() => {\n    queryHouse({\n      variables: {\n        where: {\n          _id: getId,\n        },\n        orderBy: \"createdAt_DESC\",\n        limit: 1,\n      },\n    });\n  }, [getId]);\n\n  const getData = setData?.houses?.data[0];\n\n  return (\n    <>\n        <td className=\"text-end text-black\">\n          {getData?.type?.title_lao ? getData?.type?.title_lao : \"-\"}\n        </td>\n    </>\n  );\n}","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  aws_url_images,\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../helper\";\nimport placeholder from \"../../../img/placeholder.png\";\nimport { QUERY_BOOKING } from \"./apollo\";\nimport TypeHouse from \"./TypeHouse\";\nimport \"./utils/index.css\";\nexport default function DetailRoom({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_BOOKING, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        animation={true}\n        show={show}\n        className=\"modal action-sheet\"\n        tabindex=\"-1\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title>ຂໍ້ມູນຫ້ອງ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  me-2\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຫ້ອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ປະເພດກິດຈະການ</span>\n                    <TypeHouse getId={data?.house?._id} />\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ກິດຈະການ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ລູກຄ້າ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ເວລາຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ວັນທີຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຈຳນວນມື້</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຊົ່ວໂມພັກ</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຄ້າງຄືນ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຊົ່ວຄາວ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊຳລະ</span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <img\n                      src={\n                        data?.images\n                          ? aws_url_images + data?.images\n                          : placeholder\n                      }\n                      className=\"w-100\"\n                    />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\">ບໍ່ມີຂໍ້ມູນ</p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-white me-1 border-top btn-primary\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-white\" />\n          ປິດ\n        </button>\n      </Modal>\n    </>\n  );\n}\n","import { Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  endOfMonth,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  messageConfirm,\n  messageSuccess,\n  newSound,\n  setParams,\n  socketServer,\n  startOfMonth,\n  _month,\n} from \"../../../helper\";\nimport BottomNav from \"../../../layouts/BottomNav\";\nimport { ROOM_SERVICES } from \"../../../routes/app\";\nimport NoData from \"../../../helper/components/NoData\";\nimport { QUERY_BOOKING, UPDATE_BOOKING_STATUS } from \"./apollo\";\nimport DetailRoom from \"./DetailRoom\";\nimport {\n  FormControl,\n  InputAdornment,\n  InputLabel,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nexport default function Booking() {\n  const { match, history, location } = useReactRouter();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const query = new URLSearchParams(location?.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [reloadData, setReloadData] = useState(false);\n  //state month adn year\n  const [startDate, setStartDate] = useState(startOfMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [detailRoom, setDetailRoom] = useState();\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const [updateBookingStatus] = useMutation(UPDATE_BOOKING_STATUS);\n  // call Data\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\n    QUERY_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(localHouse),\n    };\n    if (userData?.role === \"SUPER_ADMIN\" || userData?.role === \"IT\") {\n      delete whereData.house;\n    }\n    queryBooking({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"BOOKING\",\n          bookDate_gte: createdAt_gte(startDate),\n          bookDate_lte: createdAt_lt(endDate),\n          // _id: parseInt(searchValue ? searchValue : undefined),\n        },\n        skip: numberRow * (numberPage - 1),\n        limit: numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberPage,\n    numberRow,\n    searchValue,\n    reloadData,\n    localHouse,\n    startDate,\n    endDate,\n  ]);\n  socketServer.on(\"approveBooking\", (res) => {\n    if (res === localHouse) {\n      newSound.play();\n      setReloadData(!reloadData);\n    }\n  });\n\n  // pagination\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startOfMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(setData?.bookings?.total / numberRow); i++) {\n    countPage.push(i);\n  }\n\n  // update status\n  const updateStatus = async (_id, roomId, houseID) => {\n    messageConfirm(\"ຕ້ອງການຢືນຢັນແທ້ ຫຼື ບໍ່?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"CHECK_IN\",\n              room: roomId,\n              house: houseID,\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"ຢືນຢັນເປີດຫ້ອງສຳເລັດ\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n  // cancel\n  const _cancel = async (_id, roomId, houseID) => {\n    // return\n    messageConfirm(\"ຕ້ອງການຍົກເລີກແທ້ ຫຼື ບໍ່?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"CANCEL\",\n              room: roomId,\n              house: houseID,\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"ຢືນຢັນເປີດຫ້ອງສຳເລັດ\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n\n  return (\n    <div style={{ marginTop: -80 }}>\n      <div id=\"appCapsule\">\n        <div className=\"justify-content-md-center\">\n          <div className=\"appHeader text-light border-0\">\n            <div style={{ flex: 1 }} className=\"text-left\">\n              <button\n                className=\"btn text-white\"\n                onClick={() => history.push(ROOM_SERVICES)}\n              >\n                <i className=\"fa fa-chevron-left fs-4\" />\n              </button>\n            </div>\n            ຢືນຢັນແຂກຈອງ\n            <div\n              className=\"text-white pageTitle text-right text-nowrap pr-0\"\n              style={{ flex: 1 }}\n            >\n              <button\n                className=\"btn text-white mr-0\"\n                onClick={() => setReloadData(!reloadData)}\n              >\n                {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\n              </button>\n            </div>\n          </div>\n          <br />\n          <br />\n          <div className=\"option-section\">\n            <br />\n            <div className=\"row col-md-12  mt-1\">\n              <div className=\"col-6\">\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={formatDateDash(startDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`startDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n              <div\n                className=\"col-6\"\n                style={{\n                  right: -15,\n                }}\n              >\n                <div className=\"option-card\">\n                  <TextField\n                    type=\"date\"\n                    className=\"inputLabel\"\n                    variant=\"outlined\"\n                    value={formatDateDash(endDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`endDate`, e.target.value),\n                      });\n                    }}\n                    sx={{\n                      m: 0,\n                      width: \"100%\",\n                      backgroundColor: \"#ffff\",\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"section  mb-2 mt-1\">\n            <div className=\"transactions\">\n              <div className=\"row\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        <i className=\"fa-solid fa-magnifying-glass\" />\n                      </InputAdornment>\n                    }\n                    onWheel={(e) => e.target.blur()}\n                    type=\"number\"\n                    placeholder=\"ປ້ອນລະຫັດຈອງ\"\n                    onChange={(e) => setSearchValue(e.target.value)}\n                  />\n                </FormControl>\n              </div>\n              <div className=\"text-center\">\n                {loading ? loadingData(25) : \"\"}\n              </div>\n              {setData?.bookings?.total > 0 ? (\n                <div className=\"listView mt-2\">\n                  {setData?.bookings?.data?.map((data, index) => (\n                    <>\n                      <b\n                        className=\"float-end\"\n                        style={{ marginTop: -8, marginRight: -10 }}\n                      >\n                        <i\n                          className=\"icon-x-circle text-danger\"\n                          onClick={(e) => {\n                            _cancel(\n                              data?._id,\n                              data?.room?._id,\n                              data?.house?._id\n                            );\n                          }}\n                          style={{ fontSize: 20 }}\n                        ></i>\n                      </b>\n                      <a\n                        href=\"javascript:void(0)\"\n                        className=\"item pr-0 \"\n                        key={index}\n                        style={{ borderTop: \"1px solid #ed6b0e\" }}\n                      >\n                        <div\n                          className=\"detail col-md-10\"\n                          onClick={() => setDetailRoom(data?._id)}\n                        >\n                          <div>\n                            <strong>ລະຫັດຈອງ: BH-{data?._id}</strong>\n                            <strong>ຫ້ອງ: {data?.room?.title_lao}</strong>\n                            <b className=\"text-black\">\n                              ລາຄາ:{\" \"}\n                              {data?.room?.priceFull\n                                ? currency(data?.room?.priceFull)\n                                : 0}{\" \"}\n                              /\n                              {data?.room?.priceHalf\n                                ? currency(data?.room?.priceHalf)\n                                : 0}{\" \"}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              ເຂົ້າພັກ:{\" \"}\n                              {data?.bookingType === \"FULL\" ? (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  ຄືນ\n                                </>\n                              ) : (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  ຊົ່ວໂມງ\n                                </>\n                              )}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              ເກັບໄດ້:{\" \"}\n                              {data?.fullPriceTotal > 0 ? (\n                                <>\n                                  {data?.fullPriceTotal\n                                    ? currency(data?.fullPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              ) : (\n                                <>\n                                  {data?.halfPriceTotal\n                                    ? currency(data?.halfPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              )}\n                            </b>\n                          </div>\n                        </div>\n                        <div className=\"right\">\n                          <button\n                            className=\"btn btn-primary btn-sm action-button\"\n                            onClick={(e) => {\n                              updateStatus(\n                                data?._id,\n                                data?.room?._id,\n                                data?.house?._id\n                              );\n                            }}\n                          >\n                            <i className=\"icon-check-circle me-1 \" /> ຢືນຢັນ\n                          </button>\n                        </div>\n                      </a>\n                    </>\n                  ))}\n                </div>\n              ) : (\n                <NoData loading={loading} />\n              )}\n              {setData?.bookings?.total > 100 && (\n                <Pagination\n                  className=\"mt-2\"\n                  pageTotal={countPage}\n                  currentPage={numberPage}\n                  onPageChange={(page) => {\n                    history.push({\n                      search: setParams(`page`, page),\n                    });\n                  }}\n                />\n              )}\n            </div>\n          </div>\n          <DetailRoom _id={detailRoom} onHide={() => setDetailRoom()} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { gql } from \"@apollo/client\";\r\nexport const QUERY_ROOM = gql`\r\n  query Data(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: RoomWhereInput\r\n  ) {\r\n    rooms(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      data {\r\n        _id\r\n        typeRoom {\r\n          title_lao\r\n          title_eng\r\n        }\r\n        title_lao\r\n        title_eng\r\n        priceHalf\r\n        priceFull\r\n        status\r\n        detail\r\n        createdAt\r\n        isPublic\r\n        house {\r\n          _id\r\n          houseName\r\n        }\r\n      }\r\n      total\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_BOOKING = gql`\r\n  query Bookings(\r\n    $where: BookingWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n      total\r\n      data {\r\n        _id\r\n        status\r\n        bookDate\r\n        bookTime\r\n        bookingType\r\n        updatedAt\r\n        checkInAt\r\n        checkOutAt\r\n        room {\r\n          _id\r\n          title_lao\r\n          title_eng\r\n          priceHalf\r\n          priceFull\r\n        }\r\n        house {\r\n          _id\r\n          houseName\r\n        }\r\n        inTime\r\n        fee\r\n        paidStatus\r\n        halfPriceTotal\r\n        fullPriceTotal\r\n        incomeKIP\r\n        incomeTHB\r\n        incomeUSD\r\n        exChange\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_CHECK_IN = gql`\r\n  query CheckIns(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: CheckInWhereInput\r\n  ) {\r\n    checkIns(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      total\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_CHECK_IN = gql`\r\n  mutation CreateBooking($data: BookingInput!) {\r\n    createBooking(data: $data) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_ROOMS = gql`\r\n  query Rooms(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: RoomWhereInput\r\n  ) {\r\n    rooms(limit: $limit, skip: $skip, orderBy: $orderBy, where: $where) {\r\n      total\r\n      data {\r\n        _id\r\n        title_lao\r\n        title_eng\r\n        priceHalf\r\n        priceFull\r\n        status\r\n        detail\r\n        createdAt\r\n        typeRoom {\r\n          _id\r\n          title_lao\r\n        }\r\n        house {\r\n          _id\r\n          houseName\r\n          powerTime\r\n          type {\r\n            title_lao\r\n            title_eng\r\n          }\r\n        }\r\n        coverImage\r\n        images\r\n        createdBy {\r\n          lastName\r\n        }\r\n        updatedAt\r\n        updatedBy {\r\n          firstName\r\n        }\r\n        isPublic\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_BOOKING_STATUS = gql`\r\n  mutation UpdateBooking($data: BookingInput!, $where: BookingWhereInputOne!) {\r\n    updateBooking(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_ROOM = gql`\r\n  mutation UpdateRoom($data: RoomInput!, $where: RoomWhereInputOne!) {\r\n    updateRoom(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const ADD_CUSTOMER = gql`\r\n  mutation CreateCustomer($data: CustomerInput!) {\r\n    createCustomer(data: $data) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const CHECKOUT_BOOKING = gql`\r\n  query Bookings(\r\n    $where: BookingWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    bookings(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n      total\r\n      data {\r\n        _id\r\n        bookingType\r\n        room {\r\n          _id\r\n          title_lao\r\n        }\r\n        customer {\r\n          fullName\r\n          _id\r\n          phoneNumber\r\n        }\r\n        paidStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const QUERY_RATE = gql`\r\n  query RateExchanges(\r\n    $limit: Int\r\n    $skip: Int\r\n    $orderBy: OrderByInput\r\n    $where: RateExchangeWhereInput\r\n  ) {\r\n    rateExchanges(\r\n      limit: $limit\r\n      skip: $skip\r\n      orderBy: $orderBy\r\n      where: $where\r\n    ) {\r\n      data {\r\n        laoKIP\r\n        laoTHB\r\n        laoUSD\r\n        house {\r\n          _id\r\n          houseCode\r\n        }\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const PROMOTIONS = gql`\r\n  query Promotions($where: PromotionWhereInput) {\r\n    promotions(where: $where) {\r\n      data {\r\n        _id\r\n        title\r\n        status\r\n        house {\r\n          _id\r\n          houseName\r\n        }\r\n        percent\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const TYPE_ROOM = gql`\r\n  query TypeRooms($where: TypeRoomWhereInput) {\r\n    typeRooms(where: $where) {\r\n      total\r\n      data {\r\n        _id\r\n        title_lao\r\n        title_eng\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  endOfMonth,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  messageConfirm,\n  messageSuccess,\n  setParams,\n  startMonth,\n} from \"../../helper\";\nimport { ROOM_SERVICES } from \"../../routes/app\";\nimport NoData from \"../../helper/components/NoData\";\nimport { QUERY_BOOKING, UPDATE_BOOKING_STATUS } from \"./hotel/apollo\";\nimport SearchRoom from \"../../helper/components/SearchRoom\";\nimport { TextField } from \"@mui/material\";\nimport Pagination from \"../../helper/controllers/Pagination\";\nexport default function PeopleCheckout() {\n  const { match, history, location } = useReactRouter();\n  const userState = getStaffLogin();\n  const userData = userState?.data;\n  const query = new URLSearchParams(location?.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [reloadData, setReloadData] = useState(false);\n  const [startDate, setStartDate] = useState(startMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [listRoom, setListRoom] = useState();\n\n  const [updateBookingStatus] = useMutation(UPDATE_BOOKING_STATUS);\n  // call Data\n  const [fetchDataRoom, { data: setData, loading: loading }] = useLazyQuery(\n    QUERY_BOOKING,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(localHouse),\n    };\n    if (userData?.role === \"SUPER_ADMIN\" || userData?.role === \"IT\") {\n      delete whereData.house;\n    }\n    fetchDataRoom({\n      variables: {\n        where: {\n          ...whereData,\n          room: listRoom?._id ? listRoom?._id : undefined,\n          status: \"CHECK_IN\",\n          checkInAt_gte: createdAt_gte(startDate),\n          checkInAt_lte: createdAt_lt(endDate),\n        },\n        skip: listRoom ? 0 : numberRow * (numberPage - 1),\n        limit: listRoom ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [localHouse, listRoom, reloadData, startDate, endDate]);\n\n  // pagination\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(setData?.bookings?.total / numberRow); i++) {\n    countPage.push(i);\n  }\n\n  // update status\n  const updateStatus = async (_id, roomId) => {\n    messageConfirm(\"ຕ້ອງການຢືນຢັນແທ້ ຫຼື ບໍ່?\", async () => {\n      try {\n        const { data: updateData } = await updateBookingStatus({\n          variables: {\n            data: {\n              status: \"CHECK_OUT\",\n              room: roomId,\n            },\n            where: {\n              _id: _id,\n            },\n          },\n        });\n        if (updateData) {\n          messageSuccess(\"ຢືນຢັນແຂກອອກສຳເລັດ\");\n          setReloadData(!reloadData);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  };\n\n  return (\n    <div style={{ marginTop: -80 }}>\n      <div id=\"appCapsule\">\n        <div className=\"justify-content-md-center\">\n          <div className=\"appHeader text-light border-0\">\n            <div style={{ flex: 1 }} className=\"text-left\">\n              <button\n                className=\"btn text-white\"\n                onClick={() => history.push(ROOM_SERVICES)}\n              >\n                <i className=\"fa fa-chevron-left fs-4\" />\n              </button>\n            </div>\n            ຢືນຢັນແຂກອອກຫ້ອງ\n            <div\n              className=\"text-white pageTitle text-right text-nowrap pr-0\"\n              style={{ flex: 1 }}\n            >\n              <button\n                className=\"btn text-white mr-0\"\n                onClick={() => setReloadData(!reloadData)}\n              >\n                {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\n              </button>\n            </div>\n          </div>\n          <br />\n          <br />\n          <div className=\"option-section\">\n            <br />\n            <div className=\"row col-md-12  mt-1\">\n              <div className=\"col-6\">\n                <div className=\"option-card\">\n                  <input\n                    type=\"date\"\n                    className=\" form-control form-control-lg\"\n                    style={{ marginLeft: 6 }}\n                    value={formatDateDash(startDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`startDate`, e.target.value),\n                      });\n                    }}\n                  />\n                </div>\n              </div>\n              <div\n                className=\"col-6\"\n                style={{\n                  right: -10,\n                }}\n              >\n                <div className=\"option-card\">\n                  <input\n                    type=\"date\"\n                    className=\" form-control form-control-lg\"\n                    value={formatDateDash(endDate)}\n                    onChange={(e) => {\n                      history.push({\n                        search: setParams(`endDate`, e.target.value),\n                      });\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"section  mb-2 mt-1\">\n            <div className=\"transactions\">\n              <div className=\"row\">\n                <div className=\"col-md-12 w-100\">\n                  <SearchRoom\n                    style={{ with: \"100%\", heigh: \"200px\" }}\n                    value={listRoom?._id}\n                    onChange={(obj) => {\n                      setListRoom(obj);\n                    }}\n                  />\n                </div>\n              </div>\n              <div className=\"text-center\">\n                {loading ? loadingData(25) : \"\"}\n              </div>\n              {setData?.bookings?.total > 0 ? (\n                <div className=\"listView mt-1\">\n                  {setData?.bookings?.data?.map((data, index) => (\n                    <>\n                      <a\n                        href=\"javascript:void(0)\"\n                        className=\"item pr-0 \"\n                        key={index}\n                        style={{ borderTop: \"1px solid #ed6b0e\" }}\n                      >\n                        <div className=\"detail col-md-10\">\n                          <div>\n                            <strong>ຫ້ອງ: {data?.room?.title_lao}</strong>\n                            <b className=\"text-black\">\n                              ລາຄາ:{\" \"}\n                              {data?.room?.priceFull\n                                ? currency(data?.room?.priceFull)\n                                : 0}{\" \"}\n                              /\n                              {data?.room?.priceHalf\n                                ? currency(data?.room?.priceHalf)\n                                : 0}{\" \"}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              ເຂົ້າພັກ:{\" \"}\n                              {data?.bookingType === \"FULL\" ? (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  ຄືນ\n                                </>\n                              ) : (\n                                <>\n                                  {currency(data?.inTime ? data?.inTime : 0)}{\" \"}\n                                  ຊົ່ວໂມງ\n                                </>\n                              )}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              ເກັບໄດ້:{\" \"}\n                              {data?.fullPriceTotal > 0 ? (\n                                <>\n                                  {data?.fullPriceTotal\n                                    ? currency(data?.fullPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              ) : (\n                                <>\n                                  {data?.halfPriceTotal\n                                    ? currency(data?.halfPriceTotal)\n                                    : 0}{\" \"}\n                                </>\n                              )}\n                            </b>\n                            <br />\n                            <b className=\"text-black\">\n                              ເງິນທອນ:{\" \"}\n                              {currency(data?.exChange ? data?.exChange : 0)}{\" \"}\n                              ກີບ\n                            </b>\n                          </div>\n                        </div>\n                        <div className=\"\">\n                          <button\n                            className=\"btn btn-primary btn-sm btn-block\"\n                            onClick={(e) => {\n                              updateStatus(data?._id, data?.room?._id);\n                            }}\n                            onDoubleClick={() => {\n                              return false;\n                            }}\n                            style={{ marginRight: 50 }}\n                          >\n                            <i className=\"icon-check-circle mr-1\" /> ຢືນຢັນອອກ\n                          </button>\n                        </div>\n                      </a>\n                    </>\n                  ))}\n                </div>\n              ) : (\n                <NoData loading={loading} />\n              )}\n              {setData?.bookings?.total > 100 && (\n                <Pagination\n                  className=\"mt-2\"\n                  pageTotal={countPage}\n                  currentPage={numberPage}\n                  onPageChange={(page) => {\n                    history.push({\n                      search: setParams(`page`, page),\n                    });\n                  }}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\nimport { useFormik } from \"formik\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport React, { useEffect, useState } from \"react\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  currency,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  toDayDash,\n  valiDate,\n} from \"../../../helper\";\nimport { ADD_CHECK_IN, QUERY_ROOMS, QUERY_RATE, PROMOTIONS } from \"./apollo\";\nimport {\n  FormControl,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  OutlinedInput,\n  Select,\n  TextField,\n} from \"@mui/material\";\nimport \"./utils/index.css\";\n\nimport RegisterCustomerOfHotel from \"./RegisterCustomerOfHoltel\";\nimport { TodayTwoTone } from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport SearchCustomer from \"../../../helper/components/SearchCustomer\";\nimport { Modal } from \"react-bootstrap\";\nimport { HOTEL } from \"../../../routes/app\";\n// import \"./utils/index.css\";\nexport default function CheckIn({\n  onSuccess,\n  params,\n  index,\n  getId,\n  OpenModalChange,\n  CloseModalChange,\n}) {\n  const { history, match, location } = useReactRouter();\n  let today = moment().format(\"YYYY-MM-DD HH:mm:ss\");\n  // let _time = moment().format(\"HH:mm:ss\");\n  const searchParams = new URLSearchParams(location?.search);\n  const [customerId, setCustomerId] = useState(\"\");\n  const userState = getStaffLogin();\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [bookingStatus, setBookingStatus] = useState(\"FULL\");\n  // query rate exchage\n  const [rateExchange, setRateExchange] = useState([]);\n  const [listRoom, setListRoom] = useState([]);\n  const [listPromotion, setListPromotion] = useState([]);\n  const [exChangeTotal, setExChangeTotal] = useState(0);\n  const [finalPrice, setFinalPrice] = useState(0);\n  const [countTime, setCountTime] = useState(1);\n\n  // promotions\n  const getPromotion =\n    listPromotion?.percent / 100 ? listPromotion?.percent / 100 : 0;\n\n  // show price room\n  const [halfPrice, setHalfPrice] = useState(listRoom?.priceHalf);\n  const [fullPrice, setFullPrice] = useState(listRoom?.priceFull);\n  // get Percent\n  const feeInComeFull = (fullPrice * 2) / 100;\n  const feeIncomeHalf = (halfPrice * 2) / 100;\n\n  // show exChangeTotal price room\n  const [inputKIP, setInputKIP] = useState(0);\n  const [inputTHB, setInputTHB] = useState(0);\n  const [inputUSD, setInputUSD] = useState(0);\n  const _rateTHB = rateExchange?.laoTHB || 0;\n  const _rateUSD = rateExchange?.laoUSD || 0;\n  // final total\n  const [finalTotalKIP, setFinalTotalKIP] = useState(0);\n  // const [createCheckIn] = useMutation(ADD_CHECK_IN);\n\n  const [createCheckIn, { loading: creating }] = useMutation(ADD_CHECK_IN);\n\n  const [fetchPromotion, { data: setPromotion, loading: LoadingData }] =\n    useLazyQuery(PROMOTIONS, { fetchPolicy: \"network-only\" });\n\n  const [queryRateExchange, { data: rateExchangeData, error, loading }] =\n    useLazyQuery(QUERY_RATE, { fetchPolicy: \"network-only\" });\n  const [\n    queryRoom,\n    { data: roomData, error: roomError, loading: roomLoading },\n  ] = useLazyQuery(QUERY_ROOMS, { fetchPolicy: \"network-only\" });\n\n  useEffect(() => {\n    setHalfPrice(listRoom?.priceHalf * countTime * (1 - getPromotion));\n    setFullPrice(listRoom?.priceFull * countTime * (1 - getPromotion));\n    setInputTHB(inputTHB);\n    setInputUSD(inputUSD);\n    if (inputTHB) {\n      setInputKIP(inputTHB * _rateTHB);\n    }\n    if (inputUSD) {\n      setInputKIP(inputUSD * _rateUSD);\n    }\n    setFinalTotalKIP(inputKIP);\n    if (bookingStatus === \"FULL\") {\n      setExChangeTotal(finalTotalKIP - fullPrice);\n    } else {\n      setExChangeTotal(finalTotalKIP - halfPrice);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    listRoom,\n    rateExchange,\n    countTime,\n    inputKIP,\n    inputTHB,\n    inputUSD,\n    _rateTHB,\n    _rateUSD,\n    halfPrice,\n    fullPrice,\n    finalTotalKIP,\n    exChangeTotal,\n    bookingStatus,\n  ]);\n\n  //get IdHouses\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n  useEffect(() => {\n    if (!getId) {\n      return;\n    }\n    queryRateExchange({\n      variables: {\n        where: {\n          house: localHouse?._id,\n        },\n        orderBy: \"createdAt_DESC\",\n        limit: 1,\n      },\n    });\n    queryRoom({\n      variables: {\n        where: {\n          _id: getId,\n        },\n        limit: 1,\n      },\n    });\n  }, [getId]);\n\n  useEffect(() => {\n    if (rateExchangeData) {\n      setRateExchange(rateExchangeData.rateExchanges.data[0]);\n    }\n  }, [rateExchangeData]);\n  useEffect(() => {\n    if (roomData) {\n      setListRoom(roomData.rooms.data[0]);\n    }\n  }, [roomData]);\n\n  // promotions\n  useEffect(() => {\n    fetchPromotion({\n      variables: {\n        where: {\n          house: getLocalHouse()?._id,\n        },\n      },\n    });\n  }, []);\n  useEffect(() => {\n    if (setPromotion) {\n      setListPromotion(setPromotion.promotions.data[0]);\n    }\n  }, [setPromotion]);\n\n  const { handleChange, errors, values, handleSubmit, resetForm } = useFormik({\n    initialValues: {},\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      // if (!customerId?._id)errors.customer = \"ກະລຸນາປ້ອນເບີລູດຄ້າເພື່ອຄົ້ນຫາຂໍ້ມູນ\";\n      // if (inputKIP == 0) {\n      //   errors.incomeKIP = \"ກະລຸນາປ້ອນເງິນກີບ\";\n      // }\n      if (inputKIP <= 0) {\n        errors.incomeKIP = \"ກະລຸນາປ້ອນຈຳນວນເງິນຫລາຍກວ່າ 0\";\n      }\n      return errors;\n    },\n    onSubmit: async (values) => {\n      loadingScreen();\n      values.customer = String(customerId?._id);\n      values.paidStatus = 1;\n      values.status = \"CHECK_IN\";\n      values.checkInAt = today;\n      values.bookingType = String(bookingStatus);\n      values.inTime = parseInt(countTime);\n      values.incomeKIP = parseInt(inputKIP ? inputKIP : 0);\n      values.incomeTHB = parseInt(inputTHB ? inputTHB : 0);\n      values.incomeUSD = parseInt(inputUSD ? inputUSD : 0);\n      values.exChange = exChangeTotal;\n      if (bookingStatus === \"FULL\") {\n        values.fee = feeInComeFull;\n        values.fullPriceTotal = fullPrice;\n      } else {\n        values.fee = feeIncomeHalf;\n        values.halfPriceTotal = halfPrice;\n      }\n      try {\n        const { data: inputData } = await createCheckIn({\n          variables: {\n            data: {\n              ...values,\n              house: String(localHouse?._id),\n              houseCode: String(localHouse?.houseCode),\n              customer: String(customerId?._id ? customerId?._id : 0),\n              room: String(getId),\n            },\n          },\n        });\n        if (inputData) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ເປິດຫ້ອງສຳເລັດແລ້ວ\");\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            history.push(`${HOTEL}/1`);\n          }, 100);\n          onSuccess((e) => {\n            CloseModalChange();\n          });\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"ເປີດຫ້ອງບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        Notiflix.Loading.remove();\n        console.log(error);\n      }\n    },\n  });\n  return (\n    <>\n      <Modal show={OpenModalChange} size=\"xl\">\n        <Modal.Header>\n          <h3>\n            ເປີດຫ້ອງ {listRoom?.title_lao ? listRoom?.title_lao : \"...\"} /{\" \"}\n            {listRoom?.title_eng ? listRoom?.title_eng : \"...\"}\n          </h3>\n          {/* <RegisterCustomerOfHotel /> */}\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\" }}\n            onClick={() => CloseModalChange()}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        {/* <Modal.Body style={{ height: \"150%\" }}> */}\n        <div className=\"row bg-color\">\n          <div className=\" col-md-12\">\n            {/* <div className=\"form-row mt-3 col-11 ms-2  mb-2 me-2\">\n              <SearchCustomer\n                response={(obj) => {\n                  setCustomerId(obj);\n                }}\n                error={errors.customer}\n                roomID={getId}\n              />\n              <div className=\"text-danger fs-5\">{errors?.customer}</div>\n            </div> */}\n            <div className=\"card-body\">\n              {/* <div className=\"form-row mt-3\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#e3e0de\" }}\n                >\n                  <InputLabel\n                    className=\"inputLabel\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    ຊື່ ແລະ ນາມສະກຸມ {valiDate()}\n                  </InputLabel>\n                  <OutlinedInput\n                    value={customerId?.fullName}\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        <i className=\"fa-solid fa-user text-secondary me-1\" />\n                      </InputAdornment>\n                    }\n                    label=\"ຊື່ ແລະ ນາມສະກຸມ\"\n                    disabled={true}\n                    type=\"text\"\n                    error={errors.username}\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n              </div> */}\n              {/* <div className=\"form-row mt-3\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#e3e0de\" }}\n                >\n                  <InputLabel\n                    className=\"inputLabel\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    ເບີໂທ {valiDate()}\n                  </InputLabel>\n                  <OutlinedInput\n                    value={customerId?.phoneNumber}\n                    disabled={true}\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        <i className=\"fa-solid fa-phone text-secondary me-1\" />\n                      </InputAdornment>\n                    }\n                    type=\"tel\"\n                    label=\"ເບີໂທ\"\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n              </div> */}\n              <div\n                className=\"btn-group btn-lg \"\n                style={{ marginLeft: -25, marginTop: 10 }}\n              >\n                <button\n                  type=\"button\"\n                  className={\n                    bookingStatus === \"HALF\"\n                      ? \"btn btn-lg btn-primary\"\n                      : \"btn btn-outline-primary\"\n                  }\n                  onClick={() => {\n                    setBookingStatus(\"HALF\");\n                  }}\n                >\n                  {bookingStatus === \"HALF\" ? (\n                    <>\n                      <i className=\"icon-check\" /> ຊົ່ວຄາວ\n                    </>\n                  ) : (\n                    \"ຊົ່ວຄາວ\"\n                  )}\n                </button>\n                <button\n                  type=\"button\"\n                  className={\n                    bookingStatus === \"FULL\"\n                      ? \"btn btn-lg btn-primary \"\n                      : \"btn btn-outline-primary \"\n                  }\n                  onClick={() => {\n                    setBookingStatus(\"FULL\");\n                  }}\n                >\n                  {bookingStatus === \"FULL\" ? (\n                    <>\n                      <i className=\"icon-check\" /> ຄ້າງຄືນ\n                    </>\n                  ) : (\n                    \"ຄ້າງຄືນ\"\n                  )}\n                </button>\n              </div>\n              {bookingStatus === \"FULL\" ? (\n                <div className=\"form-row mt-3\">\n                  <FormControl fullWidth>\n                    <InputLabel\n                      className=\"inputLabel text-black\"\n                      htmlFor=\"outlined-adornment-amount\"\n                    >\n                      ຈຳນວນມື້ {valiDate()}\n                    </InputLabel>\n                    <OutlinedInput\n                      type=\"number\"\n                      id=\"Number\"\n                      label=\"ຈຳນວນມື້\"\n                      defaultValue={countTime}\n                      onWheel={(e) => e.target.blur()}\n                      onChange={(e) => {\n                        setCountTime(e.target.value);\n                      }}\n                      inputProps={{ maxLength: 10 }}\n                    />\n                  </FormControl>\n                </div>\n              ) : (\n                <div className=\"form-row mt-3\">\n                  <FormControl fullWidth>\n                    <InputLabel\n                      className=\"inputLabel text-black\"\n                      htmlFor=\"outlined-adornment-amount\"\n                    >\n                      ຈຳນວນຊົ່ວໂມງ {valiDate()}\n                    </InputLabel>\n                    <OutlinedInput\n                      type=\"number\"\n                      id=\"Number\"\n                      onWheel={(e) => e.target.blur()}\n                      label=\"ຈຳນວນຊົ່ວໂມງ\"\n                      defaultValue={countTime}\n                      onChange={(e) => {\n                        setCountTime(e.target.value);\n                      }}\n                      inputProps={{ maxLength: 10 }}\n                    />\n                  </FormControl>\n                </div>\n              )}\n\n              <div className=\"form-row mt-3\">\n                <FormControl fullWidth>\n                  <InputLabel\n                    className=\"inputLabel text-black\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    ລາຄາຫ້ອງ\n                  </InputLabel>\n                  <OutlinedInput\n                   sx={{backgroundColor:\"#f2f7f3\"}}\n                    type=\"text\"\n                    disabled={true}\n                    id=\"Number\"\n                    label=\"ລາຄາຫ້ອງ\"\n                    value={\n                      bookingStatus === \"FULL\"\n                        ? currency(listRoom?.priceFull * countTime) +\n                          \" Pro: \" +\n                          currency(\n                            listRoom?.priceFull -\n                              listRoom?.priceFull *\n                                countTime *\n                                (1 - getPromotion)\n                          )\n                        : currency(listRoom?.priceHalf * countTime) +\n                          \" Pro: \" +\n                          currency(\n                            listRoom?.priceHalf -\n                              listRoom?.priceHalf *\n                                countTime *\n                                (1 - getPromotion)\n                          )\n                    }\n                  />\n                </FormControl>\n              </div>\n              <div className=\"form-row mt-3\">\n                <FormControl fullWidth>\n                  <InputLabel\n                    className=\"inputLabel text-black\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    ເງິນທີ່ຄວນເກັບ\n                  </InputLabel>\n                  <OutlinedInput\n                    startAdornment={\n                      <h2 className=\"fw-bold text-success\">LAK</h2>\n                    }\n                    type=\"text\"\n                    id=\"Number\"\n                    className=\"fs-2 text-center text-success\"\n                    disabled={true}\n                    value={\n                      bookingStatus === \"FULL\"\n                        ? currency(fullPrice)\n                        : currency(halfPrice)\n                    }\n                    label=\"ເງິນທີ່ຄວນເກັບ\"\n                    sx={{backgroundColor:\"#f2f7f3\"}}\n                  />\n                </FormControl>\n              </div>\n              <div className=\"form-row mt-3\">\n                <FormControl fullWidth>\n                  <InputLabel\n                    className=\"inputLabel text-black\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    ເງິນໄດ້ຮັບຕົວຈິງ(ກີບ)\n                  </InputLabel>\n                  <OutlinedInput\n                    startAdornment={\n                      <h2 className=\"fw-bold text-primary\">LAK</h2>\n                    }\n                    type=\"number\"\n                    id=\"Number\"\n                    onChange={(e) => {\n                      setInputKIP(e.target.value);\n                    }}\n                    onWheel={(e) => e.target.blur()}\n                    defaultValue={inputKIP}\n                    label=\"ເງິນໄດ້ຮັບຕົວຈິງ(ກີບ)\"\n                    error={errors.incomeKIP}\n                  />\n                  <div className=\"text-danger fs-5\">{errors?.incomeKIP}</div>\n                </FormControl>\n              </div>\n              <div className=\"form-row mt-3\">\n                <FormControl fullWidth>\n                  <InputLabel\n                    className=\"inputLabel text-black\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    ເງິນໄດ້ຮັບຕົວຈິງ(ບາດ)\n                  </InputLabel>\n                  <OutlinedInput\n                    startAdornment={\n                      <h2 className=\"fw-bold text-primary\">THB</h2>\n                    }\n                    type=\"number\"\n                    id=\"Number\"\n                    onChange={(e) => {\n                      setInputTHB(e.target.value);\n                    }}\n                    onWheel={(e) => e.target.blur()}\n                    defaultValue={inputTHB}\n                    label=\"ເງິນໄດ້ຮັບຕົວຈິງ(ບາດ)\"\n                  />\n                </FormControl>\n              </div>\n              <div className=\"form-row mt-3\">\n                <FormControl fullWidth>\n                  <InputLabel\n                    className=\"inputLabel text-black\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    ເງິນໄດ້ຮັບຕົວຈິງ(ໂດລ່າ)\n                  </InputLabel>\n                  <OutlinedInput\n                    startAdornment={\n                      <h2 className=\"fw-bold text-primary\">USD</h2>\n                    }\n                    type=\"number\"\n                    id=\"Number\"\n                    onWheel={(e) => e.target.blur()}\n                    onChange={(e) => {\n                      setInputUSD(e.target.value);\n                    }}\n                    defaultValue={inputUSD}\n                    label=\"ເງິນໄດ້ຮັບຕົວຈິງ(ໂດລ່າ)\"\n                  />\n                </FormControl>\n              </div>\n              <div className=\"form-row mt-3\">\n                <FormControl fullWidth>\n                  <InputLabel\n                    className=\"inputLabel text-black\"\n                    htmlFor=\"outlined-adornment-amount\"\n                  >\n                    ເງິນທອນ\n                  </InputLabel>\n                  <OutlinedInput\n                    startAdornment={\n                      <h2 className=\"fw-bold text-danger\">LAK</h2>\n                    }\n                    type=\"text\"\n                    id=\"Number\"\n                    className=\"fs-2 text-center\"\n                    disabled={true}\n                    value={currency(exChangeTotal)}\n                    label=\"ເງິນທອນ\"\n                    sx={{backgroundColor:\"#f2f7f3\"}}\n                  />\n                </FormControl>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-success btn-lg  mt-2 w-100\"\n            // onClick={() => handleSubmit()}\n            onClick={() => {\n              if (!creating) {\n                handleSubmit();\n              }\n            }}\n            onDoubleClick={() => {\n              return false;\n            }}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n        {/* </Modal.Body> */}\n      </Modal>\n    </>\n  );\n}\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getLocalHouse } from \"..\";\n\nconst SELECT_ROOM = gql`\n  query Rooms($where: RoomWhereInput) {\n    rooms(where: $where) {\n      data {\n        _id\n        title_lao\n        title_eng\n      }\n    }\n  }\n`;\nexport default function SearchRoomFee({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(\n    SELECT_ROOM,\n    { fetchPolicy: \"network-only\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          // house:localHouse,\n          status: \"FEE\",\n        },\n      },\n      orderBy: \"createdAt_DESC\",\n    });\n  }, [localHouse]);\n\n  useEffect(() => {\n    const results = data?.rooms?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.title_lao + \" / \" + item?.title_eng,\n        };\n        return object;\n      });\n      setItems([{ value: \"\", label: \"ທັງຫມົດ\" }, ..._results]);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n  return (\n    <div style={{ width: \"100%\", fontSize: 16, color: \"black\" }}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກຫ້ອງ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport { ROOM_SERVICES } from \"../../../routes/app\";\nimport BottomNav from \"../../../layouts/BottomNav\";\nimport { QUERY_ROOM } from \"./apollo\";\nimport {\n  currency,\n  getLocalHouse,\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  loadingData,\n  setParams,\n  socketServer,\n} from \"../../../helper\";\nimport TypeRoom from \"../../../helper/components/typeRoom\";\nimport CheckIn from \"./CheckIn\";\nimport SearchTypeRoom from \"../../../helper/components/SearchTypeRoom\";\nimport NoData from \"../../../helper/components/NoData\";\nimport SearchRoomFee from \"../../../helper/components/SearchRoomFee\";\nimport Pagination from \"../../../helper/controllers/Pagination\";\nimport SelectLocalHouse from \"../../../helper/components/SelectLocalHouse\";\nexport default function Hotel() {\n  const { history, location, match } = useReactRouter();\n  const query = new URLSearchParams(location.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [loadData, setLoadData] = useState(false);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [typeDataRoom, setTypeDataRoom] = useState({});\n  const [searchValue, setSearchValue] = useState();\n  const [clickButton, setButton] = useState(false);\n  const [userData, setUserData] = useState({});\n\n  const [house, setHouse] = useState(\"\");\n  //!ໂມໂດເປີດຫ້ອງ\n  const [getData, setModal] = useState();\n  const [openModal, CloseModal] = useState(false);\n  const CloseModalChange = () => CloseModal(false);\n  const [fetchDataRoom, { data: setDataRoom, loading: loadingDataRoom }] =\n    useLazyQuery(QUERY_ROOM, { fetchPolicy: \"cache-and-network\" });\n  // useEffect(() => {\n  //   setLocalHouse(getLocalHouse()?._id);\n  // }, []);\n\n  // data HouseLoca\n  useEffect(() => {\n    const _local = getStaffLogin();\n    setUserData(_local?.data || {});\n    setLocalHouse(getLocalHouse());\n    //sidebar min\n    const localSideBarMini = localStorage.getItem(\"SIDEBAR_MINI\");\n    if (localSideBarMini === \"true\") {\n      document.body.classList.add(\"sidebar-collapse\");\n    }\n  }, []);\n  // end\n\n  useEffect(() => {\n    fetchDataRoom({\n      variables: {\n        where: {\n          house: localHouse?._id,\n          typeRoom: typeDataRoom?._id ? typeDataRoom?._id : undefined,\n          title_lao: searchValue ? searchValue : undefined,\n          status: \"FEE\",\n        },\n        skip: numberRow * (numberPage - 1),\n        limit: numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [localHouse, loadData, typeDataRoom, searchValue, numberRow, numberPage]);\n\n  //ຟັນຊັ່ນເປີດຫ້ອງ\n  const _onClick = (e) => {\n    setModal(e);\n    CloseModal(true);\n  };\n\n  // pagination\n  useEffect(() => {\n    const page = query.get(\"page\");\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(setDataRoom?.rooms?.total / numberRow); i++) {\n    countPage.push(i);\n  }\n\n  socketServer.on(\"approveBooking\", (res) => {\n    if (res === localHouse?._id) {\n      //   newSound.play();\n      setLoadData(!loadData);\n    }\n  });\n  socketServer.on(\"approveCheckOut\", (res) => {\n    if (res === localHouse) {\n      //   newSound.play();\n      setLoadData(!loadData);\n    }\n  });\n\n  return (\n    <>\n      <div className=\"appHeader text-light border-0 mr-0\">\n        <div style={{ flex: 1 }} className=\"text-left\">\n          <button\n            className=\"btn text-white\"\n            onClick={() => history.push(ROOM_SERVICES)}\n          >\n            <i className=\"fa fa-chevron-left fs-4\" />\n          </button>\n        </div>\n        {clickButton === true ? (\n          <>\n            <SelectLocalHouse\n              style={{ width: \"100%\" }}\n              value={localHouse?._id}\n              onChange={(obj) => {\n                if (obj?._id) {\n                  setLocalHouse(obj);\n                  localStorage.setItem(\"HOUSE\", JSON.stringify(obj));\n                  window.location.reload();\n                }\n              }}\n              ownerId={userData?._id}\n            />\n          </>\n        ) : (\n          <b className=\"text-white\">ເປີດບ້ານພັກ</b>\n        )}\n        <div\n          className=\"text-white pageTitle text-right text-nowrap pr-0\"\n          style={{ flex: 1 }}\n        >\n          <button\n            className=\"btn text-white\"\n            onClick={(e) => {\n              setButton(!clickButton);\n            }}\n          >\n            <i className=\"fa-solid fa-magnifying-glass fa-2 ms-2\" />\n          </button>\n        </div>\n      </div>\n\n      <div className=\" body-content-lg ms-1 me-1 \" style={{ marginTop: 50 }}>\n        <div className=\"option-section\">\n          <br />\n          <div className=\"row col-md-12  ms-3 mt-4\">\n            <div\n              className=\"col-6\"\n              style={{\n                position: \"fixed\",\n                right: 0.1,\n                zIndex: 100,\n                top: 57,\n              }}\n            >\n              <div className=\"option-card\">\n                <input\n                  type=\"search\"\n                  className=\"form-control form-control-lg text-black\"\n                  placeholder=\"ຄົ້ນຫາຫ້ອງ\"\n                  value={searchValue}\n                  style={{ border: \" 1px solid #cccfc8\" }}\n                  onChange={(e) => setSearchValue(e.target.value)}\n                />\n              </div>\n            </div>\n            <div\n              className=\"col-6 \"\n              style={{\n                position: \"fixed\",\n                left: 0.1,\n                zIndex: 100,\n                top: 57,\n              }}\n            >\n              <div className=\"option-card\">\n                <SearchTypeRoom\n                  style={{ height: \"100%\", backgroundColor: \"red\" }}\n                  value={typeDataRoom?._id}\n                  onChange={(obj) => {\n                    setTypeDataRoom(obj);\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"option-section\">\n          <div className=\"row gx-2\">\n            {setDataRoom?.rooms?.total > 0 ? (\n              <>\n                {setDataRoom?.rooms?.data?.map((data, index) => (\n                  <>\n                    <div className=\"col-6 mt-1\">\n                      <div\n                        className=\"card border\"\n                        style={{ backgroundColor: \"#f0edeb\" }}\n                        onClick={() => _onClick(data?._id)}\n                        key={index}\n                      >\n                        <div className=\"border-bottom text-black text-center\">\n                          {data?.title_lao} / {data?.title_eng}\n                        </div>\n                        <div\n                          className=\"card-body text-black\"\n                          style={{ marginTop: -10 }}\n                        >\n                          <b style={{ color: \"#949492\" }}>\n                            {data?.typeRoom?.title_lao}\n                          </b>\n                          <br />\n                          <b>\n                            {currency(data?.priceFull)} /{\" \"}\n                            {currency(data?.priceHalf)}\n                          </b>\n                        </div>\n                      </div>\n                    </div>\n                  </>\n                ))}\n              </>\n            ) : (\n              <NoData loading={loadingDataRoom} />\n            )}\n            {setDataRoom?.rooms?.total > 100 && (\n              <Pagination\n                className=\"mt-2\"\n                pageTotal={countPage}\n                currentPage={numberPage}\n                onPageChange={(page) => {\n                  history.push({\n                    search: setParams(`page`, page),\n                  });\n                }}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n      <CheckIn\n        getId={getData}\n        OpenModalChange={openModal}\n        CloseModalChange={CloseModalChange}\n        onSuccess={(value) => {\n          CloseModalChange();\n          setLoadData(!loadData);\n        }}\n      />\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const BOOKINGS = gql`\n  query Bookings($where: BookingWhereInput) {\n    bookings(where: $where) {\n      total\n      data {\n        _id\n      }\n    }\n  }\n`;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport { Button, Col } from \"react-bootstrap\";\n// import \"./utils/index.css\";\nimport * as ROUTES from \"../../routes/app\";\nimport BottomNav from \"../../layouts/BottomNav\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingData,\n  socketServer,\n} from \"../../helper\";\nimport { BOOKINGS } from \"./gql\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\n\nexport default function TabMenuRoom() {\n  const { history } = useReactRouter();\n  const [reloadData, setReloadData] = useState(false);\n  const [house, setHouse] = useState(\"\");\n  const [userData, setUserData] = useState({});\n  const [clickButton, setButton] = useState(false);\n\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\n    BOOKINGS,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  const [queryBookingFull, { data: setDataFull, loading: loadingFull }] =\n    useLazyQuery(BOOKINGS, { fetchPolicy: \"cache-and-network\" });\n  const [\n    queryBookingRequested,\n    { data: setDataRequested, loading: loadingRequested },\n  ] = useLazyQuery(BOOKINGS, { fetchPolicy: \"cache-and-network\" });\n\n  socketServer.on(\"booking\", (data) => {\n    setReloadData(!reloadData);\n    // newSound.play();\n  });\n\n  socketServer.on(\"approveBooking\", (res) => {\n    if (res === house?._id) {\n      // newSound.play();\n      setReloadData(!reloadData);\n    }\n  });\n  // data HouseLocal\n  useEffect(() => {\n    const _local = getStaffLogin();\n    setUserData(_local?.data || {});\n    setHouse(getLocalHouse());\n    //sidebar min\n    const localSideBarMini = localStorage.getItem(\"SIDEBAR_MINI\");\n    if (localSideBarMini === \"true\") {\n      document.body.classList.add(\"sidebar-collapse\");\n    }\n  }, []);\n  // end\n\n  useEffect(() => {\n    let whereData = {};\n    whereData = {\n      house: parseInt(house?._id),\n    };\n    if (userData?.role === \"SUPER_ADMIN\" || userData?.role === \"IT\") {\n      delete whereData.house;\n    }\n    queryBookingFull({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"CHECK_IN\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n\n    queryBooking({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"BOOKING\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n    queryBookingRequested({\n      variables: {\n        where: {\n          ...whereData,\n          status: \"REQUESTED\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [house?._id, reloadData]);\n\n  return (\n    <>\n      <div>\n        <div className=\"appHeader  border-0 mr-0\">\n          <div style={{ flex: 1 }} className=\"text-left\">\n            <button\n              className=\"btn text-white\"\n              onClick={(e) => {\n                setButton(!clickButton);\n              }}\n            >\n              <i className=\"fa-solid fa-magnifying-glass fa-2 ms-2\" />\n            </button>\n          </div>\n          {clickButton === true ? (\n            <>\n              <SelectLocalHouse\n                style={{ width: \"100%\" }}\n                value={house?._id}\n                onChange={(obj) => {\n                  if (obj?._id) {\n                    setHouse(obj);\n                    localStorage.setItem(\"HOUSE\", JSON.stringify(obj));\n                    window.location.reload();\n                  }\n                }}\n                ownerId={userData?._id}\n              />\n            </>\n          ) : (\n            <b className=\"text-white\">\n              {house?.houseName ? house?.houseName : \"ຈັດການບໍລິການອື່ນໆ\"}\n            </b>\n          )}\n          <div\n            className=\"text-white pageTitle text-right text-nowrap pr-0\"\n            style={{ flex: 1 }}\n          ></div>\n        </div>\n        <div id=\"appCapsule\" style={{ marginTop: -10 }}>\n          <div className=\"section wallet-card-section\">\n            <div className=\"session-list mt-1\" ng-controller=\"home\">\n              <div\n                className=\"wallet-card\"\n                style={{ borderBottom: \"1px solid red\" }}\n              >\n                <div className=\"wallet-footer\">\n                  <div className=\"item\">\n                    <a\n                      href=\"javascript:void(0)\"\n                      onClick={() => history.push(`${ROUTES.HOTEL}/1`)}\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-sharp fa-solid fa-person-booth fa-2x\" />\n                      </div>\n                      <h5>ເປີດຫ້ອງ</h5>\n                    </a>\n                  </div>\n                  <div className=\"item\">\n                    {loading ? (\n                      <span\n                        className=\"ms-2\"\n                        style={{\n                          position: \"fixed\",\n                          marginTop: -10,\n                          marginRight: -50,\n                          padding: 0,\n                          zIndex: 1000,\n                        }}\n                      >\n                        {loadingData(10)}\n                      </span>\n                    ) : setData?.bookings?.total > 0 ? (\n                      <span\n                        className=\"badge badge-success ms-2\"\n                        style={{\n                          position: \"fixed\",\n                          marginTop: -10,\n                          marginRight: -50,\n                          padding: 0,\n                          zIndex: 1000,\n                        }}\n                      >\n                        <small className=\"p-1\">\n                          {setData?.bookings?.total}\n                        </small>\n                      </span>\n                    ) : null}\n                    <a\n                      href=\"javascript:void(0)\"\n                      onClick={() => history.push(`${ROUTES.BOOKING}/1`)}\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-solid fa-circle-down fa-2x\" />\n                      </div>\n                      <h5>ຫ້ອງກຳລັງຈອງ</h5>\n                    </a>\n                  </div>\n                  <div className=\"item\">\n                    {loadingFull ? (\n                      <span\n                        className=\"ms-2\"\n                        style={{\n                          position: \"fixed\",\n                          marginTop: -10,\n                          marginRight: -50,\n                          padding: 0,\n                          zIndex: 1000,\n                        }}\n                      >\n                        {loadingData(10)}\n                      </span>\n                    ) : setDataFull?.bookings?.total > 0 ? (\n                      <span\n                        className=\"badge badge-success ms-2\"\n                        style={{\n                          position: \"fixed\",\n                          marginTop: -10,\n                          marginRight: -50,\n                          padding: 0,\n                          zIndex: 1000,\n                        }}\n                      >\n                        <small className=\"p-1\">\n                          {setDataFull?.bookings?.total}\n                        </small>\n                      </span>\n                    ) : null}\n                    <a\n                      onClick={(e) => history.push(`${ROUTES.HOTEL_CHECKOUT}`)}\n                    >\n                      <div className=\"icon-wrapper\">\n                        <i className=\"fa-solid fa-share-from-square fa-2x\" />\n                      </div>\n                      <h5>ແຂກອອກ</h5>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <BottomNav />\n        </div>\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const CREATE_TYPE = gql`\n  mutation CreateEquimentType($data: EquimentTypeInput!) {\n    createEquimentType(data: $data) {\n      _id\n    }\n  }\n`;\n\nexport const QUERY_TYPE = gql`\n  query EquimentTypes(\n    $noLimit: Boolean\n    $limit: Int\n    $skip: Int\n    $where: EquimentTypeWhereInput\n    $orderBy: OrderByInput\n  ) {\n    equimentTypes(\n      noLimit: $noLimit\n      limit: $limit\n      skip: $skip\n      where: $where\n      orderBy: $orderBy\n    ) {\n      total\n      data {\n        _id\n        title\n        house {\n          _id\n          houseName\n        }\n      }\n    }\n  }\n`;\n\nexport const UPDATE_TYPE = gql`\n  mutation UpdateEquimentType(\n    $data: EquimentTypeInput!\n    $where: EquimentTypeWhereInputOne\n  ) {\n    updateEquimentType(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n\nexport const DELETE_TYPE = gql`\n  mutation DeleteEquimentType($where: EquimentTypeWhereInputOne!) {\n    deleteEquimentType(where: $where) {\n      _id\n    }\n  }\n`;\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {useFormik } from \"formik\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n} from \"../../../../helper\";\n\nimport { CREATE_TYPE } from \"./apollo\";\nimport Notiflix from \"notiflix\";\nimport {TextField } from \"@mui/material\";\n\nexport default function AddTypeData({ onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n\n  const [show, setShow] = useState(false);\n  const [addType] = useMutation(CREATE_TYPE);\n  const [house, setHouse] = useState({});\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n  const { handleChange, errors, values, handleSubmit, resetForm, isDisabled } =\n    useFormik({\n      initialValues: {\n        title: \"\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (!values.title) {\n          errors.title = \"ກະລຸນາປ້ອນປະຫມວກຊັບສິນ\";\n        }\n        return errors;\n      },\n      onSubmit: async (values) => {\n        loadingScreen();\n        try {\n          const { data: inputData } = await addType({\n            variables: {\n              data: {\n                title: values?.title,\n                house: house?._id,\n              },\n            },\n          });\n          if (inputData) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ບັນທືກຂໍ້ມູນສຳເລັດ\");\n            setShow(false);\n            onSuccess();\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"ເປີດຫ້ອງບໍ່ສຳເລັດ\");\n          }\n        } catch (error) {\n          Notiflix.Loading.remove();\n          console.log(error);\n        }\n      },\n    });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"icon-plus-circle me-1\" /> ເພີ່ມຫມວດຊັບສິນ\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header className=\"text-black\">\n          ເພີ່ມຫມວດຊັບສິນ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"form-group mb-1\">\n            <TextField\n              type=\"text\"\n              className=\"inputLabel\"\n              variant=\"outlined\"\n              name=\"title\"\n              placeholder=\"ປ້ອນຫມວດຊັບສິນ\"\n              value={values.title}\n              onChange={handleChange}\n              sx={{\n                m: 0,\n                width: \"100%\",\n                backgroundColor: \"#ffff\",\n              }}\n            />\n            <span className=\"text-danger\">{errors.title}</span>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport {\r\n  getLocalHouse,\r\n  getStaffLogin,\r\n  ITEM_PER_PAGE,\r\n  loadingData,\r\n  messageError,\r\n  messageSuccess,\r\n  setParams,\r\n} from \"../../../../helper\";\r\nimport { CREATE_TYPE, DELETE_TYPE, QUERY_TYPE, UPDATE_TYPE } from \"./apollo\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Notiflix from \"notiflix\";\r\nimport Pagination from \"../../../../helper/controllers/Pagination\";\r\nimport LimitData from \"../../../../helper/controllers/LimitData\";\r\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\r\nimport NoData from \"../../../../helper/components/NoData\";\r\nimport AddTypeData from \"./AddTypeData\";\r\n\r\nexport default function EquiType() {\r\n  const { history, location, match } = useReactRouter();\r\n  const jsonObj = getStaffLogin();\r\n  const userInfo = jsonObj?.data;\r\n  // get query search\r\n  const query = new URLSearchParams(location.search);\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [numberRow, setNumberRow] = useState(100);\r\n  const [searchValue, setSearchValue] = useState();\r\n  const [addNew, setAddNew] = useState(true);\r\n  const [editStatus, setEditStatus] = useState(false);\r\n  const [getIndex, setGetIndex] = useState(0);\r\n  const [text, setText] = useState(\"\");\r\n  const [newText, setNewText] = useState(\"\");\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const [localHouse, setLocalHouse] = useState(\"\");\r\n  const [queryType, { data: expenseTypeData, loading }] = useLazyQuery(\r\n    QUERY_TYPE,\r\n    { fetchPolicy: \"cache-and-network\" }\r\n  );\r\n\r\n  const [editType] = useMutation(UPDATE_TYPE);\r\n  const [deleteType] = useMutation(DELETE_TYPE);\r\n\r\n  useEffect(() => {\r\n    setLocalHouse(getLocalHouse()?._id);\r\n  }, []);\r\n  useEffect(() => {\r\n    queryType({\r\n      variables: {\r\n        where: {\r\n          title: searchValue,\r\n          house: localHouse,\r\n        },\r\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\r\n        limit: searchValue ? 1000 : numberRow,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [numberRow, searchValue, numberPage, reloadData, localHouse]);\r\n\r\n  //pageination\r\n  const countData = expenseTypeData?.equimentTypes?.total;\r\n  const countPage = [];\r\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\r\n    countPage.push(i);\r\n  }\r\n  useEffect(() => {\r\n    const page = query.get(\"page\");\r\n    if (page) {\r\n      setNumberPage(parseInt(page));\r\n    } else {\r\n      setNumberRow(100);\r\n    }\r\n  }, [query]);\r\n\r\n  const NO = (index) => {\r\n    const no = numberRow * numberPage - numberRow;\r\n    if (numberRow > 0) {\r\n      return no + index + 1;\r\n    } else {\r\n      return index + 1;\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async (id) => {\r\n    const { data } = await editType({\r\n      variables: {\r\n        data: {\r\n          title: String(newText),\r\n        },\r\n        where: {\r\n          _id: parseInt(id),\r\n        },\r\n      },\r\n    });\r\n\r\n    if (data?.updateEquimentType?._id) {\r\n      messageSuccess(\"ແກ້ໄຂສຳເລັດ\");\r\n      setNewText(\"\");\r\n      setReloadData(!reloadData);\r\n      setEditStatus(false);\r\n    } else {\r\n      messageError(\"ແກ້ໄຂຜີີດພາດ\");\r\n      setNewText(text);\r\n    }\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການລຶບຂໍ້ມູນນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      async () => {\r\n        try {\r\n          const { data } = await deleteType({\r\n            variables: {\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (data?.deleteEquimentType?._id) {\r\n            messageSuccess(\"ລືບຂໍ້ມູນສຳເລັດ\");\r\n            setReloadData(!reloadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ລືບບໍ່ສຳເລັດ\");\r\n          console.log(error);\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"content__header content__boxed overlapping\">\r\n        <div className=\"content__wrap\">\r\n          <h3 className=\"page-title mb-2 text-white\">ລາຍການຫມວດຊັບສິນ</h3>\r\n        </div>\r\n      </div>\r\n      <div className=\" body-content-lg\" style={{ marginTop: 30 }}>\r\n        <div className=\"option-section\">\r\n          <div className=\"row col-md-12  mt-4\">\r\n            <div className=\"option-card\">\r\n              <FormControl fullWidth sx={{ m: 0 }}>\r\n                <OutlinedInput\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <i className=\"fa-solid fa-magnifying-glass\" />\r\n                    </InputAdornment>\r\n                  }\r\n                  type=\"search\"\r\n                  placeholder=\"ຄັ້ນຫາ\"\r\n                  onChange={(e) => setSearchValue(e.target.value)}\r\n                />\r\n              </FormControl>\r\n              <div className=\"option-section mt-1\">\r\n                <div className=\"row gx-2\">\r\n                  {expenseTypeData?.equimentTypes?.total > 0 ? (\r\n                    <>\r\n                      <div className=\"table-responsive \">\r\n                        <Table className=\"table  table-sm mb-0\">\r\n                          <thead>\r\n                            <tr>\r\n                              <th className=\"text-start\">ລຳດັບ</th>\r\n                              <th className=\"text-nowrap text-start\">ລາຍການ</th>\r\n                              {userInfo?.role === \"SUPER_ADMIN\" ||\r\n                              userInfo?.role === \"IT\" ? (\r\n                                <th\r\n                                  className=\"text-nowrap text-center\"\r\n                                  width={100}\r\n                                >\r\n                                  ຈັດການ\r\n                                </th>\r\n                              ) : null}\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {expenseTypeData &&\r\n                              expenseTypeData?.equimentTypes?.data?.map(\r\n                                (item, index) => (\r\n                                  <tr key={index} className=\"text-black\">\r\n                                    <td className=\"text-start\">{NO(index)}</td>\r\n                                    <td className=\"text-nowrap text-start\">\r\n                                      {editStatus && getIndex === item?._id ? (\r\n                                        <input\r\n                                          type=\"text\"\r\n                                          placeholder=\"ປະເພດລາຍຮັບ\"\r\n                                          className=\"form-control\"\r\n                                          onChange={(e) =>\r\n                                            setNewText(e.target.value)\r\n                                          }\r\n                                          value={newText}\r\n                                        />\r\n                                      ) : item?.title ? (\r\n                                        item?.title\r\n                                      ) : (\r\n                                        \"-\"\r\n                                      )}\r\n                                    </td>\r\n                                    <td className=\"text-center\">\r\n                                      <div className=\"btn-group\">\r\n                                        {editStatus &&\r\n                                        getIndex === item?._id ? (\r\n                                          <button\r\n                                            onClick={() =>\r\n                                              handleUpdate(item?._id)\r\n                                            }\r\n                                            style={{ textDecoration: \"none\" }}\r\n                                            className=\"btn btn-success\"\r\n                                          >\r\n                                            <i className=\"icon-check-circle\" />\r\n                                          </button>\r\n                                        ) : (\r\n                                          <button\r\n                                            onClick={() => {\r\n                                              setEditStatus(true);\r\n                                              setGetIndex(item?._id);\r\n                                              setNewText(item?.title);\r\n                                            }}\r\n                                            className=\"btn btn-sm\"\r\n                                            style={{ textDecoration: \"none\" }}\r\n                                          >\r\n                                            <i className=\"fas fa-edit\" />\r\n                                          </button>\r\n                                        )}\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          onClick={() =>\r\n                                            handleDelete(item?._id)\r\n                                          }\r\n                                          className=\"btn btn-sm\"\r\n                                        >\r\n                                          <i className=\"icon-trash text-danger\"></i>\r\n                                        </button>\r\n                                      </div>\r\n                                    </td>\r\n                                  </tr>\r\n                                )\r\n                              )}\r\n                          </tbody>\r\n                        </Table>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <NoData loading={loading} />\r\n                  )}\r\n                  {expenseTypeData?.equimentTypes?.total > 100 && (\r\n                    <Pagination\r\n                      className=\"mt-2\"\r\n                      pageTotal={countPage}\r\n                      currentPage={numberPage}\r\n                      onPageChange={(page) => {\r\n                        history.push({\r\n                          search: setParams(`page`, page),\r\n                        });\r\n                      }}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            backgroundColor: \"#edece8\",\r\n          }}\r\n          className=\"col-md-12 appBottomMenu\"\r\n        >\r\n          <AddTypeData\r\n            onSuccess={(e) => {\r\n              setReloadData(!reloadData);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\nexport const ADD_EQUIMENT = gql`\n  mutation CreateEquiment($data: EquimentInput!) {\n    createEquiment(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_EQUIMENT = gql`\n  query Equiments(\n    $noLimit: Boolean\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: EquimentWhereInput\n  ) {\n    equiments(\n      noLimit: $noLimit\n      limit: $limit\n      skip: $skip\n      orderBy: $orderBy\n      where: $where\n    ) {\n      total\n      data {\n        _id\n        equimentType {\n          _id\n          title\n        }\n        title\n        unit\n        size\n        price\n        receiptDate\n        status\n        details\n        createdAt\n        total\n      }\n    }\n  }\n`;\nexport const EDIT_EQUIMENT = gql`\n  mutation UpdateEquiment(\n    $data: EquimentInput!\n    $where: EquimentWhereInputOne\n  ) {\n    updateEquiment(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n\nexport const DELETE_EQUIMENT = gql`\n  mutation DeleteEquiment($where: EquimentWhereInputOne!) {\n    deleteEquiment(where: $where) {\n      _id\n    }\n  }\n`;\nexport const QUERY_TYPE_HOUSE = gql`\n  query TypeHouses {\n    typeHouses {\n      total\n      data {\n        _id\n        title_lao\n        title_eng\n      }\n    }\n  }\n`;\n\nexport const QUERY_BILL = gql`\n  query BillEquiment($where: BillEquimentWhereInput, $limit: Int) {\n    billEquiment(where: $where, limit: $limit) {\n      data {\n        _id\n        billNo\n        status\n      }\n    }\n  }\n`;\n\nexport const CREATE_ORDER_OUT = gql`\n  mutation CreateEquimentOut($data: EquimentOutInput!) {\n    createEquimentOut(data: $data) {\n      _id\n    }\n  }\n`;\n\nexport const UPDATE_EQUIMENT_OUT = gql`\n  mutation UpdateEquimentOut(\n    $data: EquimentOutInput!\n    $where: EquimentOutWhereInputOne\n  ) {\n    updateEquimentOut(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\nexport const QUERY_EQUIMENT_OUT = gql`\n  query EquimentOuts(\n    $where: EquimentOutWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n    $noLimit: Boolean\n  ) {\n    equimentOuts(\n      where: $where\n      orderBy: $orderBy\n      skip: $skip\n      limit: $limit\n      noLimit: $noLimit\n    ) {\n      total\n      data {\n        _id\n        outTotal\n        transactionDate\n        createdAt\n        price\n        finalPrice\n        details\n        status\n        billEquiment {\n          _id\n          billNo\n          details\n          status\n        }\n        house {\n          _id\n          houseName\n          contactPhone\n        }\n        equmentID {\n          _id\n          title\n          price\n        }\n        createdBy {\n          _id\n          firstName\n        }\n      }\n    }\n  }\n`;\n\nexport const EDIT_BILL = gql`\n  mutation UpdateBillEquiment(\n    $data: BillEquimentInput!\n    $where: BillEquimentWhereInputOne\n  ) {\n    updateBillEquiment(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getLocalHouse } from \"..\";\n\nconst QUERY = gql`\n  query EquimentTypes($where: EquimentTypeWhereInput) {\n    equimentTypes(where: $where) {\n      data {\n        title\n        _id\n      }\n    }\n  }\n`;\nexport default function SelectEquimentType({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  // const [fetchData, { data, loading }] = useLazyQuery(QUERY);\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(QUERY, {\n    fetchPolicy: \"network-only\",\n  });\n  const [localHouse, setLocalHouse] = useState(\"\");\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          house: localHouse,\n        },\n      },\n    });\n  }, [localHouse]);\n\n  useEffect(() => {\n    const results = data?.equimentTypes?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.title,\n        };\n        return object;\n      });\n      setItems(_results);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n\n  return (\n    <div style={{ width: \"100%\", color: \"black\", fontSize: 16 }}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກຫມວດຊັບສິນ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport {\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  toDay,\n} from \"../../../../helper\";\n\nimport { ADD_EQUIMENT } from \"./apollo\";\nimport Notiflix from \"notiflix\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport SelectEquimentType from \"../../../../helper/components/SelectEquimentType\";\n\nexport default function AddData({ onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n  const [listEquimentType, setListEquimentType] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [addEquiment] = useMutation(ADD_EQUIMENT);\n  const [house, setHouse] = useState({});\n  const [today, setToday] = useState(toDay());\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n\n  const { handleChange, errors, values, handleSubmit, resetForm, isDisabled } =\n    useFormik({\n      initialValues: {\n        title: \"\",\n        receiptDate: \"\",\n        unit: \"\",\n        size: \"\",\n        price: \"\",\n        details: \"\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (!values.title) {\n          errors.title = \"ກະລຸນາປ້ອນຊື່ຊັບສິນ\";\n        }\n        if (!today) {\n          errors.receiptDate = \"error\";\n        }\n        if (!values.unit) {\n          errors.unit = \"ກະລຸນາປ້ອນຫົວຫນ່ວຍ\";\n        }\n        if (!listEquimentType?._id)\n          errors.equimentType = \"ກະລຸນາເລືອກຫມວດຊັບສິນ\";\n        if (!values.price) errors.price = \"ກະລຸນາປ້ອນລາຄາ\";\n        return errors;\n      },\n      onSubmit: async (values) => {\n        loadingScreen();\n        try {\n          const { data: updated } = await addEquiment({\n            variables: {\n              data: {\n                title: values?.title,\n                equimentType: String(listEquimentType?._id),\n                receiptDate: String(today),\n                unit: String(values?.unit),\n                size: String(values?.size),\n                price: parseInt(values?.price),\n                details: values?.details,\n                house: house?._id,\n              },\n            },\n          });\n          if (updated) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ບັນທືກສຳເລັດ\");\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n            setShow(false);\n            onSuccess();\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"ບັນທຶກບໍ່ສຳເລັດ\");\n          }\n        } catch (error) {\n          console.log(error);\n          Notiflix.Loading.remove();\n          messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n        }\n      },\n    });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"icon-plus-circle me-1\" /> ເພີ່ມຊັບສິນ\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header className=\"text-black\">\n          ເພີ່ມລາຍການຊັບສິນ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"form-row mt-1 mb-2\">\n            <label className=\"text-black\">ເລືອກຫມວດຊັບສິນ</label>\n            <div className=\"col-md-12\">\n              <SelectEquimentType\n                style={{ minWidth: 200 }}\n                value={listEquimentType?._id}\n                onChange={(obj) => {\n                  if (obj?._id) {\n                    setListEquimentType(obj);\n                  }\n                }}\n              />\n            </div>\n            <div className=\"text-danger\">{errors?.equimentType}</div>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    ຊື່ຊັບສິນ: \n                  </InputAdornment>\n                }\n                type=\"text\"\n                placeholder=\"...\"\n                name=\"title\"\n                value={values?.title}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.title}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n          <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    ຫົວຫນ່ວຍ: \n                  </InputAdornment>\n                }\n                type=\"text\"\n                placeholder=\"...\"\n                onWheel={(e) => e.target.blur()}\n                name=\"unit\"\n                value={values?.unit}\n                onChange={handleChange}\n              />\n              <div className=\"text-danger\">{errors.unit}</div>\n            </FormControl>\n          </div>\n          <div className=\"form-group mb-2\">\n             <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    ຂະນຫນາດ: \n                  </InputAdornment>\n                }\n                type=\"number\"\n                placeholder=\"...\"\n                onWheel={(e) => e.target.blur()}\n                name=\"size\"\n                value={values?.size}\n                onChange={handleChange}\n              />\n            </FormControl>\n          </div>\n          <div className=\"form-group mb-2\">\n            <TextField\n              label=\"ລາຄາ\"\n              variant=\"outlined\"\n              type=\"number\"\n              name=\"price\"\n              onWheel={(e) => e.target.blur()}\n              value={values?.price}\n              onChange={handleChange}\n              sx={{\n                m: 0,\n                width: \"100%\",\n                backgroundColor: \"#ffff\",\n              }}\n              error={errors.price}\n            />\n            <span className=\"text-danger\">{errors.price}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <TextField\n              label=\"ວັນທີ່\"\n              variant=\"outlined\"\n              type=\"date\"\n              name=\"receiptDate\"\n              value={formatDateDash(today)}\n              onChange={(e) => {\n                setToday(e.text.value);\n              }}\n              sx={{\n                m: 0,\n                width: \"100%\",\n                backgroundColor: \"#ffff\",\n              }}\n            />\n          </div>\n          <div className=\"form-group mt-1\">\n            <label>ລາຍລະອຽດ</label>\n            <textarea\n              type=\"text\"\n              className=\"form-control form-control-lg\"\n              placeholder=\"...\"\n              name=\"details\"\n              style={{ color: \"black\" }}\n              onChange={handleChange}\n            ></textarea>\n          </div>\n        </div>\n\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport {\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  toDay,\n} from \"../../../../helper\";\n\nimport { ADD_EQUIMENT, EDIT_EQUIMENT } from \"./apollo\";\nimport Notiflix from \"notiflix\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport SelectEquimentType from \"../../../../helper/components/SelectEquimentType\";\n\nexport default function EditData({ data, onSuccess }) {\n  const [show, setShow] = useState(false);\n  const [editEquiment] = useMutation(EDIT_EQUIMENT);\n  const userState = getStaffLogin();\n  const [listEquimentType, setListEquimentType] = useState(\"\");\n  const [house, setHouse] = useState({});\n  const [today, setToday] = useState(toDay());\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n\n  const {\n    handleChange,\n    errors,\n    values,\n    handleSubmit,\n    resetForm,\n    setFieldValue,\n    isDisabled,\n  } = useFormik({\n    initialValues: {\n      title: \"\",\n      receiptDate: \"\",\n      unit: \"\",\n      size: \"\",\n      price: \"\",\n      details: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!values.title) {\n        errors.title = \"ກະລຸນາປ້ອນຊື່ຊັບສິນ\";\n      }\n      if (!today) {\n        errors.receiptDate = \"error\";\n      }\n      if (!values.unit) {\n        errors.unit = \"ກະລຸນາປ້ອນຫົວຫນ່ວຍ\";\n      }\n      if (!listEquimentType?._id) errors.equimentType = \"ກະລຸນາເລືອກຫມວດຊັບສິນ\";\n      if (!values.price) errors.price = \"ກະລຸນາປ້ອນລາຄາ\";\n      return errors;\n    },\n    onSubmit: async (values) => {\n      loadingScreen();\n      try {\n        const { data: updated } = await editEquiment({\n          variables: {\n            data: {\n              title: values?.title,\n              equimentType: String(listEquimentType?._id),\n              receiptDate: today,\n              unit: String(values?.unit),\n              size: String(values?.size),\n              price: parseInt(values?.price),\n              details: values?.details,\n              total: 0,\n            },\n            where: {\n              _id: data?._id,\n            },\n          },\n        });\n        if (updated) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ບັນທືກສຳເລັດ\");\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            window.scrollTo(0, 0);\n          }, 100);\n          setShow(false);\n          onSuccess();\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"ບັນທຶກບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        console.log(error);\n        Notiflix.Loading.remove();\n        messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n      }\n    },\n  });\n\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    setListEquimentType(data?.equimentType);\n    setFieldValue(\"title\", data?.title ? data?.title : \"\", false);\n    setFieldValue(\"unit\", data?.unit ? data?.unit : \"\", false);\n    setFieldValue(\"size\", data?.size ? data?.size : \"\", false);\n    setFieldValue(\"price\", data?.price ? data?.price : \"\", false);\n    setFieldValue(\"details\", data?.details ? data?.details : \"\", false);\n    setToday(formatDateDash(data?.receiptDate));\n  }, [data, show]);\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-sm\"\n        onClick={(e) => {\n          e.stopPropagation();\n          setShow(true);\n        }}\n        // onClick={() => setShow(true)}\n      >\n        <i className=\"fas fa-edit me-1\" />\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header className=\"text-black\">\n          ແກ້ໄຂຂໍ້ມູນຊັບສິນ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={(e) => {\n              e.stopPropagation();\n              setShow(false);\n            }}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"form-row mt-1 mb-2\">\n            <SelectEquimentType\n              style={{ minWidth: \"100%\" }}\n              value={listEquimentType?._id}\n              onChange={(obj) => {\n                if (obj?._id) {\n                  setListEquimentType(obj);\n                }\n              }}\n            />\n            <div className=\"text-danger fs-4\">{errors?.equimentType}</div>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ຊື່ຊັບສິນ:</InputAdornment>\n                }\n                type=\"text\"\n                placeholder=\"...\"\n                name=\"title\"\n                value={values?.title}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.title}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ຫົວຫນ່ວຍ:</InputAdornment>\n                }\n                type=\"text\"\n                placeholder=\"...\"\n                onWheel={(e) => e.target.blur()}\n                name=\"unit\"\n                value={values?.unit}\n                onChange={handleChange}\n              />\n              <div className=\"text-danger\">{errors.unit}</div>\n            </FormControl>\n          </div>\n          <div className=\"form-group mb-2\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ຂະນຫນາດ:</InputAdornment>\n                }\n                type=\"number\"\n                placeholder=\"...\"\n                onWheel={(e) => e.target.blur()}\n                name=\"size\"\n                value={values?.size}\n                onChange={handleChange}\n              />\n            </FormControl>\n          </div>\n          <div className=\"form-group mb-2\">\n            <TextField\n              label=\"ລາຄາ\"\n              variant=\"outlined\"\n              type=\"number\"\n              name=\"price\"\n              onWheel={(e) => e.target.blur()}\n              value={values?.price}\n              onChange={handleChange}\n              sx={{\n                m: 0,\n                width: \"100%\",\n                backgroundColor: \"#ffff\",\n              }}\n              error={errors.price}\n            />\n            <span className=\"text-danger\">{errors.price}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <TextField\n              label=\"ວັນທີ່\"\n              variant=\"outlined\"\n              type=\"date\"\n              name=\"receiptDate\"\n              value={formatDateDash(today)}\n              onChange={(e) => {\n                setToday(e.text.value);\n              }}\n              sx={{\n                m: 0,\n                width: \"100%\",\n                backgroundColor: \"#ffff\",\n              }}\n            />\n          </div>\n          <div className=\"form-group mt-1\">\n            <label>ລາຍລະອຽດ</label>\n            <textarea\n              type=\"text\"\n              className=\"form-control form-control-lg\"\n              placeholder=\"...\"\n              name=\"details\"\n              style={{ color: \"black\" }}\n              onChange={handleChange}\n            ></textarea>\n          </div>\n        </div>\n\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import { useLazyQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport {\n  currency,\n  formatDateDash,\n  loadingData,\n  paiStatus,\n} from \"../../../../helper\";\nimport { QUERY_EQUIMENT } from \"./apollo\";\nexport default function Detail({ _id, onHide }) {\n  const [show, setShow] = useState(false);\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_EQUIMENT, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    if (_id) {\n      fetchData({\n        variables: {\n          where: {\n            _id: _id,\n          },\n        },\n      });\n      setShow(true);\n    }\n  }, [_id]);\n  return (\n    <>\n      <Modal\n        onHide={(e) => {\n          setShow(false);\n          if (onHide) onHide(e);\n        }}\n        show={show}\n        className=\"modal action-sheet\"\n        role=\"dialog\"\n      >\n        <Modal.Header style={{ marginTop: -20 }}>\n          <Modal.Title>ຂໍ້ມູນຫ້ອງ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"p-2  mr-4\">\n          <div className=\"text-center\">{loading && loadingData(25)}</div>\n          {setData?.bookings?.total > 0 ? (\n            <>\n              {setData?.bookings?.data?.map((data, index) => (\n                <>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຫ້ອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.room?.title_lao}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ກິດຈະການ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.house?.houseName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊື່ລູກຄ້າ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.customer?.fullName}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ເວລາຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {data?.bookTime}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ວັນທີຈອງ</span>\n                    <span className=\"text-black text-end\">\n                      {formatDateDash(data?.bookDate)}\n                    </span>\n                    <br />\n                  </div>\n\n                  {data?.bookingType === \"FULL\" ? (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຈຳນວນມື້</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\" bill-item-list pt-2\" id=\"border\">\n                        <span>ຊົ່ວໂມພັກ</span>\n                        <span className=\"text-black text-end\">\n                          {currency(data?.inTime ? data?.inTime : 0)}\n                        </span>\n                        <br />\n                      </div>\n                    </>\n                  )}\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຄ້າງຄືນ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.fullPriceTotal ? data?.fullPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ພັກຊົ່ວຄາວ</span>\n                    <span className=\"text-black text-end\">\n                      {currency(data?.halfPriceTotal ? data?.halfPriceTotal : 0)}\n                    </span>\n                    <br />\n                  </div>\n                  <div className=\" bill-item-list pt-2\" id=\"border\">\n                    <span>ຊຳລະ</span>\n                    <span className=\"text-black text-end\">\n                      {paiStatus(data?.paidStatus)}\n                    </span>\n                    <br />\n                  </div>\n                </>\n              ))}\n            </>\n          ) : (\n            <>\n              <p className=\"text-danger\">ບໍ່ມີຂໍ້ມູນ</p>\n            </>\n          )}\n        </Modal.Body>\n        <button\n          className=\"btn text-white me-1 border-top btn-primary\"\n          onClick={(e) => {\n            setShow(false);\n            if (onHide) onHide(e);\n          }}\n        >\n          <i className=\"icon-close mr-1 text-white\" />\n          ປິດ\n        </button>\n      </Modal>\n    </>\n  );\n}\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getLocalHouse } from \"..\";\n\nconst QUERY = gql`\n  query EquimentTypes($where: EquimentTypeWhereInput) {\n    equimentTypes(where: $where) {\n      data {\n        title\n        _id\n      }\n    }\n  }\n`;\nexport default function SearchEquimentType({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  // const [fetchData, { data, loading }] = useLazyQuery(QUERY);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(QUERY, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          house: localHouse?._id,\n        },\n      },\n    });\n  }, [localHouse]);\n\n  useEffect(() => {\n    const results = data?.equimentTypes?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.title,\n        };\n        return object;\n      });\n      setItems([{ value: \"\", label: \"ທັງຫມົດ\" }, ..._results]);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n\n  return (\n    <div style={{ minWidth: 200, color: \"black\", fontSize: 16 }}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກຫມວດຊັບສິນ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport {\n  currency,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  toDay,\n} from \"../../../../helper\";\n\nimport {\n  CREATE_ORDER_OUT,\n  EDIT_EQUIMENT,\n  QUERY_BILL,\n  QUERY_EQUIMENT,\n} from \"./apollo\";\nimport Notiflix from \"notiflix\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nexport default function CheckOutOrder({ getBillId, getData, onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n  const [listEquimentType, setListEquimentType] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [createData] = useMutation(CREATE_ORDER_OUT);\n  const [editEq] = useMutation(EDIT_EQUIMENT);\n  const [house, setHouse] = useState({});\n  const [today, setToday] = useState(toDay());\n  const [listPice, serPrice] = useState(0);\n  const [getTotal, setTotal] = useState();\n  const [listBill, setBillNo] = useState();\n\n  const [inputTotal, setInputTotal] = useState();\n\n  const [queryBill, { data: setDataBill, loading: loadingBill }] = useLazyQuery(\n    QUERY_BILL,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  const [queryStockId, { data: setDataId, loading: loadingId }] = useLazyQuery(\n    QUERY_EQUIMENT,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n\n  useEffect(() => {\n    if (getBillId === 1) {\n      return;\n    }\n    queryBill({\n      variables: {\n        where: {\n          _id: getBillId,\n        },\n        orderBy: \"createdAt_DESC\",\n        limit: 1,\n      },\n    });\n  }, [getBillId]);\n  useEffect(() => {\n    setBillNo(setDataBill?.billEquiment?.data[0]);\n  }, [setDataBill]);\n\n  const finalTotal = parseInt(getTotal) - parseInt(inputTotal);\n  const finalPrice = parseInt(inputTotal) * parseInt(listPice);\n\n  const {\n    handleChange,\n    errors,\n    values,\n    handleSubmit,\n    setFieldValue,\n    resetForm,\n    isDisabled,\n  } = useFormik({\n    initialValues: {\n      outTotal: parseInt(0),\n      price: \"\",\n      details: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!inputTotal) {\n        errors.outTotal = \"ກະລຸນາປ້ອນຈຳນວນ\";\n      }\n      if (inputTotal <= 0) {\n        errors.outTotal = \"ກະລຸນາປ້ອນຈຳນວນເບີກຕ້ອງຫລາຍກວ່າ 0\";\n      }\n      return errors;\n    },\n    onSubmit: async (values) => {\n      if (getTotal < inputTotal) {\n        return messageWarning(\"ຊັບສິກບໍພຽງພໍທີ່ຈະເບິກ❗\");\n      }\n      if (listBill?.status === \"FULL\") {\n        return messageWarning(\"ບິນນີ້ບໍມີໃນລະບົບ ກະລຸນາສ້າງບິນເບີກກ່ອນ\");\n      }\n      loadingScreen();\n      try {\n        const { data: updated } = await createData({\n          variables: {\n            data: {\n              outTotal: parseInt(inputTotal),\n              price: parseInt(listPice),\n              status: \"GETIN\",\n              house: house?._id,\n              details: values?.details,\n              finalPrice: parseInt(finalPrice),\n              billEquiment: getBillId,\n              equmentID: getData?._id,\n            },\n          },\n        });\n        if (updated) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ບັນທືກສຳເລັດ\");\n          updateEqTotal();\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            window.scrollTo(0, 0);\n          }, 100);\n          setShow(false);\n          setInputTotal(\"\");\n          onSuccess();\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"ບັນທຶກບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        console.log(error);\n        Notiflix.Loading.remove();\n        messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n      }\n    },\n  });\n  // update ຈຳນວນຊັບສິນ\n  const updateEqTotal = async () => {\n    try {\n      const { data: _update } = await editEq({\n        variables: {\n          data: {\n            total: parseInt(finalTotal),\n          },\n          where: {\n            _id: getData?._id,\n          },\n        },\n      });\n      if (_update) {\n      } else {\n        messageError(\"ອັບເດດບໍ່ສຳເລັດ\");\n      }\n    } catch (error) {\n      Notiflix.Loading.remove();\n      messageError(\"ມີຂໍ້ຜິດພາດເກີດຂື້ນ\");\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    setFieldValue(\"title\", getData?.title ? getData?.title : \"\", false);\n    serPrice(getData?.price ? getData?.price : 0);\n    setTotal(getData?.total ? getData?.total : 0);\n  }, [show]);\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg text-success\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"fa fa-cart-plus me-1\" /> ເບີກຊັບສິນ\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header className=\"text-black\">\n          ເບີກຊັບສິນ{\" \"}\n          <b className=\"fs-4\">\n            ເລກບິນ: {setDataBill?.billEquiment?.data[0]?.billNo}\n          </b>\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ຊື່ຊັບສິນ:</InputAdornment>\n                }\n                type=\"text\"\n                name=\"title\"\n                value={values?.title}\n                disabled={true}\n                style={{ backgroundColor: \"#edece8\" }}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.title}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ຍອດຄົງເຫລືອ:</InputAdornment>\n                }\n                type=\"text\"\n                name=\"total\"\n                value={currency(getTotal)}\n                style={{ backgroundColor: \"#edece8\" }}\n              />\n            </FormControl>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ລາຄາ/ອັນ:</InputAdornment>\n                }\n                type=\"text\"\n                placeholder=\"...\"\n                value={currency(listPice)}\n                style={{ backgroundColor: \"#edece8\" }}\n              />\n            </FormControl>\n          </div>{\" \"}\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ຈຳນວນເບີກ:</InputAdornment>\n                }\n                type=\"number\"\n                placeholder=\"...\"\n                onWheel={(e) => e.target.blur()}\n                name=\"outTotal\"\n                value={inputTotal}\n                onChange={(e) => {\n                  setInputTotal(e.target.value);\n                }}\n                error={errors.outTotal}\n              />\n              <div className=\"text-danger\">{errors.outTotal}</div>\n            </FormControl>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ລວມຍອດເບີກ:</InputAdornment>\n                }\n                type=\"text\"\n                value={currency(finalPrice ? finalPrice : 0)}\n                style={{ backgroundColor: \"#edece8\" }}\n              />\n            </FormControl>\n          </div>\n          <div className=\"form-group mb-1\">\n            <label>ຄຳອະທິບາຍ</label>\n            <textarea\n              type=\"text\"\n              row={3}\n              name=\"details\"\n              onChange={handleChange}\n              placeholder=\"...\"\n              className=\"form-control form-control-lg\"\n            ></textarea>\n          </div>\n        </div>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { Modal, Row } from \"react-bootstrap\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  currency,\n  formatDateDash,\n  formatDateTime,\n  formateDateSlash,\n  houseStatus,\n  messageError,\n  messageSuccess,\n} from \"../../../../helper\";\nimport Notiflix from \"notiflix\";\nimport { UPDATE_EQUIMENT_OUT } from \"./apollo\";\nimport { getStaffLogin } from \"../../../../helper\";\nfunction Export({ _data }) {\n  const jsonObj = getStaffLogin();\n  const { history, location, match } = useReactRouter();\n  const queryParams = new URLSearchParams(location.search);\n  const userInfo = jsonObj?.data;\n  const inputRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => inputRef.current,\n  });\n  let today = moment().format(\"YYYY-MM-DD\");\n  const [show, setShow] = useState(false);\n  const [listData, setData] = useState(\"\");\n  const [list, setDataList] = useState(\"\");\n\n  const SumMoney = {\n    outTotal: _.sumBy(_data?.equimentOuts?.data, \"outTotal\"),\n    finalPrice: _.sumBy(_data?.equimentOuts?.data, \"finalPrice\"),\n  };\n\n\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    setData(_data?.equimentOuts);\n    setDataList(_data?.equimentOuts?.data[0]);\n  }, [_data, show]);\n\n  return (\n    <React.Fragment>\n      <button\n        className=\"col-6  btn-primary mt-2 ms-3\"\n        onClick={(e) => {\n          setShow(true);\n        }}\n      >\n        <b className=\"text-white\">\n          <i className=\"fas fa-print me-1 pt-1\" />\n          ພີມໃບເບິກ\n        </b>\n      </button>\n      <Modal\n        show={show}\n        onHide={() => setShow(false)}\n        animation={false}\n        size=\"xl\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title className=\"primary\">ພີມລາຍການທັງໝົດ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Row>\n            <div className=\"col-md-12 \">\n              <button\n                onClick={handlePrint}\n                type=\"button\"\n                className=\"btn btn-dark me-2 float-start\"\n              >\n                <i className=\"icon-print mr-1\"></i> ພິມລາຍງານ\n              </button>\n            </div>\n          </Row>\n          <div style={{ paddingBottom: \"10px\" }} />\n          <div className=\"table-responsive\">\n            <table\n              className=\"table-sm\"\n              border=\"0\"\n              style={{\n                width: \"100%\",\n                height: \"100%\",\n                fontFamily: \"Phetsarath OT\",\n                backgroundColor: \"#ffffff\",\n              }}\n              ref={inputRef}\n            >\n              <thead>\n                <tr>\n                  <td colSpan={6} style={{ textAlign: \"left\", color: \"black\" }}>\n                    <img\n                      // src={logo}\n                      style={{\n                        width: 150,\n                        marginBottom: 1,\n                        marginTop: 20,\n                      }}\n                      alt=\"\"\n                      id=\"table-to-xls\"\n                    />\n                    <br />\n                    ຊື່ກິດຈະການ:{\" \"}\n                    {_data?.equimentOuts?.data[0]?.house?.houseName}\n                    <br />\n                    ໂທ: {_data?.equimentOuts?.data[0]?.house?.contactPhone}\n                  </td>\n                  <td className=\"text-end text-black mt-2\">\n                    ວັນທີ:{formateDateSlash(today)}\n                    <br />\n                    ບິນເລກທີ: {list?.billEquiment?.billNo}\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={8}>\n                    <h3 className=\"text-center\">\n                      <u className=\"fw-bold\">ລາຍການເບີກຊັບສິນ</u>\n                      <br />[ {list?.billEquiment?.details} ]\n                    </h3>\n                    <span className=\"text-center text-black\">\n                      ພີມໂດຍ: {userInfo?.firstName ? userInfo?.firstName : \"\"}{\" \"}\n                      {userInfo?.lastName ? userInfo?.lastName : \"\"}\n                    </span>\n                  </td>\n                </tr>\n                <tr style={{ backgroundColor: \"#f54f02\", color: \"white\" }}>\n                  <td className=\"border text-nowrap\">ລຳດັບ</td>\n                  <td className=\"border text-center\">ເບີກວັນທີ່</td>\n                  <td className=\"border text-nowrap\">ລາຍການ</td>\n                  <td className=\"border text-nowrap\">ຄຳອະທິບາຍ</td>\n                  <td className=\"text-end text-nowrap\">ຈຳນວນ</td>\n                  <td className=\"text-end text-nowrap\">ລາຄາ/ອັນ</td>\n                  <td className=\"text-end text-nowrap\">ລວມ</td>\n                </tr>\n              </thead>\n              <tbody>\n                {listData?.data?.map((data, index) => (\n                  <tr key={index}>\n                    <td className=\"text-start border text-black\">\n                      {index + 1}\n                    </td>\n                    <td className=\"border text-black text-center\">\n                      {data?.createdAt ? formatDateDash(data?.createdAt) : \"-\"}\n                    </td>\n\n                    <td className=\" border  text-black\">\n                      {data?.equmentID?.title ? data?.equmentID?.title : \"-\"}\n                    </td>\n                    <td className=\" border  text-black\">\n                      {data?.details ? data?.details : \"-\"}\n                    </td>\n                    <td className=\"text-nowrap border text-end text-black\">\n                      {currency(data?.outTotal ? data?.outTotal : 0)}\n                    </td>\n                    <td className=\"text-nowrap border text-end text-black\">\n                      {currency(data?.price ? data?.price : 0)}\n                    </td>\n                    <td className=\"text-nowrap border text-end text-black\">\n                      {currency(\n                        parseInt(data?.outTotal ? data?.outTotal : 0) *\n                          parseInt(data?.price ? data?.price : 0)\n                      )}\n                    </td>\n                  </tr>\n                ))}\n                <tr style={{ backgroundColor: \"#fafafa\" }}>\n                  <td colSpan={4} className=\"border\">\n                    <h3 className=\"text-center\">ລວມ:</h3>\n                  </td>\n                  <td className=\"border text-end\">\n                    <h3>\n                      {SumMoney?.outTotal ? currency(SumMoney?.outTotal) : 0}\n                    </h3>\n                  </td>\n                  <td className=\"border text-end\" colSpan={2}>\n                    <h3>{SumMoney?.finalPrice ? currency(SumMoney?.finalPrice) : 0}</h3>\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={4} className=\" text-center p-4\">\n                    <h4 className=\"text-center\">ເຊັນຜູ້ກວດສອບ</h4>\n                  </td>\n                  <td className=\" text-center p-4\" colSpan={3}>\n                    <h4>ພະນັກງານ</h4>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </Modal.Body>\n      </Modal>\n    </React.Fragment>\n  );\n}\nexport default Export;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  currency,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  loadingScreen,\n  messageConfirm,\n  messageError,\n  messageSuccess,\n} from \"../../../../helper\";\nimport { EDIT_BILL, QUERY_EQUIMENT_OUT, UPDATE_EQUIMENT_OUT } from \"./apollo\";\nimport { Table } from \"react-bootstrap\";\nimport Notiflix from \"notiflix\";\nimport Export from \"./Export\";\nimport _ from \"lodash\";\nimport { TAB_EQUIMENT } from \"../../../../routes/app\";\n\nexport default function ListEquimentOut({ onSuccess }) {\n  const { history, location, match } = useReactRouter();\n  const jsonObj = getStaffLogin();\n  const userInfo = jsonObj?.data;\n  const numberPage = match?.params?.page;\n  // get query search\n  const query = new URLSearchParams(location.search);\n  const rows = parseInt(query.get(\"rows\"));\n  const [numberRows, setNumberRows] = useState(rows ? rows : ITEM_PER_PAGE);\n  const [searchValue, setSearchValue] = useState();\n  const [updateEquimentOut] = useMutation(UPDATE_EQUIMENT_OUT);\n  const [updateBill] = useMutation(EDIT_BILL);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [newLoadData, setLoadData] = useState(false);\n  const [listData, setDataList] = useState();\n\n  const [queryOut, { data: setData, loading }] = useLazyQuery(\n    QUERY_EQUIMENT_OUT,\n    { fetchPolicy: \"cache-and-network\" }\n  );\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    queryOut({\n      variables: {\n        where: {\n          createdBy: userInfo?._id,\n          house: localHouse,\n          status: \"GETIN\",\n        },\n        limit: searchValue ? 1000 : numberRows,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [localHouse, onSuccess, newLoadData]);\n\n  useEffect(() => {\n    setDataList(setData?.equimentOuts?.data[0]);\n  }, [setData, onSuccess, newLoadData]);\n\n  const sumTotal = {\n    outTotal: _.sumBy(setData?.equimentOuts?.data, \"outTotal\"),\n    finalPrice: _.sumBy(setData?.equimentOuts?.data, \"finalPrice\"),\n  };\n\n  const upDataBill = async () => {\n    try {\n      const _data = setData?.equimentOuts?.data;\n      for (const item of _data) {\n        await updateBill({\n          variables: {\n            data: {\n              status: \"FULL\",\n            },\n            where: {\n              _id: listData?.billEquiment?._id,\n            },\n          },\n        });\n      }\n    } catch (error) {\n      console.log(error);\n      Notiflix.Loading.remove();\n      messageError(\"ມີຂໍ້ຜິດພາດ\");\n    }\n  };\n\n  const closeBill = () => {\n    messageConfirm(\"ທ່ານຕ້ອງການປິດ ແທ້ ຫຼື ບໍ່?\", async () => {\n      loadingScreen();\n      try {\n        const _data = setData?.equimentOuts?.data;\n        for (const item of _data) {\n          await updateEquimentOut({\n            variables: {\n              data: {\n                status: \"CLOSE\",\n              },\n              where: {\n                _id: item?._id,\n              },\n            },\n          });\n        }\n        Notiflix.Loading.remove();\n        upDataBill();\n        messageSuccess(\"ປິດບິນສຳເລັັດ\");\n        history.push(`${TAB_EQUIMENT}/Type?tab=equiment`);\n        setLoadData(!newLoadData);\n      } catch (error) {\n        console.log(error);\n        Notiflix.Loading.remove();\n        messageError(\"ມີຂໍ້ຜິດພາດ\");\n      }\n    });\n  };\n  return (\n    <>\n      <div className=\"col-md-4\">\n        <div className=\"border  mt-4 mt-lg-0 rounded\">\n          {setData?.equimentOuts?.total > 0 ? (\n            <>\n              <table className=\"table table-bordered table-sm mb-0 text-black\">\n                <thead className=\"table-light\">\n                  <tr>\n                    <th>#</th>\n                    <th className=\"text-nowrap\">ລາຍການ</th>\n                    <th className=\"text-nowrap text-end\">ຈຳນວນ</th>\n                    <th className=\"text-nowrap text-end\">ລາຄາ/ອັນ</th>\n                    <th className=\"text-nowrap text-end\">ລວມ</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {setData?.equimentOuts?.data?.map((data, index) => (\n                    <>\n                      <tr key={index}>\n                        <td>{index + 1}</td>\n                        <td className=\"text-nowrap text-start\">\n                          {data?.equmentID?.title}\n                        </td>\n                        <td className=\"text-end text-nowrap\">\n                          {currency(data?.outTotal ? data?.outTotal : 0)}\n                        </td>\n                        <td className=\"text-end text-nowrap\">\n                          {currency(data?.price ? data?.price : 0)}\n                        </td>\n                        <td className=\"text-end text-nowrap\">\n                          {currency(\n                            parseInt(data?.outTotal ? data?.outTotal : 0) *\n                              parseInt(data?.price ? data?.price : 0)\n                          )}\n                        </td>\n                      </tr>\n                    </>\n                  ))}\n                  <tr style={{ backgroundColor: \"#fafafa\" }}>\n                    <td className=\" text-center fs-5\" colSpan={3}>\n                      ລວມທັງຫມົດ :\n                    </td>\n                    <td className=\"text-end fs-5\">\n                      {currency(sumTotal?.outTotal ? sumTotal?.outTotal : 0)}\n                    </td>\n                    <td className=\"text-end fs-5\">\n                      {currency(\n                        sumTotal?.finalPrice ? sumTotal?.finalPrice : 0\n                      )}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div className=\"row\">\n                <Export _data={setData} />\n                <button\n                  className=\"col-5 btn-primary text-center mt-2 bg-danger\"\n                  onClick={(e) => {\n                    closeBill();\n                  }}\n                >\n                  <b className=\"text-white\">\n                    <i class=\"fa-solid fa-power-off me-1  p-1\" />\n                    ປິດໃບເບີກນີ້\n                  </b>\n                </button>\n              </div>\n            </>\n          ) : (\n            <>\n              <b className=\"text-primary text-center\">ບໍ່ມີຂໍ້ມູນເບີກຊັບສິນ</b>\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport {\r\n  currency,\r\n  equimentStatus,\r\n  formatDateDash,\r\n  getLocalHouse,\r\n  getStaffLogin,\r\n  ITEM_PER_PAGE,\r\n  loadingData,\r\n  loadingScreen,\r\n  messageConfirm,\r\n  messageError,\r\n  messageSuccess,\r\n  messageWarning,\r\n  setParams,\r\n} from \"../../../../helper\";\r\nimport {\r\n  CREATE_TYPE,\r\n  DELETE_EQUIMENT,\r\n  QUERY_EQUIMENT,\r\n  EDIT_EQUIMENT,\r\n  QUERY_BILL,\r\n  CREATE_EQUIMENT_OUT,\r\n} from \"./apollo\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Notiflix from \"notiflix\";\r\nimport Pagination from \"../../../../helper/controllers/Pagination\";\r\nimport LimitData from \"../../../../helper/controllers/LimitData\";\r\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\r\nimport NoData from \"../../../../helper/components/NoData\";\r\nimport AddData from \"./AddData\";\r\nimport EditData from \"./EditData\";\r\nimport Detail from \"./Detail\";\r\nimport { OTHER, TAB_EQUIMENT } from \"../../../../routes/app\";\r\nimport _ from \"lodash\";\r\nimport SearchEquimentType from \"../../../../helper/components/SearchEquimentType\";\r\nimport CheckOutOrder from \"./CheckOutOrder\";\r\nimport ListEquimentOut from \"./ListEquimentOut\";\r\nexport default function EquiMent() {\r\n  const { history, location, match } = useReactRouter();\r\n  const getId = match?.params?._id;\r\n  const jsonObj = getStaffLogin();\r\n  const userInfo = jsonObj?.data;\r\n  // get query search\r\n  const query = new URLSearchParams(location.search);\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [numberRow, setNumberRow] = useState(100);\r\n  const [searchValue, setSearchValue] = useState();\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const [localHouse, setLocalHouse] = useState(\"\");\r\n  const [detail, setDetail] = useState();\r\n\r\n  // end\r\n  const [listEquimentType, setListEquimentType] = useState(\"\");\r\n  const [queryType, { data: setData, loading }] = useLazyQuery(QUERY_EQUIMENT, {\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n\r\n  const [deleteEquiment] = useMutation(DELETE_EQUIMENT);\r\n  const [upDateStock] = useMutation(EDIT_EQUIMENT);\r\n\r\n  useEffect(() => {\r\n    setLocalHouse(getLocalHouse());\r\n  }, []);\r\n  useEffect(() => {\r\n    queryType({\r\n      variables: {\r\n        where: {\r\n          title: searchValue,\r\n          house: localHouse?._id,\r\n          equimentType: listEquimentType?._id\r\n            ? listEquimentType?._id\r\n            : undefined,\r\n        },\r\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\r\n        limit: searchValue ? 1000 : numberRow,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [\r\n    numberRow,\r\n    searchValue,\r\n    numberPage,\r\n    reloadData,\r\n    localHouse,\r\n    listEquimentType,\r\n  ]);\r\n  //pageination\r\n  const countData = setData?.equiments?.total;\r\n  const countPage = [];\r\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\r\n    countPage.push(i);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const page = query.get(\"page\");\r\n    if (page) {\r\n      setNumberPage(parseInt(page));\r\n    } else {\r\n      setNumberRow(100);\r\n    }\r\n  }, [query]);\r\n\r\n  const NO = (index) => {\r\n    const no = numberRow * numberPage - numberRow;\r\n    if (numberRow > 0) {\r\n      return no + index + 1;\r\n    } else {\r\n      return index + 1;\r\n    }\r\n  };\r\n  const _delete = (id) => {\r\n    messageConfirm(\"ທ່ານຕ້ອລືບ ແທ້ ຫຼື ບໍ່?\", async () => {\r\n      loadingScreen();\r\n      try {\r\n        const { data: _deleteData } = await deleteEquiment({\r\n          variables: {\r\n            where: {\r\n              _id: id,\r\n            },\r\n          },\r\n        });\r\n        if (_deleteData) {\r\n          Notiflix.Loading.remove();\r\n          messageSuccess(\"ລືບຂໍ້ມູນສຳເລັດແລ້ວ\");\r\n          setReloadData(!reloadData);\r\n        } else {\r\n          messageError(\"ລືບຂໍ້ມູນບໍ່ສຳເລັດ\");\r\n        }\r\n      } catch (error) {\r\n        Notiflix.Loading.remove();\r\n        messageError(\"ລືບຂໍ້ມູນຜິດພາດ\");\r\n        console.log(error);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: -90 }}>\r\n        <div id=\"appCapsule\">\r\n          <div className=\"justify-content-md-center\">\r\n            <div className=\"appHeader text-light border-0\">\r\n              <div style={{ flex: 1 }} className=\"text-left\">\r\n                {getId >= 2 ? (\r\n                  <button\r\n                    className=\"btn text-white\"\r\n                    onClick={() =>\r\n                      history.push(`/other/equiment/Type?tab=equiment`)\r\n                    }\r\n                  >\r\n                    <i className=\"fa fa-chevron-left fs-4\" />\r\n                  </button>\r\n                ) : (\r\n                  <>\r\n                    <button\r\n                      className=\"btn text-white\"\r\n                      onClick={() => history.push(OTHER)}\r\n                    >\r\n                      <i className=\"fa fa-chevron-left fs-4\" />\r\n                    </button>\r\n                  </>\r\n                )}\r\n              </div>\r\n              {getId >= 2 ? <>ເບິກຊັບສິນ</> : <>\r\n              {localHouse?.houseName ? localHouse?.houseName : \"ລາຍງານຂໍ້ມູນ\"}</>}\r\n\r\n              <div\r\n                className=\"text-white pageTitle text-right text-nowrap pr-0\"\r\n                style={{ flex: 1 }}\r\n              >\r\n                <button\r\n                  className=\"btn text-white mr-0\"\r\n                  onClick={() => setReloadData(!reloadData)}\r\n                >\r\n                  {loading ? (\r\n                    loadingData(23)\r\n                  ) : (\r\n                    <i className=\"icon-cycle fs-4\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <br />\r\n            <br />\r\n            <div className=\"section  mb-2 mt-5\">\r\n              <div className=\"transactions row\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 w-100\">\r\n                    <div className=\"mb-1\">\r\n                      <SearchEquimentType\r\n                        style={{ minWidth: 200 }}\r\n                        value={listEquimentType?._id}\r\n                        onChange={(obj) => {\r\n                          setListEquimentType(obj);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <FormControl fullWidth sx={{ m: 0 }}>\r\n                      <OutlinedInput\r\n                        startAdornment={\r\n                          <InputAdornment position=\"start\">\r\n                            <i className=\"fa-solid fa-magnifying-glass\" />\r\n                          </InputAdornment>\r\n                        }\r\n                        type=\"search\"\r\n                        placeholder=\"ຄັ້ນຫາ\"\r\n                        onChange={(e) => setSearchValue(e.target.value)}\r\n                      />\r\n                    </FormControl>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  {loading ? loadingData(25) : \"\"}\r\n                </div>\r\n                <div className=\"col-lg-8\">\r\n                  {setData?.equiments?.total > 0 ? (\r\n                    <>\r\n                      <span className=\"text-center mb-2\">\r\n                        {loading ? loadingData(25) : \"\"}\r\n                      </span>\r\n                      <div className=\"table-responsive mt-2 \">\r\n                        <table className=\"table table-sm mb-0\">\r\n                          <thead>\r\n                            <tr>\r\n                              <th>#</th>\r\n                              <th className=\"text-nowrap\">ຊື່ຊັບສິນ</th>\r\n                              <th className=\"text-nowrap\">ວັນທີ່</th>\r\n                              <th className=\"text-nowrap text-end\">ຈຳນວນ</th>\r\n                              <th className=\"text-nowrap text-end\">ລາຄາ/ອັນ</th>\r\n                              <th className=\"text-nowrap text-end\">ລວມ</th>\r\n                              <th className=\"text-nowrap text-end\">ຈັດການ</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {setData?.equiments?.data?.map((data, index) => (\r\n                              <>\r\n                                <tr key={index} className=\"text-black\">\r\n                                  <td>{NO(index)}</td>\r\n                                  <td className=\"text-nowrap\">\r\n                                    {data?.title ? data?.title : \"-\"}\r\n                                  </td>\r\n                                  <td className=\"text-nowrap \">\r\n                                    {formatDateDash(data?.createdAt)}\r\n                                  </td>\r\n                                  <td className=\"text-end text-nowrap\">\r\n                                    {currency(data?.total ? data?.total : 0)}\r\n                                  </td>\r\n                                  <td className=\"text-end text-nowrap\">\r\n                                    {currency(data?.price ? data?.price : 0)}\r\n                                  </td>\r\n                                  <td className=\"text-end text-nowrap\">\r\n                                    {currency(\r\n                                      data?.total * parseInt(data?.price)\r\n                                    )}\r\n                                  </td>\r\n                                  {getId >= 2 ? (\r\n                                    <td className=\"text-nowrap text-end\">\r\n                                      <CheckOutOrder\r\n                                        getBillId={getId}\r\n                                        getData={data}\r\n                                        onSuccess={() => {\r\n                                          setReloadData(!reloadData);\r\n                                        }}\r\n                                      />\r\n                                    </td>\r\n                                  ) : (\r\n                                    <>\r\n                                      <td className=\"text-end text-nowrap\">\r\n                                        <EditData\r\n                                          data={data}\r\n                                          onSuccess={() => {\r\n                                            setReloadData(!reloadData);\r\n                                          }}\r\n                                        />\r\n                                        <button\r\n                                          className=\"btn btn-sm \"\r\n                                          onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            _delete(data?._id);\r\n                                          }}\r\n                                        >\r\n                                          <i className=\"fas fa-trash\" />\r\n                                        </button>\r\n                                      </td>\r\n                                    </>\r\n                                  )}\r\n                                </tr>\r\n                              </>\r\n                            ))}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <NoData loading={loading} />\r\n                  )}\r\n                  {setData?.equiments?.total > 100 && (\r\n                    <Pagination\r\n                      className=\"mt-2\"\r\n                      pageTotal={countPage}\r\n                      currentPage={numberPage}\r\n                      onPageChange={(page) => {\r\n                        history.push({\r\n                          search: setParams(`page`, page),\r\n                        });\r\n                      }}\r\n                    />\r\n                  )}\r\n                </div>\r\n                <ListEquimentOut\r\n                  onSuccess={(e) => {\r\n                    setReloadData(!reloadData);\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Detail _id={detail} onHide={() => setDetail()} />\r\n        </div>\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            bottom: 5,\r\n            backgroundColor: \"#edece8\",\r\n          }}\r\n          className=\"col-md-12 appBottomMenu\"\r\n        >\r\n          <AddData\r\n            onSuccess={(e) => {\r\n              setReloadData(!reloadData);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\nexport const ADD_EQUIMENT_STOCK = gql`\n  mutation CreateEquimentStock($data: EquimentStockInput!) {\n    createEquimentStock(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_EQUIMENT_STOCK = gql`\n  query EquimentStocks(\n    $noLimit: Boolean\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: EquimentStockWhereInput\n  ) {\n    equimentStocks(\n      noLimit: $noLimit\n      limit: $limit\n      skip: $skip\n      orderBy: $orderBy\n      where: $where\n    ) {\n      total\n      data {\n        _id\n        equmentID {\n          title\n          _id\n          price\n          unit\n        }\n        inTotal\n        outTotal\n        endTotal\n        transactionDate\n        createdAt\n      }\n    }\n  }\n`;\nexport const EDIT_EQUIMENT_STOCK = gql`\n  mutation UpdateEquimentStock(\n    $data: EquimentStockInput!\n    $where: EquimentStockWhereInputOne\n  ) {\n    updateEquimentStock(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n\nexport const DELETE_EQUIMENT_STOCK = gql`\n  mutation DeleteEquiment($where: EquimentWhereInputOne!) {\n    deleteEquiment(where: $where) {\n      _id\n    }\n  }\n`;\n\nexport const CREATE_EQUIMENT_OUT = gql`\n  mutation CreateEquimentOut($data: EquimentOutInput!) {\n    createEquimentOut(data: $data) {\n      _id\n    }\n  }\n`;\nexport const UPDATE_EQUIMENT_OUT = gql`\n  mutation UpdateEquimentOut(\n    $data: EquimentOutInput!\n    $where: EquimentOutWhereInputOne\n  ) {\n    updateEquimentOut(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n\nexport const QUERY_EQUIMENT_OUT = gql`\n  query EquimentOuts(\n    $where: EquimentOutWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n    $noLimit: Boolean\n  ) {\n    equimentOuts(\n      where: $where\n      orderBy: $orderBy\n      skip: $skip\n      limit: $limit\n      noLimit: $noLimit\n    ) {\n      total\n      data {\n        _id\n        outTotal\n        transactionDate\n        createdAt\n        price\n        status\n        billEquiment {\n          _id\n          billNo\n          details\n          status\n        }\n        house {\n          _id\n          houseName\n          contactPhone\n        }\n        equmentID {\n          _id\n          title\n          price\n        }\n      }\n    }\n  }\n`;\n\nexport const QUERY_BILL = gql`\n  query BillEquiment($where: BillEquimentWhereInput, $limit: Int) {\n    billEquiment(where: $where, limit: $limit) {\n      data {\n        _id\n        billNo\n        status\n      }\n    }\n  }\n`;\nexport const EDIT_BILL = gql`\n  mutation UpdateBillEquiment(\n    $data: BillEquimentInput!\n    $where: BillEquimentWhereInputOne\n  ) {\n    updateBillEquiment(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n// equiment\nexport const QUERY_EQUIMENT = gql`\n  query Data($where: EquimentWhereInput) {\n  equiments(where: $where) {\n    data {\n      _id\n      total\n    }\n  }\n}\n`;\n\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\n\nconst QUERY = gql`\n  query Equiments($where: EquimentWhereInput) {\n    equiments(where: $where) {\n      data {\n        title\n        _id\n      }\n    }\n  }\n`;\nexport default function SelectEquiment({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n\n  // const [fetchData, { data, loading }] = useLazyQuery(QUERY);\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(QUERY, {\n    fetchPolicy: \"network-only\",\n  });\n\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {},\n      },\n    });\n  }, []);\n\n  useEffect(() => {\n    const results = data?.equiments?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.title,\n        };\n        return object;\n      });\n      setItems(_results);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        color: \"black\",\n        fontSize: 16,\n      }}\n    >\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກຊື່ຊັບສິນ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport {\n  currency,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  toDay,\n} from \"../../../../helper\";\n\nimport { ADD_EQUIMENT_STOCK, QUERY_EQUIMENT } from \"./apollo\";\nimport Notiflix from \"notiflix\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport SelectEquimentType from \"../../../../helper/components/SelectEquimentType\";\nimport SelectEquiment from \"../../../../helper/components/SelectEquiment\";\nimport { EDIT_EQUIMENT } from \"../equiment/apollo\";\n\nexport default function AddData({ onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n  const [listEquiment, setListEquiment] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [addStock] = useMutation(ADD_EQUIMENT_STOCK);\n  const [house, setHouse] = useState({});\n  const [today, setToday] = useState(toDay());\n  const [listData, setListData] = useState();\n  const [inputTotal, setInputTotal] = useState();\n  const [editEquiment] = useMutation(EDIT_EQUIMENT);\n\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_EQUIMENT, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n  useEffect(() => {\n    if (!listEquiment?._id) {\n      return;\n    }\n    fetchData({\n      variables: {\n        where: {\n          _id: listEquiment?._id,\n          house: house?._id,\n        },\n        limit: 1,\n      },\n    });\n  }, [listEquiment]);\n\n  useEffect(() => {\n    setListData(setData?.equiments?.data[0]);\n  }, [setData]);\n\n  // insert\n  const getTotal = listData?.total ? listData?.total : 0;\n  // update\n  const getFinalTotal = parseInt(getTotal) + parseInt(inputTotal);\n  const { handleChange, errors, values, handleSubmit, resetForm, isDisabled } =\n    useFormik({\n      initialValues: {\n        inTotal: \"\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (inputTotal <= 0)\n          errors.inTotal = \"ປ້ອນຈຳນວນຊັບສິນນຳເຂົ້າຕ້ອງຫລາຍກວ່າ 0\";\n        return errors;\n      },\n      onSubmit: async (values) => {\n        if (!listEquiment?._id) return messageWarning(\"ກະລຸນາເລືອກຊື່ຊັບສິນ\");\n        loadingScreen();\n        try {\n          const { data: updated } = await addStock({\n            variables: {\n              data: {\n                inTotal: parseInt(inputTotal),\n                equmentID: String(listEquiment?._id),\n                house: house?._id,\n              },\n            },\n          });\n          if (updated) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ບັນທືກສຳເລັດ\");\n            updateEquiment();\n            setTimeout(() => {\n              window.scrollTo(0, 0);\n            }, 100);\n            setListEquiment(\"\");\n            setShow(false);\n            onSuccess();\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"ບັນທຶກບໍ່ສຳເລັດ\");\n          }\n        } catch (error) {\n          console.log(error);\n          Notiflix.Loading.remove();\n          messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n        }\n      },\n    });\n  // update totl equiment\n  const updateEquiment = async () => {\n    try {\n      const { data: _deleteData } = await editEquiment({\n        variables: {\n          data: {\n            total: parseInt(getFinalTotal),\n          },\n          where: {\n            _id: listEquiment?._id,\n          },\n        },\n      });\n      setInputTotal(\"\");\n      console.log(\"======success=====\");\n    } catch (error) {\n      Notiflix.Loading.remove();\n      console.log(error);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"icon-plus-circle me-1\" /> ນຳຊັບສິນເຂົ້າ\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header className=\"text-black\">\n          ນຳຊັບສິນເຂົ້າ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"form-group \">\n            <SelectEquiment\n              style={{ width: \"100%\" }}\n              value={listEquiment?._id}\n              onChange={(obj) => {\n                if (obj?._id) {\n                  setListEquiment(obj);\n                }\n              }}\n            />\n            <span className=\"text-danger\">{errors.equmentID}</span>\n          </div>\n\n          <div className=\"form-group \">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ຈຳນວນ:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"number\"\n                placeholder=\"...\"\n                name=\"inputTotal\"\n                value={inputTotal}\n                onChange={(e) => {\n                  setInputTotal(e.target.value);\n                }}\n                error={errors.inTotal}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.inTotal}</span>\n          </div>\n          <div className=\"form-group \">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ຍອງທີ່ເຫລືອ:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                disabled={true}\n                value={currency(listData?.total ? listData?.total : 0)}\n                sx={{\n                  m: 0,\n                  width: \"100%\",\n                  backgroundColor: \"#edf0ee\",\n                }}\n              />\n            </FormControl>\n          </div>\n        </div>\n\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport {\n  currency,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  toDay,\n} from \"../../../../helper\";\n\nimport { EDIT_EQUIMENT_STOCK, QUERY_EQUIMENT } from \"./apollo\";\nimport Notiflix from \"notiflix\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n} from \"@mui/material\";\nimport SelectEquiment from \"../../../../helper/components/SelectEquiment\";\nimport { EDIT_EQUIMENT } from \"../equiment/apollo\";\n\nexport default function EditData({ onSuccess, _data }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n  const [listEquiment, setListEquiment] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [updateData] = useMutation(EDIT_EQUIMENT_STOCK);\n  const [house, setHouse] = useState({});\n  const [today, setToday] = useState(toDay());\n  const [listData, setListData] = useState();\n  const [inputTotal, setInputTotal] = useState(0);\n  const [toTalDefault, setTotalDefault] = useState(0);\n  const [editEquiment] = useMutation(EDIT_EQUIMENT);\n\n  const [fetchData, { data: setData, loading }] = useLazyQuery(QUERY_EQUIMENT, {\n    fetchPolicy: \"network-only\",\n  });\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n  useEffect(() => {\n    if (!listEquiment?._id) {\n      return;\n    }\n    fetchData({\n      variables: {\n        where: {\n          _id: listEquiment?._id,\n          house: house?._id,\n        },\n        limit: 1,\n      },\n    });\n  }, [listEquiment]);\n\n  useEffect(() => {\n    setListData(setData?.equiments?.data[0]);\n  }, [setData]);\n\n  // query total\n  const getTotal = listData?.total ? listData?.total : 0;\n  // delete default\n  const toToDefault = parseInt(getTotal) - parseInt(toTalDefault);\n  // plus total\n  const getFinalTotal = parseInt(toToDefault) + parseInt(inputTotal);\n\n  const { handleChange, errors, values, handleSubmit, isDisabled } = useFormik({\n    initialValues: {\n      inTotal: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (inputTotal <= 0)\n        errors.inTotal = \"ປ້ອນຈຳນວນຊັບສິນນຳເຂົ້າຕ້ອງຫລາຍກວ່າ 0\";\n      return errors;\n    },\n    onSubmit: async (values) => {\n      if (!listEquiment?._id) return messageWarning(\"ກະລຸນາເລືອກຊື່ຊັບສິນ\");\n      loadingScreen();\n      try {\n        const { data: updated } = await updateData({\n          variables: {\n            data: {\n              inTotal: parseInt(inputTotal),\n              equmentID: String(listEquiment?._id),\n              house: house?._id,\n            },\n            where: {\n              _id: _data?._id,\n            },\n          },\n        });\n        if (updated) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ແກ້ໄຂສຳເລັດ\");\n          updateEquiment();\n          setTimeout(() => {\n            window.scrollTo(0, 0);\n          }, 100);\n          setListEquiment(\"\");\n          setShow(false);\n          onSuccess();\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"ແກ້ໄຂບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        console.log(error);\n        Notiflix.Loading.remove();\n        messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n      }\n    },\n  });\n  // update totl equiment\n  const updateEquiment = async () => {\n    try {\n      const { data: _deleteData } = await editEquiment({\n        variables: {\n          data: {\n            total: parseInt(getFinalTotal),\n          },\n          where: {\n            _id: listEquiment?._id,\n          },\n        },\n      });\n      setInputTotal(\"\");\n      console.log(\"======success=====\");\n    } catch (error) {\n      Notiflix.Loading.remove();\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    setListEquiment(_data?.equmentID);\n    setTotalDefault(_data?.inTotal);\n    setInputTotal(_data?.inTotal);\n  }, [_data, show]);\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-sm\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"fas fa-edit\" />\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header className=\"text-black\">\n          ນຳຊັບສິນເຂົ້າ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"form-group mb-3\">\n            <SelectEquiment\n              style={{ minWidth: \"100%\" }}\n              value={listEquiment?._id}\n              onChange={(obj) => {\n                if (obj?._id) {\n                  setListEquiment(obj);\n                }\n              }}\n              disabled = {true}\n            />\n          </div>\n          <div className=\"form-group \" style={{ marginTop: 50 }}>\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ຈຳນວນ:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"number\"\n                placeholder=\"...\"\n                name=\"inputTotal\"\n                value={inputTotal}\n                onChange={(e) => {\n                  setInputTotal(e.target.value);\n                }}\n                error={errors.inTotal}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.inTotal}</span>\n          </div>\n          <div className=\"form-group mt-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">ຍອງທີ່ເຫລືອ:</InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                disabled={true}\n                value={currency(listData?.total ? listData?.total : 0)}\n                sx={{\n                  m: 0,\n                  width: \"100%\",\n                  backgroundColor: \"#edf0ee\",\n                }}\n              />\n            </FormControl>\n          </div>\n        </div>\n\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getLocalHouse } from \"..\";\n\nconst QUERY = gql`\n  query Equiments($where: EquimentWhereInput) {\n  equiments(where: $where) {\n    data {\n      title\n      _id\n    }\n  }\n}\n`;\nexport default function SearchEquiment({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  // const [fetchData, { data, loading }] = useLazyQuery(QUERY);\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(\n    QUERY,\n    { fetchPolicy: \"network-only\" }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          house:localHouse?._id,\n        },\n      },\n    });\n  }, [localHouse]);\n\n\n  useEffect(() => {\n    const results = data?.equiments?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?._id,\n          label: item?.title,\n        };\n        return object;\n      });\n      setItems([{value: \"\", label: \"ທັງຫມົດ\"}, ..._results]);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?._id === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n\n  return (\n    <div style={{ minWidth: 200, color: \"black\",fontSize:16}}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກຊື່ຊັບສິນ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport {\r\n  createdAt_gte,\r\n  createdAt_lt,\r\n  currency,\r\n  endOfMonth,\r\n  equimentStatus,\r\n  formatDateDash,\r\n  getLocalHouse,\r\n  getStaffLogin,\r\n  loadingData,\r\n  setParams,\r\n  startMonth,\r\n} from \"../../../../helper\";\r\nimport { QUERY_EQUIMENT_STOCK } from \"./apollo\";\r\nimport Pagination from \"../../../../helper/controllers/Pagination\";\r\nimport NoData from \"../../../../helper/components/NoData\";\r\nimport AddData from \"./AddData\";\r\nimport EditData from \"./EditData\";\r\nimport SearchEquiment from \"../../../../helper/components/SearchEquiment\";\r\nimport { OTHER } from \"../../../../routes/app\";\r\n\r\nexport default function EquimentStock() {\r\n  const { history, location, match } = useReactRouter();\r\n  const jsonObj = getStaffLogin();\r\n  const userInfo = jsonObj?.data;\r\n  const query = new URLSearchParams(location.search);\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [numberRow, setNumberRow] = useState(100);\r\n  const [newText, setNewText] = useState(\"\");\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const [localHouse, setLocalHouse] = useState(\"\");\r\n  const [startDate, setStartDate] = useState(startMonth());\r\n  const [endDate, setEndDate] = useState(endOfMonth());\r\n  const [listEquiment, setListEquiment] = useState(\"\");\r\n  const [queryStock, { data: setData, loading }] = useLazyQuery(\r\n    QUERY_EQUIMENT_STOCK,\r\n    {\r\n      fetchPolicy: \"cache-and-network\",\r\n    }\r\n  );\r\n  useEffect(() => {\r\n    setLocalHouse(getLocalHouse());\r\n  }, []);\r\n  useEffect(() => {\r\n    queryStock({\r\n      variables: {\r\n        where: {\r\n          equmentID: listEquiment?._id ? listEquiment?._id : undefined,\r\n          house: localHouse?._id,\r\n          createdAt_gte: createdAt_gte(startDate),\r\n          createdAt_lte: createdAt_lt(endDate),\r\n        },\r\n        skip: numberRow * (numberPage - 1),\r\n        limit: numberRow,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [numberRow, numberPage, reloadData, localHouse, startDate, listEquiment]);\r\n  useEffect(() => {\r\n    const page = query.get(\"page\");\r\n    const _startDate = query.get(\"startDate\");\r\n    const _endDate = query.get(\"endDate\");\r\n    setStartDate(_startDate || startMonth());\r\n    setEndDate(_endDate || endOfMonth());\r\n    if (page) {\r\n      setNumberPage(parseInt(page));\r\n    } else {\r\n      setNumberRow(100);\r\n    }\r\n  }, [query]);\r\n  //pageination\r\n  const countData = setData?.equiments?.total;\r\n  const countPage = [];\r\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\r\n    countPage.push(i);\r\n  }\r\n\r\n  const NO = (index) => {\r\n    const no = numberRow * numberPage - numberRow;\r\n    if (numberRow > 0) {\r\n      return no + index + 1;\r\n    } else {\r\n      return index + 1;\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: -90 }}>\r\n        <div id=\"appCapsule\">\r\n          <div className=\"justify-content-md-center\">\r\n            <div className=\"appHeader text-light border-0\">\r\n              <div style={{ flex: 1 }} className=\"text-left\">\r\n                <button\r\n                  className=\"btn text-white\"\r\n                  onClick={() => history.push(OTHER)}\r\n                >\r\n                  <i className=\"fa fa-chevron-left fs-4\" />\r\n                </button>\r\n              </div>\r\n              {localHouse?.houseName ? localHouse?.houseName : \"ລາຍງານຂໍ້ມູນ\"}\r\n              <div\r\n                className=\"text-white pageTitle text-right text-nowrap pr-0\"\r\n                style={{ flex: 1 }}\r\n              >\r\n                <button\r\n                  className=\"btn text-white mr-0\"\r\n                  onClick={() => setReloadData(!reloadData)}\r\n                >\r\n                  {loading ? (\r\n                    loadingData(23)\r\n                  ) : (\r\n                    <i className=\"icon-cycle fs-4\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <br />\r\n            <br />\r\n            <div className=\"option-section\">\r\n              <br />\r\n              <div className=\"row col-md-12  mt-1\">\r\n                <div className=\"col-6\">\r\n                  <div className=\"option-card\">\r\n                    <input\r\n                      type=\"date\"\r\n                      className=\" form-control form-control-lg\"\r\n                      style={{ marginLeft: 6 }}\r\n                      value={formatDateDash(startDate)}\r\n                      onChange={(e) => {\r\n                        history.push({\r\n                          search: setParams(`startDate`, e.target.value),\r\n                        });\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  className=\"col-6\"\r\n                  style={{\r\n                    right: -10,\r\n                  }}\r\n                >\r\n                  <div className=\"option-card\">\r\n                    <input\r\n                      type=\"date\"\r\n                      className=\" form-control form-control-lg\"\r\n                      value={formatDateDash(endDate)}\r\n                      onChange={(e) => {\r\n                        history.push({\r\n                          search: setParams(`endDate`, e.target.value),\r\n                        });\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"section  mb-2 mt-1\">\r\n              <div className=\"transactions\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 w-100\">\r\n                    <SearchEquiment\r\n                      style={{ width: \"100%\" }}\r\n                      value={listEquiment?._id}\r\n                      onChange={(obj) => {\r\n                        setListEquiment(obj);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  {loading ? loadingData(25) : \"\"}\r\n                </div>\r\n                {setData?.equimentStocks?.total > 0 ? (\r\n                  <>\r\n                    <div className=\"table-responsive mt-2 \">\r\n                      <table className=\"table  table-sm mb-0\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>#</th>\r\n                            <th className=\"text-nowrap\">ຊື່ຊັບສິນ</th>\r\n                            <th className=\"text-nowrap\">ວັນທີ່ນຳເຂົ້າ</th>\r\n                            <th className=\"text-nowrap text-end\">ຈຳນວນ</th>\r\n                            <th className=\"text-end\">ລາຄາ/ອັນ</th>\r\n                            <th className=\"text-end\">ລວມເປັນເງິນ</th>\r\n                            <th className=\"text-center\">ຈັດການ</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {setData?.equimentStocks?.data?.map((data, index) => (\r\n                            <>\r\n                              <tr key={index} className=\"text-black\">\r\n                                <td>{NO(index)}</td>\r\n                                <td>{data?.equmentID?.title}</td>\r\n                                <td>\r\n                                  {formatDateDash(\r\n                                    data?.createdAt ? data?.createdAt : \"-\"\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-end\">\r\n                                  {currency(data?.inTotal ? data?.inTotal : 0)}\r\n                                </td>\r\n                                <td className=\"text-end\">\r\n                                  {currency(\r\n                                    data?.equmentID?.price\r\n                                      ? data?.equmentID?.price\r\n                                      : 0\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-end\">\r\n                                  {currency(\r\n                                    data?.inTotal *\r\n                                      parseInt(data?.equmentID?.price)\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-nowrap text-center\">\r\n                                  <EditData\r\n                                    _data={data}\r\n                                    onSuccess={(e) => {\r\n                                      setReloadData(!reloadData);\r\n                                    }}\r\n                                  />\r\n                                </td>\r\n                              </tr>\r\n                            </>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <NoData loading={loading} />\r\n                )}\r\n                {setData?.equiments?.total > 100 && (\r\n                  <Pagination\r\n                    className=\"mt-2\"\r\n                    pageTotal={countPage}\r\n                    currentPage={numberPage}\r\n                    onPageChange={(page) => {\r\n                      history.push({\r\n                        search: setParams(`page`, page),\r\n                      });\r\n                    }}\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            bottom: 5,\r\n            backgroundColor: \"#edece8\",\r\n          }}\r\n          className=\"col-md-12 appBottomMenu\"\r\n        >\r\n          <AddData\r\n            onSuccess={(e) => {\r\n              setReloadData(!reloadData);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\nexport const ADD_BILL = gql`\n  mutation CreateBillEquiment($data: BillEquimentInput!) {\n    createBillEquiment(data: $data) {\n      _id\n    }\n  }\n`;\nexport const QUERY_BILL = gql`\n  query BillEquiments(\n    $noLimit: Boolean\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: BillEquimentWhereInput\n  ) {\n    billEquiment(\n      noLimit: $noLimit\n      limit: $limit\n      skip: $skip\n      orderBy: $orderBy\n      where: $where\n    ) {\n      total\n      data {\n        _id\n        billNo\n        details\n        house {\n          _id\n          houseName\n        }\n        status\n        createdAt\n      }\n    }\n  }\n`;\nexport const EDIT_BILL = gql`\n  mutation UpdateBillEquiment(\n    $data: BillEquimentInput!\n    $where: BillEquimentWhereInputOne\n  ) {\n    updateBillEquiment(data: $data, where: $where) {\n      _id\n    }\n  }\n`;\n\nexport const DELETE_EQUIMENT_STOCK = gql`\n  mutation DeleteBillEquiment($where: BillEquimentWhereInputOne!) {\n    deleteBillEquiment(where: $where) {\n      _id\n    }\n  }\n`;\n","import { useLazyQuery, useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { ADD_BILL, QUERY_TYPE_HOUSE } from \"./apollo\";\nimport { useFormik } from \"formik\";\nimport {\n  getLocalHouse,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  randomBillNo,\n  valiDate,\n} from \"../../../../helper\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport \"./utils/index.css\";\nexport default function AddData({ onSuccess }) {\n  const [show, setShow] = useState(false);\n  const [addData] = useMutation(ADD_BILL);\n  const handleClose = () => setShow(false);\n  const [billNumber, setBillNumber] = useState(\"\");\n  const [localHouse, setLocalHouse] = useState(\"\");\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n\n  const { handleChange, errors, values, handleSubmit, resetForm, isDisabled } =\n    useFormik({\n      initialValues: {\n        details: \"\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (!values.details) {\n          errors.details = \"ກະລຸນາປ້ອນຂໍ້ມູນບິນກ່ອນ\";\n        }\n        return errors;\n      },\n      onSubmit: async (values) => {\n        loadingScreen();\n        try {\n          const { data: updated } = await addData({\n            variables: {\n              data: {\n                details: values?.details,\n                house: localHouse,\n                billNo: String(billNumber),\n                status: \"FEE\",\n              },\n            },\n          });\n          if (updated) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ສ້າງບິນສຳເລັດ\");\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n            setShow(false);\n            onSuccess();\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"ບັນທຶກບໍ່ສຳເລັດ\");\n          }\n        } catch (error) {\n          console.log(error);\n          Notiflix.Loading.remove();\n          messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n        }\n      },\n    });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => {\n          setShow(true);\n          setBillNumber(randomBillNo());\n        }}\n      >\n        <i className=\"icon-plus-circle me-1\" /> ສ້າງບີນ\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header> ຟອມສ້າງບີນ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"form-row mt-1\">\n            <label className=\"text-black\">ປ້ອນຂໍ້ມູບິນ {valiDate()}</label>\n            <div className=\"col-md-12\">\n              <textarea\n                type=\"number\"\n                className={\n                  errors.details\n                    ? \"form-control mb-3 is-invalid\"\n                    : \"form-control mb-3 invalid\"\n                }\n                style={{ color: \"black\" }}\n                name=\"details\"\n                value={values.details}\n                onChange={handleChange}\n                onWheel={(e) => e.target.blur()}\n                placeholder=\"ປ້ອນຫົວຂໍ້ບິນ\"\n                rows={6}\n              ></textarea>\n              <div className=\"text-danger\">{errors?.details}</div>\n            </div>\n          </div>\n        </div>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","\nimport {useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { EDIT_BILL } from \"./apollo\";\nimport { useFormik } from \"formik\";\nimport {\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  valiDate,\n} from \"../../../../helper\";\nimport Notiflix, { Loading } from \"notiflix\";\nimport \"./utils/index.css\";\nexport default function EditData({ onSuccess, _data }) {\n  const [show, setShow] = useState(false);\n  const [addData] = useMutation(EDIT_BILL);\n  const handleClose = () => setShow(false);\n  const {\n    handleChange,\n    errors,\n    values,\n    handleSubmit,\n    resetForm,\n    setFieldValue,\n    isDisabled,\n  } = useFormik({\n    initialValues: {\n      details: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!values.details) {\n        errors.details = \"ກະລຸນາປ້ອນຂໍ້ມູນບິນກ່ອນ\";\n      }\n      return errors;\n    },\n    onSubmit: async (values) => {\n      loadingScreen();\n      try {\n        const { data: updated } = await addData({\n          variables: {\n            data: {\n              details: values?.details,\n            },\n          },\n        });\n        if (updated) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ແກ້ໄຂຂໍ້ມູນສຳເລັດ\");\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            window.scrollTo(0, 0);\n          }, 100);\n          setShow(false);\n          onSuccess();\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"ບັນທຶກບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        console.log(error);\n        Notiflix.Loading.remove();\n        messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n      }\n    },\n  });\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    setFieldValue(\"details\", _data?.details ? _data?.details : \"\", false);\n  }, [_data, show]);\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-sm\"\n        onClick={() => {\n          setShow(true);\n        }}\n      >\n        <i className=\"fas fa-edit\" />\n      </button>\n      <Modal\n        show={show}\n        animation={false}\n        size=\"xl\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title className=\"fs-5\">\n            <i className=\"icon-plus-circle\" /> ຟອມສ້າງບີນ\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"container\">\n          <div className=\"form-row mt-1\">\n            <label className=\"text-black\">ປ້ອນຂໍ້ມູບິນ {valiDate()}</label>\n            <div className=\"col-md-12\">\n              <textarea\n                type=\"number\"\n                className={\n                  errors.details\n                    ? \"form-control mb-3 is-invalid\"\n                    : \"form-control mb-3 invalid\"\n                }\n                name=\"details\"\n                value={values.details}\n                onChange={handleChange}\n                onWheel={(e) => e.target.blur()}\n                placeholder=\"...\"\n                rows={6}\n                style={{color: \"black\" }}\n              ></textarea>\n              <div className=\"text-danger\">{errors?.details}</div>\n            </div>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  currency,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  loadingData,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  setParams,\n  StatusEquiment,\n} from \"../../../../helper\";\nimport {\n  ADD_EQUIMENT_STOCK,\n  DELETE_EQUIMENT_STOCK,\n  QUERY_BILL,\n} from \"./apollo\";\nimport { Table } from \"react-bootstrap\";\nimport Notiflix from \"notiflix\";\nimport AddData from \"./AddData\";\nimport EditData from \"./EditData\";\nimport { EQUIMENT_LIST } from \"../../../../routes/app\";\nimport NoData from \"../../../../helper/components/NoData\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\n\nexport default function GenerateBill() {\n  const { history, location, match } = useReactRouter();\n  const jsonObj = getStaffLogin();\n  const userInfo = jsonObj?.data;\n  // get query search\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [searchValue, setSearchValue] = useState();\n  const [reloadData, setNewLoadData] = useState(false);\n  const [localHouse, setLocalHouse] = useState(\"\");\n\n  const [queryBill, { data: setData, loading }] = useLazyQuery(QUERY_BILL, {\n    fetchPolicy: \"cache-and-network\",\n  });\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n\n  useEffect(() => {\n    queryBill({\n      variables: {\n        where: {\n          status: \"FEE\",\n          house: localHouse?._id,\n        },\n        skip: numberRow * (numberPage - 1),\n        limit: numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [numberRow, searchValue, numberPage, reloadData, localHouse]);\n\n  const _onSearch = () => {\n    setSearchValue(searchValue);\n    setNewLoadData(!reloadData);\n  };\n  \n\n  //pageination\n  const countData = setData?.billEquiment?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n\n  useEffect(() => {\n    const page = query.get(\"page\");\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n  return (\n    <>\n      <h3 className=\"page-title mb-2 mt-2 ms-3 text-black\">\n        ຈັດການຂໍ້ມູນໃບບິນເບິກເຄື່ອງ\n      </h3>\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"card-body\">\n            <div className=\"row\">\n              <div className=\"col-lg-12\">\n                {setData?.billEquiment?.total > 0 ? (\n                  <>\n                    <span className=\"text-center mb-2\">\n                      {loading ? loadingData(25) : \"\"}\n                    </span>\n                    <div className=\"table-responsive border\">\n                      <table className=\"table   table-sm mb-0\">\n                        <thead>\n                          <tr>\n                            <th>#</th>\n                            <th>ເລກໃບເບີກ</th>\n                            <th>ຫົວຂໍ້</th>\n                            <th>ສະຖານະບິນ</th>\n                            <th className=\"text-end\">ຈັດການ</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {setData?.billEquiment?.data?.map((data, index) => (\n                            <>\n                              <tr key={index} className=\"text-black\">\n                                <td>{NO(index)}</td>\n                                <td className=\"text-nowrap\">\n                                  {data?.billNo ? data?.billNo : \"-\"}\n                                </td>\n                                <td className=\"text-nowrap\">\n                                  {data?.details ? data?.details : \"-\"}\n                                </td>\n                                <td className=\"text-nowrap\">\n                                  {StatusEquiment(\n                                    data?.status ? data?.status : \"-\"\n                                  )}\n                                </td>\n                                <td className=\"text-nowrap text-end\">\n                                  <button\n                                    className=\"btn  me-1 btn-sm text-success\"\n                                    onClick={() =>\n                                      history.push(\n                                        `${EQUIMENT_LIST}/${data?._id}`\n                                      )\n                                    }\n                                  >\n                                    <i className=\"fa fa-cart-plus me-1\" />\n                                    ເບີກ\n                                  </button>\n                                  <EditData\n                                    _data={data}\n                                    onSuccess={(e) => {\n                                      setNewLoadData(!reloadData);\n                                    }}\n                                  />\n                                </td>\n                              </tr>\n                            </>\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n                  </>\n                ) : (\n                  <NoData loading={loading} />\n                )}\n                {setData?.billEquiment?.total > 100 && (\n                  <Pagination\n                    className=\"mt-2\"\n                    pageTotal={countPage}\n                    currentPage={numberPage}\n                    onPageChange={(page) => {\n                      history.push({\n                        search: setParams(`page`, page),\n                      });\n                    }}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        style={{\n          position: \"fixed\",\n          backgroundColor: \"#edece8\",\n        }}\n        className=\"col-md-12 appBottomMenu\"\n      >\n        <AddData\n          onSuccess={(e) => {\n            setNewLoadData(!reloadData);\n          }}\n        />\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\";\nexport const QUERY_BILL = gql`\n  query BillEquiments(\n    $noLimit: Boolean\n    $limit: Int\n    $skip: Int\n    $orderBy: OrderByInput\n    $where: BillEquimentWhereInput\n  ) {\n    billEquiment(\n      noLimit: $noLimit\n      limit: $limit\n      skip: $skip\n      orderBy: $orderBy\n      where: $where\n    ) {\n      total\n      data {\n        _id\n        billNo\n        details\n        house {\n          _id\n          houseName\n        }\n        status\n        createdAt\n      }\n    }\n  }\n`;\n\nexport const QUERY_EQUIMENT_OUT = gql`\n  query EquimentOuts(\n    $where: EquimentOutWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n    $noLimit: Boolean\n  ) {\n    equimentOuts(\n      where: $where\n      orderBy: $orderBy\n      skip: $skip\n      limit: $limit\n      noLimit: $noLimit\n    ) {\n      total\n      data {\n        _id\n        outTotal\n        transactionDate\n        createdAt\n        price\n        finalPrice\n        details\n        status\n        billEquiment {\n          _id\n          billNo\n          details\n          status\n        }\n        house {\n          _id\n          houseName\n          contactPhone\n        }\n        equmentID {\n          _id\n          title\n          price\n        }\n        createdBy {\n          _id\n          firstName\n        }\n      }\n    }\n  }\n`;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { Modal, Row } from \"react-bootstrap\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  currency,\n  formatDateDash,\n  formateDateSlash,\n  getLocalHouse,\n} from \"../../../../helper\";\nimport { QUERY_EQUIMENT_OUT } from \"./apollo\";\nimport { getStaffLogin } from \"../../../../helper\";\nimport \"./utils/index.css\";\nfunction DetailData({ billNo, getId }) {\n  const jsonObj = getStaffLogin();\n  const userInfo = jsonObj?.data;\n  const inputRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => inputRef.current,\n  });\n  let today = moment().format(\"YYYY-MM-DD\");\n  const [show, setShow] = useState(false);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [listData, setDataList] = useState();\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n\n  const [queryOut, { data: setData, loading }] = useLazyQuery(\n    QUERY_EQUIMENT_OUT,\n    {\n      fetchPolicy: \"cache-and-network\",\n    }\n  );\n\n  const SumMoney = {\n    outTotal: _.sumBy(listData?.data, \"outTotal\"),\n    finalPrice: _.sumBy(listData?.data, \"finalPrice\"),\n  };\n\n\n  useEffect(() => {\n    queryOut({\n      variables: {\n        where: {\n          createdBy: userInfo?._id,\n          billEquiment: getId,\n          house: setLocalHouse?._id,\n          status: \"CLOSE\",\n        },\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [localHouse, getId]);\n  useEffect(() => {\n    setDataList(setData?.equimentOuts);\n  }, [setData]);\n\n  return (\n    <React.Fragment>\n      <button\n        className=\"btn btn-light\"\n        onClick={(e) => {\n          setShow(true);\n        }}\n      >\n        <i className=\"fas fa-list me-1\" />\n        ລາຍລະອຽດ\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header className=\"text-black\">\n          ລາຍງານບິນເບີກເຄື່ອງ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-1 customDiv\">\n          <Row>\n            <div className=\"col-md-12 \">\n              <button\n                onClick={handlePrint}\n                type=\"button\"\n                className=\"btn btn-dark me-2 float-start mt-2\"\n              >\n                <i className=\"icon-print mr-1\"></i> ພິມລາຍງານ\n              </button>\n              <a\n                className=\"float-end mt-2 ms-3 btn btn-danger rounded\"\n                style={{ textDecoration: \"none\", marginTop: -10 }}\n                onClick={() => setShow(false)}\n              >\n                <i className=\"icon-x fa-2x text-white\" />\n              </a>\n            </div>\n          </Row>\n          <div style={{ paddingBottom: \"10px\" }} />\n          <div className=\"table-responsive\">\n            <table\n              className=\"table-sm\"\n              border=\"0\"\n              style={{\n                width: \"100%\",\n                height: \"100%\",\n                fontFamily: \"Phetsarath OT\",\n                backgroundColor: \"#ffffff\",\n              }}\n              ref={inputRef}\n            >\n              <thead>\n                <tr>\n                  <td colSpan={6} style={{ textAlign: \"left\", color: \"black\" }}>\n                    <img\n                      // src={logo}\n                      style={{\n                        width: 150,\n                        marginBottom: 1,\n                        marginTop: 20,\n                      }}\n                      alt=\"\"\n                      id=\"table-to-xls\"\n                    />\n                    <br />\n                    ຊື່ກິດຈະການ: {listData?.data[0]?.house?.houseName}\n                    <br />\n                    ໂທ: {listData?.data[0]?.house?.contactPhone}\n                  </td>\n                  <td className=\"text-end text-black mt-2\">\n                    ວັນທີ:{formateDateSlash(today)}\n                    <br />\n                    ບິນເລກທີ: {billNo}\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={8}>\n                    <h3 className=\"text-center\">\n                      <u className=\"fw-bold\">ລາຍການເບີກຊັບສິນ</u>\n                      <br />[ {listData?.data[0]?.billEquiment?.details} ]\n                    </h3>\n                    <span className=\"text-center text-black\">\n                      ພີມໂດຍ: {userInfo?.firstName ? userInfo?.firstName : \"\"}{\" \"}\n                      {userInfo?.lastName ? userInfo?.lastName : \"\"}\n                    </span>\n                  </td>\n                </tr>\n                <tr style={{ backgroundColor: \"#f54f02\", color: \"white\" }}>\n                  <td className=\"border text-nowrap\">ລຳດັບ</td>\n                  <td className=\"border text-center\">ເບີກວັນທີ່</td>\n                  <td className=\"border text-nowrap\">ລາຍການ</td>\n                  <td className=\"border text-nowrap\">ຄຳອະທິບາຍ</td>\n                  <td className=\"text-end text-nowrap\">ຈຳນວນ</td>\n                  <td className=\"text-end text-nowrap\">ລາຄາ/ອັນ</td>\n                  <td className=\"text-end text-nowrap\">ລວມ</td>\n                </tr>\n              </thead>\n              <tbody>\n                {listData?.data?.map((data, index) => (\n                  <tr key={index}>\n                    <td className=\"text-start border text-black\">\n                      {index + 1}\n                    </td>\n                    <td className=\"border text-black text-center\">\n                      {data?.createdAt ? formatDateDash(data?.createdAt) : \"-\"}\n                    </td>\n\n                    <td className=\" border  text-black\">\n                      {data?.equmentID?.title ? data?.equmentID?.title : \"-\"}\n                    </td>\n                    <td className=\" border  text-black\">\n                      {data?.details ? data?.details : \"-\"}\n                    </td>\n                    <td className=\"text-nowrap border text-end text-black\">\n                      {currency(data?.outTotal ? data?.outTotal : 0)}\n                    </td>\n                    <td className=\"text-nowrap border text-end text-black\">\n                      {currency(data?.price ? data?.price : 0)}\n                    </td>\n                    <td className=\"text-nowrap border text-end text-black\">\n                      {currency(data?.finalPrice ? data?.finalPrice : 0)}\n                    </td>\n                  </tr>\n                ))}\n                <tr style={{ backgroundColor: \"#fafafa\" }}>\n                  <td colSpan={4} className=\"border\">\n                    <h3 className=\"text-center\">ລວມ:</h3>\n                  </td>\n                  <td className=\"border text-end\">\n                    <h3>\n                      {SumMoney?.outTotal ? currency(SumMoney?.outTotal) : 0}\n                    </h3>\n                  </td>\n                  <td className=\"border text-end\" colSpan={2}>\n                    <h3>\n                      {SumMoney?.finalPrice\n                        ? currency(SumMoney?.finalPrice)\n                        : 0}\n                    </h3>\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={4} className=\" text-center p-4\">\n                    <h4 className=\"text-center\">ເຊັນຜູ້ກວດສອບ</h4>\n                  </td>\n                  <td className=\" text-center p-4\" colSpan={3}>\n                    <h4>ພະນັກງານ</h4>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </Modal>\n    </React.Fragment>\n  );\n}\nexport default DetailData;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  endOfMonth,\n  formatDateDash,\n  getLocalHouse,\n  getStaffLogin,\n  ITEM_PER_PAGE,\n  loadingData,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  setParams,\n  startMonth,\n  StatusEquiment,\n} from \"../../../../helper\";\nimport {\n  ADD_EQUIMENT_STOCK,\n  DELETE_EQUIMENT_STOCK,\n  QUERY_BILL,\n} from \"./apollo\";\nimport { Table } from \"react-bootstrap\";\nimport Notiflix from \"notiflix\";\nimport { EQUIMENT_LIST, OTHER } from \"../../../../routes/app\";\nimport DetailData from \"./DetailData\";\nimport NoData from \"../../../../helper/components/NoData\";\nimport Pagination from \"../../../../helper/controllers/Pagination\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\n\nexport default function History() {\n  const { history, location, match } = useReactRouter();\n  const jsonObj = getStaffLogin();\n  const userInfo = jsonObj?.data;\n  // get query search\n  const query = new URLSearchParams(location.search);\n  const [numberPage, setNumberPage] = useState(1);\n  const [numberRow, setNumberRow] = useState(100);\n  const [searchValue, setSearchValue] = useState();\n  const [reloadData, setNewLoadData] = useState(false);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [startDate, setStartDate] = useState(startMonth());\n  const [endDate, setEndDate] = useState(endOfMonth());\n\n  const [queryStock, { data: setData, loading }] = useLazyQuery(QUERY_BILL, {\n    fetchPolicy: \"cache-and-network\",\n  });\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n\n  useEffect(() => {\n    queryStock({\n      variables: {\n        where: {\n          status: \"FULL\",\n          billNo: searchValue ? searchValue : undefined,\n          house: localHouse?._id,\n          createdAt_gte: createdAt_gte(startDate),\n          createdAt_lte: createdAt_lt(endDate),\n        },\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\n        limit: searchValue ? 1000 : numberRow,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [\n    numberRow,\n    searchValue,\n    numberPage,\n    reloadData,\n    localHouse,\n    startDate,\n    endDate,\n  ]);\n\n  //pageination\n\n  useEffect(() => {\n    const page = query.get(\"page\");\n    const _startDate = query.get(\"startDate\");\n    const _endDate = query.get(\"endDate\");\n    setStartDate(_startDate || startMonth());\n    setEndDate(_endDate || endOfMonth());\n    if (page) {\n      setNumberPage(parseInt(page));\n    } else {\n      setNumberRow(100);\n    }\n  }, [query]);\n\n  const countData = setData?.equimentStocks?.total;\n  const countPage = [];\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\n    countPage.push(i);\n  }\n  const NO = (index) => {\n    const no = numberRow * numberPage - numberRow;\n    if (numberRow > 0) {\n      return no + index + 1;\n    } else {\n      return index + 1;\n    }\n  };\n  return (\n    <>\n      <div className=\"justify-content-md-center\" style={{ marginTop: -30 }}>\n        <div className=\"appHeader text-light border-0\">\n          <div style={{ flex: 1 }} className=\"text-left\">\n            <button\n              className=\"btn text-white\"\n              onClick={() => history.push(OTHER)}\n            >\n              <i className=\"fa fa-chevron-left fs-4\" />\n            </button>\n          </div>\n          {localHouse?.houseName ? localHouse?.houseName : \"ລາຍງານຂໍ້ມູນ\"}\n          <div\n            className=\"text-white pageTitle text-right text-nowrap pr-0\"\n            style={{ flex: 1 }}\n          >\n            <button\n              className=\"btn text-white mr-0\"\n              onClick={() => setNewLoadData(!reloadData)}\n            >\n              {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\n            </button>\n          </div>\n        </div>\n        <br />\n        <br />\n        <div className=\"option-section\">\n          <br />\n          <div className=\"row col-md-12  mt-1\">\n            <div className=\"col-6\">\n              <div className=\"option-card\">\n                <input\n                  type=\"date\"\n                  className=\" form-control form-control-lg\"\n                  style={{ marginLeft: 6 }}\n                  value={formatDateDash(startDate)}\n                  onChange={(e) => {\n                    history.push({\n                      search: setParams(`startDate`, e.target.value),\n                    });\n                  }}\n                />\n              </div>\n            </div>\n            <div\n              className=\"col-6\"\n              style={{\n                right: -10,\n              }}\n            >\n              <div className=\"option-card\">\n                <input\n                  type=\"date\"\n                  className=\" form-control form-control-lg\"\n                  value={formatDateDash(endDate)}\n                  onChange={(e) => {\n                    history.push({\n                      search: setParams(`endDate`, e.target.value),\n                    });\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"section  mb-2 mt-1\">\n          <div className=\"transactions\">\n            <div className=\"row\">\n              <div className=\"col-12 w-100\">\n                <FormControl fullWidth sx={{ m: 0 }}>\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">\n                        <i className=\"fa-solid fa-magnifying-glass\" />\n                      </InputAdornment>\n                    }\n                    type=\"search\"\n                    placeholder=\"ຄັ້ນຫາ\"\n                    onChange={(e) => setSearchValue(e.target.value)}\n                  />\n                </FormControl>\n              </div>\n            </div>\n            <div className=\"text-center\">{loading ? loadingData(25) : \"\"}</div>\n            {setData?.billEquiment?.total > 0 ? (\n              <>\n                <div className=\"table-responsive mt-2 \">\n                  <table className=\"table table-sm mb-0\">\n                    <thead>\n                      <tr>\n                        <th>#</th>\n                        <th className=\"text-nowrap\">ເລກໃບເບີກ</th>\n                        <th className=\"text-nowrap\">ຫົວຂໍ້</th>\n                        <th className=\"text-end\">ຈັດການ</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {setData?.billEquiment?.data?.map((data, index) => (\n                        <>\n                          <tr key={index} className=\"text-black\">\n                            <td>{index + 1}</td>\n                            <td className=\"text-nowrap\">\n                              {data?.billNo ? data?.billNo : \"-\"}\n                            </td>\n                            <td className=\"text-nowrap\">\n                              {data?.details ? data?.details : \"-\"}\n                            </td>\n                            <td className=\"text-nowrap text-end\">\n                              <DetailData\n                                billNo={data?.billNo}\n                                getId={data?._id}\n                              />\n                            </td>\n                          </tr>\n                        </>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </>\n            ) : (\n              <NoData loading={loading} />\n            )}\n            {setData?.billEquiment?.total > 100 && (\n              <Pagination\n                className=\"mt-2\"\n                pageTotal={countPage}\n                currentPage={numberPage}\n                onPageChange={(page) => {\n                  history.push({\n                    search: setParams(`page`, page),\n                  });\n                }}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport useReactRouter from \"use-react-router\";\nimport { Button, Col } from \"react-bootstrap\";\nimport { OTHER } from \"../../../routes/app\";\nimport { getLocalHouse } from \"../../../helper\";\nimport \"./util/index.css\";\nimport EquiType from \"./equimentType/index.\";\nimport EquiMent from \"./equiment/index.\";\nimport EquimentStock from \"./equimentStock/index.\";\nimport GenerateBill from \"./generateBill\";\nimport History from \"./equimentHistory\";\nexport default function TabMenuEquiment() {\n  const { history, location } = useReactRouter();\n  const params = new URLSearchParams(location?.search);\n  //useState\n  const [tabActive, setTabActive] = useState(\"type\");\n  const [houseId, setLocalHouse] = useState(\"\");\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n\n  useEffect(() => {\n    const tab = params.get(\"tab\");\n    if (tab) {\n      setTabActive(tab);\n    }\n  }, [params]);\n\n  useEffect(() => {\n    const elmTab = document.querySelectorAll(\".nav-tabs-custom\")[0];\n    const elmItemTab = document.querySelectorAll(\"button.active\")[0];\n    if (elmTab && elmItemTab) {\n      const left = elmItemTab.offsetLeft - 10;\n      elmTab.scrollLeft = left;\n    }\n  }, [tabActive]);\n\n  return (\n    <>\n      <div className=\"appHeader text-light border-0 mr-0\">\n        <div style={{ flex: 1 }} className=\"text-left\">\n          <button\n            className=\"btn text-white\"\n            onClick={() => history.push(OTHER)}\n          >\n            <i className=\"fa fa-chevron-left fs-4\" />\n          </button>\n        </div>\n        {houseId?.houseName ? houseId?.houseName : \"ລາຍງານຂໍ້ມູນ\"}\n        <div\n          className=\"text-white pageTitle text-right text-nowrap pr-0\"\n          style={{ flex: 1 }}\n        ></div>\n      </div>\n      <div className=\"extraHeaders\">\n        <div className=\"extraHeader pr-0 pl-0 nav-tabs-custom\">\n          <Button\n            className={`item-tab ${\n              tabActive === \"type\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=type\" })}\n          >\n            ຫມວດຊັບສິນ\n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"equiment\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=equiment\" })}\n          >\n            ຊື່ຊັບສິນ\n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"checkout\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=checkout\" })}\n          >\n            ນຳຊັບສິນເຂົ້າ\n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"bill\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=bill\" })}\n          >\n            ສ້າງໃບເບີກ\n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"set_history\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=set_history\" })}\n          >\n            ປະຫວັດ\n          </Button>\n        </div>\n      </div>\n      <div id=\"appCapsule\" className=\"extra-header-activeClick\">\n        {tabActive === \"type\" && <EquiType />}\n        {tabActive === \"equiment\" && <EquiMent />}\n        {tabActive === \"checkout\" && <EquimentStock />}\n        {tabActive === \"bill\" && <GenerateBill />}\n        {tabActive === \"set_history\" && <History />}\n      </div>\n    </>\n  );\n}\n","import { gql } from \"@apollo/client\"\r\n\r\nexport const QUERY_PROMOTION = gql`\r\n  query Query(\r\n    $where: PromotionWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n    $noLimit: Boolean\r\n  ) {\r\n    promotions(\r\n      where: $where\r\n      orderBy: $orderBy\r\n      skip: $skip\r\n      limit: $limit\r\n      noLimit: $noLimit\r\n    ) {\r\n      total\r\n      data {\r\n        _id\r\n        title\r\n        percent\r\n        status\r\n        house {\r\n          _id\r\n          houseName\r\n        }\r\n        createdAt\r\n        createdBy {\r\n          _id\r\n          firstName\r\n          lastName\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const CREATE_PROMOTION = gql`\r\n  mutation Mutation($data: PromotionInput!) {\r\n    createPromotion(data: $data) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const DELETE_PROMOTION = gql`\r\n  mutation Mutation($where: PromotionWhereInputOne!) {\r\n    deletePromotion(where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const UPDATE_PROMOTION = gql`\r\n  mutation UpdatePromotion(\r\n    $data: PromotionInput!\r\n    $where: PromotionWhereInputOne!\r\n  ) {\r\n    updatePromotion(data: $data, where: $where) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { Formik, useFormik } from \"formik\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  valiDate,\n} from \"../../helper\";\n\nimport { CREATE_PROMOTION } from \"./apollo\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\nimport Notiflix from \"notiflix\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\n\nexport default function AddPromotions({ onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n\n  const [show, setShow] = useState(false);\n  const [createData] = useMutation(CREATE_PROMOTION);\n  const [house, setHouse] = useState({});\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n\n  const { handleChange, errors, values, handleSubmit, resetForm, isDisabled } =\n    useFormik({\n      initialValues: {\n        title: \"\",\n        percent: \"\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (!values.title) {\n          errors.title = \"ກະລຸນາປ້ອນເນື່ອໃນ\";\n        }\n        if (!values.percent) {\n          errors.percent = \"ກະລຸນາປ້ອນເປີເຊັນສ່ວນຫລຸດ\";\n        }\n        if (!house?._id) errors.house = \"ກະລຸນາເລືອກກິດຈະການ\";\n\n        return errors;\n      },\n      onSubmit: async (values) => {\n        loadingScreen();\n        try {\n          const { data: inputData } = await createData({\n            variables: {\n              data: {\n                title: String(values.title),\n                percent: parseInt(values.percent),\n                status: 1,\n                house: house?._id,\n              },\n            },\n          });\n          if (inputData) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ບັນທືກຂໍ້ມູນສຳເລັດ\");\n            setShow(false);\n            onSuccess();\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"ເປີດຫ້ອງບໍ່ສຳເລັດ\");\n          }\n        } catch (error) {\n          Notiflix.Loading.remove();\n          console.log(error);\n        }\n      },\n    });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"icon-plus-circle me-1\" /> ເພີ່ມໂປຣໂມຊັ່ນ\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header className=\"text-black\">\n          ເພີ່ມໂປຣໂມຊັ່ນ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"form-group mb-3\">\n            <label>ເລືອກກິດຈະການ {valiDate()}</label>\n            <SelectLocalHouse\n              style={{ width: \"100%\" }}\n              value={house?._id}\n              onChange={(obj) => {\n                if (obj?._id) {\n                  setHouse(obj);\n                }\n              }}\n              ownerId={userInfo?._id}\n            />\n            <span className=\"text-danger\">{errors.house}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-solid fa-pen\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                name=\"title\"\n                placeholder=\"ເນື້ອໃນໂປຮໂມຊັ່ນ\"\n                value={values.title}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.title}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                   ສ່ວນຫລຸດ <i className=\"fa-solid fa-percent ms-1\" />:\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"number\"\n                name=\"percent\"\n                placeholder=\"ສ່ວນຫລຸດ %\"\n                value={values.percent}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.percent}</span>\n          </div>\n        </div>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","// import { useLazyQuery } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { Formik, useFormik } from \"formik\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  valiDate,\n} from \"../../helper\";\n\nimport { UPDATE_PROMOTION } from \"./apollo\";\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\nimport Notiflix from \"notiflix\";\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\n\nexport default function EditPromotions({ dataValue, onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n\n  const [show, setShow] = useState(false);\n  const [updateData] = useMutation(UPDATE_PROMOTION);\n  const [house, setHouse] = useState({});\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n\n  const {\n    handleChange,\n    errors,\n    values,\n    handleSubmit,\n    setFieldValue,\n    resetForm,\n    isDisabled,\n  } = useFormik({\n    initialValues: {\n      title: \"\",\n      percent: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!values.title) {\n        errors.title = \"ກະລຸນາປ້ອນເນື່ອໃນ\";\n      }\n      if (!values.percent) {\n        errors.percent = \"ກະລຸນາປ້ອນເປີເຊັນສ່ວນຫລຸດ\";\n      }\n      if (!house?._id) errors.house = \"ກະລຸນາເລືອກກິດຈະການ\";\n\n      return errors;\n    },\n    onSubmit: async (values) => {\n      loadingScreen();\n      try {\n        const { data: inputData } = await updateData({\n          variables: {\n            data: {\n              title: String(values.title),\n              percent: parseInt(values.percent),\n              status: parseInt(1),\n              house: house?._id,\n            },\n            where: {\n              _id: dataValue?._id,\n            },\n          },\n        });\n        if (inputData) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ບັນທືກຂໍ້ມູນສຳເລັດ\");\n          setShow(false);\n          onSuccess();\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            window.scrollTo(0, 0);\n          }, 100);\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"ເປີດຫ້ອງບໍ່ສຳເລັດ\");\n        }\n      } catch (error) {\n        Notiflix.Loading.remove();\n        console.log(error);\n      }\n    },\n  });\n\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    setFieldValue(\"title\", dataValue?.title ? dataValue?.title : \"\", false);\n    setFieldValue(\n      \"percent\",\n      dataValue?.percent ? dataValue?.percent : 0,\n      false\n    );\n    setHouse(dataValue?.house);\n  }, [dataValue, show]);\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"fas fa-edit\" />\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header className=\"text-black\">\n          ແກ້ໄຂໂປຣໂມຊັ່ນ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"form-group mb-3\">\n            <label>ເລືອກກິດຈະການ {valiDate()}</label>\n            <SelectLocalHouse\n              style={{ width: \"100%\" }}\n              value={house?._id}\n              onChange={(obj) => {\n                if (obj?._id) {\n                  setHouse(obj);\n                }\n              }}\n              ownerId={userInfo?._id}\n            />\n            <span className=\"text-danger\">{errors.house}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <i className=\"fa-solid fa-pen\" />\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"text\"\n                name=\"title\"\n                placeholder=\"ເນື້ອໃນໂປຮໂມຊັ່ນ\"\n                value={values.title}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.title}</span>\n          </div>\n          <div className=\"form-group mb-1\">\n            <FormControl fullWidth sx={{ m: 0 }}>\n              <OutlinedInput\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                   ສ່ວນຫລຸດ <i className=\"fa-solid fa-percent ms-1\" />:\n                  </InputAdornment>\n                }\n                onWheel={(e) => e.target.blur()}\n                type=\"number\"\n                name=\"percent\"\n                placeholder=\"ສ່ວນຫລຸດ %\"\n                value={values.percent}\n                onChange={handleChange}\n              />\n            </FormControl>\n            <span className=\"text-danger\">{errors.percent}</span>\n          </div>\n        </div>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import { Formik } from \"formik\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport {\r\n  createdAt_gte,\r\n  createdAt_lt,\r\n  currency,\r\n  endOfMonth,\r\n  formatDateDash,\r\n  formatDateTime,\r\n  getLocalHouse,\r\n  getStaffLogin,\r\n  loadingData,\r\n  messageConfirm,\r\n  messageError,\r\n  messageSuccess,\r\n  setParams,\r\n  socketServer,\r\n  startMonth,\r\n  _month,\r\n} from \"../../helper\";\r\nimport BottomNav from \"../../layouts/BottomNav\";\r\nimport { OTHER } from \"../../routes/app\";\r\nimport NoData from \"../../helper/components/NoData\";\r\nimport { QUERY_PROMOTION, DELETE_PROMOTION } from \"./apollo\";\r\nimport {\r\n  FormControl,\r\n  InputAdornment,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport Pagination from \"../../helper/controllers/Pagination\";\r\nimport SelectLocalHouse from \"../../helper/components/SelectLocalHouse\";\r\nimport Notiflix from \"notiflix\";\r\nimport AddPromotions from \"./AddPromotions\";\r\nimport EditPromotions from \"./editPromotions\";\r\nexport default function Promotion() {\r\n  const { match, history, location } = useReactRouter();\r\n  const userState = getStaffLogin();\r\n  const userData = userState?.data;\r\n  const query = new URLSearchParams(location?.search);\r\n  const [house, setHouse] = useState(\"\");\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [numberRow, setNumberRow] = useState(50);\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const [startDate, setStartDate] = useState(startMonth());\r\n  const [endDate, setEndDate] = useState(endOfMonth());\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [deletePromotion] = useMutation(DELETE_PROMOTION);\r\n  const [queryBooking, { data: setData, loading: loading }] = useLazyQuery(\r\n    QUERY_PROMOTION,\r\n    { fetchPolicy: \"network-only\" }\r\n  );\r\n\r\n  useEffect(() => {\r\n    setHouse(getLocalHouse());\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    queryBooking({\r\n      variables: {\r\n        where: {\r\n          house: house?._id,\r\n          status: parseInt(1),\r\n          createdAt_gte: createdAt_gte(startDate),\r\n          createdAt_lte: createdAt_lt(endDate),\r\n        },\r\n        skip: numberRow * (numberPage - 1),\r\n        limit: searchValue ? 1000 : numberRow,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [\r\n    numberRow,\r\n    searchValue,\r\n    numberPage,\r\n    reloadData,\r\n    house,\r\n    startDate,\r\n    endDate,\r\n  ]);\r\n  // pagination\r\n  useEffect(() => {\r\n    const page = query.get(\"page\");\r\n    const _startDate = query.get(\"startDate\");\r\n    const _endDate = query.get(\"endDate\");\r\n    setStartDate(_startDate || startMonth());\r\n    setEndDate(_endDate || endOfMonth());\r\n    if (page) {\r\n      setNumberPage(parseInt(page));\r\n    } else {\r\n      setNumberRow(50);\r\n    }\r\n  }, [query]);\r\n  const countPage = [];\r\n  for (var i = 1; i <= Math.ceil(setData?.promotions?.total / numberRow); i++) {\r\n    countPage.push(i);\r\n  }\r\n\r\n  const _deleteRateExChange = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການລົບ ລາຍການ ນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      async () => {\r\n        try {\r\n          const _deletePromotion = await deletePromotion({\r\n            variables: {\r\n              where: {\r\n                _id: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (_deletePromotion) {\r\n            messageSuccess(\"ລືບສຳເລັດ\");\r\n            setReloadData(!reloadData);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n          messageError(\"ລືບຂໍ້ມູນບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: -80 }}>\r\n      <div id=\"appCapsule\">\r\n        <div className=\"justify-content-md-center\">\r\n          <div className=\"appHeader text-light border-0\">\r\n            <div style={{ flex: 1 }} className=\"text-left\">\r\n              <button\r\n                className=\"btn text-white\"\r\n                onClick={() => history.push(OTHER)}\r\n              >\r\n                <i className=\"fa fa-chevron-left fs-4\" />\r\n              </button>\r\n            </div>\r\n            ຈັດການໂປຣໂມຊັ່ນ\r\n            <div\r\n              className=\"text-white pageTitle text-right text-nowrap pr-0\"\r\n              style={{ flex: 1 }}\r\n            >\r\n              <button\r\n                className=\"btn text-white mr-0\"\r\n                onClick={() => setReloadData(!reloadData)}\r\n              >\r\n                {loading ? loadingData(23) : <i className=\"icon-cycle fs-4\" />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <br />\r\n          <div className=\"option-section\">\r\n            <br />\r\n            <div className=\"row col-md-12  mt-1\">\r\n              <div className=\"col-6\">\r\n                <div className=\"option-card\">\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\" form-control form-control-lg\"\r\n                    style={{ marginLeft: 6 }}\r\n                    value={formatDateDash(startDate)}\r\n                    onChange={(e) => {\r\n                      history.push({\r\n                        search: setParams(`startDate`, e.target.value),\r\n                      });\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"col-6\"\r\n                style={{\r\n                  right: -10,\r\n                }}\r\n              >\r\n                <div className=\"option-card\">\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\" form-control form-control-lg\"\r\n                    value={formatDateDash(endDate)}\r\n                    onChange={(e) => {\r\n                      history.push({\r\n                        search: setParams(`endDate`, e.target.value),\r\n                      });\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"section  mb-2 mt-1\">\r\n            <div className=\"transactions\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12 w-100\">\r\n                  <SelectLocalHouse\r\n                    style={{ width: \"100%\" }}\r\n                    value={house?._id}\r\n                    onChange={(obj) => {\r\n                      if (obj?._id) {\r\n                        setHouse(obj);\r\n                      }\r\n                    }}\r\n                    ownerId={userData?._id}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                {loading ? loadingData(25) : \"\"}\r\n              </div>\r\n              {setData?.promotions?.total > 0 ? (\r\n                <div className=\"listView mt-2\">\r\n                  {setData?.promotions?.data?.map((data, index) => (\r\n                    <>\r\n                      <b\r\n                        className=\"float-end\"\r\n                        style={{ marginTop: -8, marginRight: -10 }}\r\n                      >\r\n                        <i\r\n                          className=\"icon-trash text-danger\"\r\n                          onClick={(e) => {\r\n                            _deleteRateExChange(data?._id);\r\n                          }}\r\n                          style={{ fontSize: 20 }}\r\n                        ></i>\r\n                      </b>\r\n                      <a\r\n                        href=\"javascript:void(0)\"\r\n                        className=\"item pr-0 \"\r\n                        key={index}\r\n                        style={{ borderTop: \"1px solid #ed6b0e\" }}\r\n                      >\r\n                        <div className=\"detail col-md-10\">\r\n                          <div>\r\n                            <strong>\r\n                              ຊື່ກິດຈະການ: {data?.house?.houseName}\r\n                            </strong>\r\n                            <b className=\"text-black\">\r\n                              ສ່ວນຫລຸດ:{\" \"}\r\n                              {currency(data?.percent ? data?.percent : 0)} {\" % \"}\r\n                            </b>\r\n                            <br />\r\n                            <b className=\"text-black\">\r\n                              ເນື່ອໃນ: {data?.title ? data?.title : \"-\"}\r\n                            </b>\r\n                            <br />\r\n                            <b className=\"text-black\">\r\n                              ວັນທີ່: {formatDateTime(data?.createdAt)}\r\n                            </b>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"right\">\r\n                          <button className=\"btn  btn-sm\">\r\n                            <EditPromotions\r\n                              dataValue={data}\r\n                              onSuccess={() => {\r\n                                setReloadData(!reloadData);\r\n                              }}\r\n                            />\r\n                          </button>\r\n                        </div>\r\n                      </a>\r\n                    </>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <NoData loading={loading} />\r\n              )}\r\n              {setData?.promotions?.total > 50 && (\r\n                <Pagination\r\n                  className=\"mt-2\"\r\n                  pageTotal={countPage}\r\n                  currentPage={numberPage}\r\n                  onPageChange={(page) => {\r\n                    history.push({\r\n                      search: setParams(`page`, page),\r\n                    });\r\n                  }}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          bottom: 5,\r\n          backgroundColor: \"#edece8\",\r\n        }}\r\n        className=\"col-md-12 appBottomMenu\"\r\n      >\r\n        <AddPromotions\r\n          onSuccess={(e) => {\r\n            setReloadData(!reloadData);\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\n\nexport const QUERY_INCOME_TYPE = gql`\n  query IncomeTypes(\n    $where: IncomeTypeWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    incomeTypes(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        id_income\n        incomeTitle\n      }\n    }\n  }\n`;\nexport const CREATE_INCOME_TYPE = gql`\n  mutation CreateIncomeType($data: IncomeTypeInput!) {\n    createIncomeType(data: $data) {\n      id_income\n    }\n  }\n`;\nexport const UPDATE_INCOME_TYPE = gql`\n  mutation UpdateIncomeType(\n    $data: IncomeTypeInput!\n    $where: IncomeTypeWhereInputOne\n  ) {\n    updateIncomeType(data: $data, where: $where) {\n      id_income\n    }\n  }\n`;\n\nexport const DELETE_INCOME_TYPE = gql`\n  mutation DeleteIncomeType($where: IncomeTypeWhereInputOne!) {\n    deleteIncomeType(where: $where) {\n      id_income\n    }\n  }\n`;","// import { useLazyQuery } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n} from \"../../../../helper\";\n\nimport { CREATE_INCOME_TYPE } from \"./apollo\";\nimport Notiflix from \"notiflix\";\nimport { TextField } from \"@mui/material\";\n\nexport default function AddTypeData({ onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n\n  const [show, setShow] = useState(false);\n  const [addType] = useMutation(CREATE_INCOME_TYPE);\n  const [house, setHouse] = useState({});\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n  const { handleChange, errors, values, handleSubmit, resetForm, isDisabled } =\n    useFormik({\n      initialValues: {\n        incomeTitle: \"\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (!values.incomeTitle) {\n          errors.incomeTitle = \"ກະລຸນາປ້ອນປະເພດລາຍຮັບ\";\n        }\n        return errors;\n      },\n      onSubmit: async (values) => {\n        loadingScreen();\n        try {\n          const { data: inputData } = await addType({\n            variables: {\n              data: {\n                incomeTitle: values?.incomeTitle,\n                house: house?._id,\n              },\n            },\n          });\n          if (inputData) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ບັນທືກຂໍ້ມູນສຳເລັດ\");\n            setShow(false);\n            onSuccess();\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"ເປີດຫ້ອງບໍ່ສຳເລັດ\");\n          }\n        } catch (error) {\n          Notiflix.Loading.remove();\n          console.log(error);\n        }\n      },\n    });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"icon-plus-circle me-1\" /> ປະເພດລາຍຮັບ\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header className=\"text-black\">\n          ຟອມເພີ່ມປະເພດລາຍຮັບ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"form-group mb-1\">\n            <TextField\n              type=\"text\"\n              className=\"inputLabel\"\n              variant=\"outlined\"\n              name=\"incomeTitle\"\n              placeholder=\"ປ້ອນປະເພດລາຍຮັບ\"\n              value={values.incomeTitle}\n              onChange={handleChange}\n              sx={{\n                m: 0,\n                width: \"100%\",\n                backgroundColor: \"#ffff\",\n              }}\n            />\n            <span className=\"text-danger\">{errors.incomeTitle}</span>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport {\r\n  getLocalHouse,\r\n  getStaffLogin,\r\n  ITEM_PER_PAGE,\r\n  loadingData,\r\n  messageError,\r\n  messageSuccess,\r\n  setParams,\r\n} from \"../../../../helper\";\r\nimport {\r\n  DELETE_INCOME_TYPE,\r\n  QUERY_INCOME_TYPE,\r\n  UPDATE_INCOME_TYPE,\r\n} from \"./apollo\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Notiflix from \"notiflix\";\r\nimport Pagination from \"../../../../helper/controllers/Pagination\";\r\nimport LimitData from \"../../../../helper/controllers/LimitData\";\r\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\r\nimport NoData from \"../../../../helper/components/NoData\";\r\nimport AddTypeData from \"./AddTypeData\";\r\n\r\nexport default function IncomeType() {\r\n  const { history, location, match } = useReactRouter();\r\n  const jsonObj = getStaffLogin();\r\n  const userInfo = jsonObj?.data;\r\n  // get query search\r\n  const query = new URLSearchParams(location.search);\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [numberRow, setNumberRow] = useState(100);\r\n  const [searchValue, setSearchValue] = useState();\r\n  const [addNew, setAddNew] = useState(true);\r\n  const [editStatus, setEditStatus] = useState(false);\r\n  const [getIndex, setGetIndex] = useState(0);\r\n  const [text, setText] = useState(\"\");\r\n  const [newText, setNewText] = useState(\"\");\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const [localHouse, setLocalHouse] = useState(\"\");\r\n  const [queryType, { data: expenseTypeData, loading }] = useLazyQuery(\r\n    QUERY_INCOME_TYPE,\r\n    { fetchPolicy: \"cache-and-network\" }\r\n  );\r\n\r\n  const [editIncomeType] = useMutation(UPDATE_INCOME_TYPE);\r\n  const [deleteType] = useMutation(DELETE_INCOME_TYPE);\r\n\r\n  useEffect(() => {\r\n    setLocalHouse(getLocalHouse()?._id);\r\n  }, []);\r\n  useEffect(() => {\r\n    queryType({\r\n      variables: {\r\n        where: {\r\n          incomeTitle: searchValue,\r\n          house: localHouse,\r\n        },\r\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\r\n        limit: searchValue ? 1000 : numberRow,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [numberRow, searchValue, numberPage, reloadData, localHouse]);\r\n\r\n  //pageination\r\n  const countData = expenseTypeData?.incomeTypes?.total;\r\n  const countPage = [];\r\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\r\n    countPage.push(i);\r\n  }\r\n  useEffect(() => {\r\n    const page = query.get(\"page\");\r\n    if (page) {\r\n      setNumberPage(parseInt(page));\r\n    } else {\r\n      setNumberRow(100);\r\n    }\r\n  }, [query]);\r\n\r\n  const NO = (index) => {\r\n    const no = numberRow * numberPage - numberRow;\r\n    if (numberRow > 0) {\r\n      return no + index + 1;\r\n    } else {\r\n      return index + 1;\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async (id) => {\r\n    const { data } = await editIncomeType({\r\n      variables: {\r\n        data: {\r\n          incomeTitle: String(newText),\r\n          house: localHouse,\r\n        },\r\n        where: {\r\n          id_income: parseInt(id),\r\n        },\r\n      },\r\n    });\r\n\r\n    if (data?.updateIncomeType?.id_income) {\r\n      messageSuccess(\"ແກ້ໄຂສຳເລັດ\");\r\n      setNewText(\"\");\r\n      setReloadData(!reloadData);\r\n      setEditStatus(false);\r\n    } else {\r\n      messageError(\"ແກ້ໄຂບໍ່ສຳເລັດ\");\r\n      setNewText(text);\r\n    }\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການລຶບຂໍ້ມູນນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      async () => {\r\n        try {\r\n          const { data } = await deleteType({\r\n            variables: {\r\n              where: {\r\n                id_income: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (data?.deleteIncomeType?._id) {\r\n            messageSuccess(\"ລືບຂໍ້ມູນສຳເລັດ\");\r\n            setReloadData(!reloadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ລືບບໍ່ສຳເລັດ\");\r\n          console.log(error);\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"content__header content__boxed overlapping\">\r\n        <div className=\"content__wrap\">\r\n          <h3 className=\"page-title mb-2 text-white\">ລາຍການຫມວດຊັບສິນ</h3>\r\n        </div>\r\n      </div>\r\n      <div className=\" body-content-lg\" style={{ marginTop: 30 }}>\r\n        <div className=\"option-section\">\r\n          <div className=\"row col-md-12  mt-4\">\r\n            <div className=\"option-card\">\r\n              <FormControl fullWidth sx={{ m: 0 }}>\r\n                <OutlinedInput\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <i className=\"fa-solid fa-magnifying-glass\" />\r\n                    </InputAdornment>\r\n                  }\r\n                  type=\"search\"\r\n                  placeholder=\"ຄັ້ນຫາ\"\r\n                  onChange={(e) => setSearchValue(e.target.value)}\r\n                />\r\n              </FormControl>\r\n              <div className=\"option-section mt-1\">\r\n                <div className=\"row gx-2\">\r\n                  {expenseTypeData?.incomeTypes?.total > 0 ? (\r\n                    <>\r\n                      <div className=\"table-responsive\">\r\n                        <Table className=\"table  table-sm mb-0\">\r\n                          <thead>\r\n                            <tr>\r\n                              <th className=\"text-start\">ລຳດັບ</th>\r\n                              <th className=\"text-nowrap text-start\">\r\n                                ປະເພດລາຍຮັບ\r\n                              </th>\r\n                              {userInfo?.role === \"SUPER_ADMIN\" ||\r\n                              userInfo?.role === \"IT\" ? (\r\n                                <th\r\n                                  className=\"text-nowrap text-center\"\r\n                                  width={100}\r\n                                >\r\n                                  ຈັດການ\r\n                                </th>\r\n                              ) : null}\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {expenseTypeData &&\r\n                              expenseTypeData?.incomeTypes?.data?.map(\r\n                                (item, index) => (\r\n                                  <tr key={index} className=\"text-black\">\r\n                                    <td className=\"text-start\">{NO(index)}</td>\r\n                                    <td className=\"text-nowrap text-start\">\r\n                                      {editStatus &&\r\n                                      getIndex === item?.id_income ? (\r\n                                        <input\r\n                                          type=\"text\"\r\n                                          placeholder=\"ປະເພດລາຍຮັບ\"\r\n                                          className=\"form-control\"\r\n                                          onChange={(e) =>\r\n                                            setNewText(e.target.value)\r\n                                          }\r\n                                          value={newText}\r\n                                        />\r\n                                      ) : item?.incomeTitle ? (\r\n                                        item?.incomeTitle\r\n                                      ) : (\r\n                                        \"-\"\r\n                                      )}\r\n                                    </td>\r\n                                    <td className=\"text-center\">\r\n                                      <div className=\"btn-group\">\r\n                                        {editStatus &&\r\n                                        getIndex === item?.id_income ? (\r\n                                          <button\r\n                                            onClick={() =>\r\n                                              handleUpdate(item?.id_income)\r\n                                            }\r\n                                            style={{ textDecoration: \"none\" }}\r\n                                            className=\"btn btn-success\"\r\n                                          >\r\n                                            <i className=\"icon-check-circle\" />\r\n                                          </button>\r\n                                        ) : (\r\n                                          <button\r\n                                            onClick={() => {\r\n                                              setEditStatus(true);\r\n                                              setGetIndex(item?.id_income);\r\n                                              setNewText(item?.incomeTitle);\r\n                                            }}\r\n                                            className=\"btn btn-sm\"\r\n                                            style={{ textDecoration: \"none\" }}\r\n                                          >\r\n                                            <i className=\"fas fa-edit\" />\r\n                                          </button>\r\n                                        )}\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          onClick={() =>\r\n                                            handleDelete(item?.id_income)\r\n                                          }\r\n                                          className=\"btn btn-sm\"\r\n                                        >\r\n                                          <i className=\"icon-trash text-danger\"></i>\r\n                                        </button>\r\n                                      </div>\r\n                                    </td>\r\n                                  </tr>\r\n                                )\r\n                              )}\r\n                          </tbody>\r\n                        </Table>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <NoData loading={loading} />\r\n                  )}\r\n                  {expenseTypeData?.incomeTypes?.total > 100 && (\r\n                    <Pagination\r\n                      className=\"mt-2\"\r\n                      pageTotal={countPage}\r\n                      currentPage={numberPage}\r\n                      onPageChange={(page) => {\r\n                        history.push({\r\n                          search: setParams(`page`, page),\r\n                        });\r\n                      }}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            backgroundColor: \"#edece8\",\r\n          }}\r\n          className=\"col-md-12 appBottomMenu\"\r\n        >\r\n          <AddTypeData\r\n            onSuccess={(e) => {\r\n              setReloadData(!reloadData);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\n\n\nexport const QUERY_EXPENSE_TYPE = gql`\n  query ExpenseTypes(\n    $where: ExpenseTypeWhereInput\n    $orderBy: OrderByInput\n    $skip: Int\n    $limit: Int\n  ) {\n    expenseTypes(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\n      total\n      data {\n        id_expense\n        expenseTitle\n      }\n    }\n  }\n`;\nexport const CREATE_EXPENSE_TYPE = gql`\n  mutation CreateExpenseType($data: ExpenseTypeInput!) {\n    createExpenseType(data: $data) {\n      id_expense\n    }\n  }\n`;\n\n\nexport const UPDATE_EXPENSE_TYPE = gql`\n  mutation UpdateExpenseType(\n    $data: ExpenseTypeInput!\n    $where: ExpenseTypeWhereInputOne\n  ) {\n    updateExpenseType(data: $data, where: $where) {\n      id_expense\n    }\n  }\n`;\nexport const DELETE_EXPENSE_TYPE = gql`\n  mutation DeleteExpenseType($where: ExpenseTypeWhereInputOne!) {\n    deleteExpenseType(where: $where) {\n      id_expense\n    }\n  }\n`;","// import { useLazyQuery } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport {\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n} from \"../../../../helper\";\n\nimport { CREATE_EXPENSE_TYPE } from \"./apollo\";\nimport Notiflix from \"notiflix\";\nimport { TextField } from \"@mui/material\";\n\nexport default function AddTypeData({ onSuccess }) {\n  const data = getStaffLogin();\n  const userInfo = data?.data;\n\n  const [show, setShow] = useState(false);\n  const [addType] = useMutation(CREATE_EXPENSE_TYPE);\n  const [house, setHouse] = useState({});\n  useEffect(() => {\n    setHouse(getLocalHouse());\n  }, []);\n  const { handleChange, errors, values, handleSubmit, resetForm, isDisabled } =\n    useFormik({\n      initialValues: {\n        expenseTitle: \"\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (!values.expenseTitle) {\n          errors.expenseTitle = \"ກະລຸນາປ້ອນປະລາຍຈ່າຍ\";\n        }\n        return errors;\n      },\n      onSubmit: async (values) => {\n        loadingScreen();\n        try {\n          const { data: inputData } = await addType({\n            variables: {\n              data: {\n                expenseTitle: values?.expenseTitle,\n                house: house?._id,\n              },\n            },\n          });\n          if (inputData) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ບັນທືກຂໍ້ມູນສຳເລັດ\");\n            setShow(false);\n            onSuccess();\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"ເປີດຫ້ອງບໍ່ສຳເລັດ\");\n          }\n        } catch (error) {\n          Notiflix.Loading.remove();\n          console.log(error);\n        }\n      },\n    });\n\n  return (\n    <React.Fragment>\n      <button\n        type=\"button\"\n        className=\"btn  btn-lg btn-block\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"icon-plus-circle me-1\" /> ປະເພດລາຍຈ່າຍ\n      </button>\n      <Modal show={show} animation={false} size=\"xl\">\n        <Modal.Header className=\"text-black\">\n          ຟອມເພີ່ມປະເພດລາຍຈ່າຍ\n          <a\n            className=\"pull-right ms-2 \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"form-group mb-1\">\n            <TextField\n              type=\"text\"\n              className=\"inputLabel\"\n              variant=\"outlined\"\n              name=\"expenseTitle\"\n              placeholder=\"ປ້ອນປະເພດລາຍຮັບ\"\n              value={values.expenseTitle}\n              onChange={handleChange}\n              sx={{\n                m: 0,\n                width: \"100%\",\n                backgroundColor: \"#ffff\",\n              }}\n            />\n            <span className=\"text-danger\">{errors.expenseTitle}</span>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n            disabled={isDisabled}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport {\r\n  getLocalHouse,\r\n  getStaffLogin,\r\n  ITEM_PER_PAGE,\r\n  loadingData,\r\n  messageError,\r\n  messageSuccess,\r\n  setParams,\r\n} from \"../../../../helper\";\r\nimport {\r\n  DELETE_EXPENSE_TYPE,\r\n  QUERY_EXPENSE_TYPE,\r\n  UPDATE_EXPENSE_TYPE,\r\n} from \"./apollo\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Notiflix from \"notiflix\";\r\nimport Pagination from \"../../../../helper/controllers/Pagination\";\r\nimport LimitData from \"../../../../helper/controllers/LimitData\";\r\nimport { FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\r\nimport NoData from \"../../../../helper/components/NoData\";\r\nimport AddTypeData from \"./AddTypeData\";\r\n\r\nexport default function ExpenseTypeScreen() {\r\n  const { history, location, match } = useReactRouter();\r\n  const jsonObj = getStaffLogin();\r\n  const userInfo = jsonObj?.data;\r\n  // get query search\r\n  const query = new URLSearchParams(location.search);\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [numberRow, setNumberRow] = useState(100);\r\n  const [searchValue, setSearchValue] = useState();\r\n  const [addNew, setAddNew] = useState(true);\r\n  const [editStatus, setEditStatus] = useState(false);\r\n  const [getIndex, setGetIndex] = useState(0);\r\n  const [text, setText] = useState(\"\");\r\n  const [newText, setNewText] = useState(\"\");\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const [localHouse, setLocalHouse] = useState(\"\");\r\n  const [queryType, { data: expenseTypeData, loading }] = useLazyQuery(\r\n    QUERY_EXPENSE_TYPE,\r\n    { fetchPolicy: \"cache-and-network\" }\r\n  );\r\n\r\n  const [editType] = useMutation(UPDATE_EXPENSE_TYPE);\r\n  const [deleteType] = useMutation(DELETE_EXPENSE_TYPE);\r\n\r\n  useEffect(() => {\r\n    setLocalHouse(getLocalHouse()?._id);\r\n  }, []);\r\n  useEffect(() => {\r\n    queryType({\r\n      variables: {\r\n        where: {\r\n          expenseTitle: searchValue,\r\n          house: localHouse,\r\n        },\r\n        skip: searchValue ? 0 : numberRow * (numberPage - 1),\r\n        limit: searchValue ? 1000 : numberRow,\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [numberRow, searchValue, numberPage, reloadData, localHouse]);\r\n\r\n  //pageination\r\n  const countData = expenseTypeData?.expenseTypes?.total;\r\n  const countPage = [];\r\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\r\n    countPage.push(i);\r\n  }\r\n  useEffect(() => {\r\n    const page = query.get(\"page\");\r\n    if (page) {\r\n      setNumberPage(parseInt(page));\r\n    } else {\r\n      setNumberRow(100);\r\n    }\r\n  }, [query]);\r\n\r\n  const NO = (index) => {\r\n    const no = numberRow * numberPage - numberRow;\r\n    if (numberRow > 0) {\r\n      return no + index + 1;\r\n    } else {\r\n      return index + 1;\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async (id) => {\r\n    const { data } = await editType({\r\n      variables: {\r\n        data: {\r\n          expenseTitle: String(newText),\r\n          house: localHouse,\r\n        },\r\n        where: {\r\n          id_expense: parseInt(id),\r\n        },\r\n      },\r\n    });\r\n\r\n    if (data?.updateExpenseType?.id_expense) {\r\n      messageSuccess(\"ແກ້ໄຂສຳເລັດ\");\r\n      setNewText(\"\");\r\n      setReloadData(!reloadData);\r\n      setEditStatus(false);\r\n    } else {\r\n      messageError(\"ແກ້ໄຂບໍ່ສຳເລັດ\");\r\n      setNewText(text);\r\n    }\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການລຶບຂໍ້ມູນນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      async () => {\r\n        try {\r\n          const { data } = await deleteType({\r\n            variables: {\r\n              where: {\r\n                id_expense: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (data?.deleteIncomeType?._id) {\r\n            messageSuccess(\"ລືບຂໍ້ມູນສຳເລັດ\");\r\n            setReloadData(!reloadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ລືບບໍ່ສຳເລັດ\");\r\n          console.log(error);\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"content__header content__boxed overlapping\">\r\n        <div className=\"content__wrap\">\r\n          <h3 className=\"page-title mb-2 text-white\">ລາຍການຫມວດຊັບສິນ</h3>\r\n        </div>\r\n      </div>\r\n      <div className=\" body-content-lg\" style={{ marginTop: 30 }}>\r\n        <div className=\"option-section\">\r\n          <div className=\"row col-md-12  mt-4\">\r\n            <div className=\"option-card\">\r\n              <FormControl fullWidth sx={{ m: 0 }}>\r\n                <OutlinedInput\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <i className=\"fa-solid fa-magnifying-glass\" />\r\n                    </InputAdornment>\r\n                  }\r\n                  type=\"search\"\r\n                  placeholder=\"ຄັ້ນຫາ\"\r\n                  onChange={(e) => setSearchValue(e.target.value)}\r\n                />\r\n              </FormControl>\r\n              <div className=\"option-section mt-1\">\r\n                <div className=\"row gx-2\">\r\n                  {expenseTypeData?.expenseTypes?.total > 0 ? (\r\n                    <>\r\n                      <div className=\"table-responsive\">\r\n                        <Table className=\"table  table-sm mb-0\">\r\n                          <thead>\r\n                            <tr>\r\n                              <th className=\"text-start\">ລຳດັບ</th>\r\n                              <th className=\"text-nowrap text-start\">\r\n                                ປະເພດລາຍຮັບ\r\n                              </th>\r\n                              {userInfo?.role === \"SUPER_ADMIN\" ||\r\n                              userInfo?.role === \"IT\" ? (\r\n                                <th\r\n                                  className=\"text-nowrap text-center\"\r\n                                  width={100}\r\n                                >\r\n                                  ຈັດການ\r\n                                </th>\r\n                              ) : null}\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {expenseTypeData?.expenseTypes?.data?.map(\r\n                                (item, index) => (\r\n                                  <tr key={index} className=\"text-black\">\r\n                                    <td className=\"text-start\">{NO(index)}</td>\r\n                                    <td className=\"text-nowrap text-start\">\r\n                                      {editStatus &&\r\n                                      getIndex === item?.id_expense ? (\r\n                                        <input\r\n                                          type=\"text\"\r\n                                          placeholder=\"ປະເພດລາຍຮັບ\"\r\n                                          className=\"form-control\"\r\n                                          onChange={(e) =>\r\n                                            setNewText(e.target.value)\r\n                                          }\r\n                                          value={newText}\r\n                                        />\r\n                                      ) : item?.expenseTitle ? (\r\n                                        item?.expenseTitle\r\n                                      ) : (\r\n                                        \"-\"\r\n                                      )}\r\n                                    </td>\r\n                                    <td className=\"text-center\">\r\n                                      <div className=\"btn-group\">\r\n                                        {editStatus &&\r\n                                        getIndex === item?.id_expense ? (\r\n                                          <button\r\n                                            onClick={() =>\r\n                                              handleUpdate(item?.id_expense)\r\n                                            }\r\n                                            style={{ textDecoration: \"none\" }}\r\n                                            className=\"btn btn-success\"\r\n                                          >\r\n                                            <i className=\"icon-check-circle\" />\r\n                                          </button>\r\n                                        ) : (\r\n                                          <button\r\n                                            onClick={() => {\r\n                                              setEditStatus(true);\r\n                                              setGetIndex(item?.id_expense);\r\n                                              setNewText(item?.expenseTitle);\r\n                                            }}\r\n                                            className=\"btn btn-sm\"\r\n                                            style={{ textDecoration: \"none\" }}\r\n                                          >\r\n                                            <i className=\"fas fa-edit\" />\r\n                                          </button>\r\n                                        )}\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          onClick={() =>\r\n                                            handleDelete(item?.id_expense)\r\n                                          }\r\n                                          className=\"btn btn-sm\"\r\n                                        >\r\n                                          <i className=\"icon-trash text-danger\"></i>\r\n                                        </button>\r\n                                      </div>\r\n                                    </td>\r\n                                  </tr>\r\n                                )\r\n                              )}\r\n                          </tbody>\r\n                        </Table>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <NoData loading={loading} />\r\n                  )}\r\n                  {expenseTypeData?.expenseTypes?.total > 100 && (\r\n                    <Pagination\r\n                      className=\"mt-2\"\r\n                      pageTotal={countPage}\r\n                      currentPage={numberPage}\r\n                      onPageChange={(page) => {\r\n                        history.push({\r\n                          search: setParams(`page`, page),\r\n                        });\r\n                      }}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            backgroundColor: \"#edece8\",\r\n          }}\r\n          className=\"col-md-12 appBottomMenu\"\r\n        >\r\n          <AddTypeData\r\n            onSuccess={(e) => {\r\n              setReloadData(!reloadData);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const QUERY_EXTRA_EXPENSE = gql`\r\n  query ExtraExpenses(\r\n    $where: ExtraExpenseWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    extraExpenses(\r\n      where: $where\r\n      orderBy: $orderBy\r\n      skip: $skip\r\n      limit: $limit\r\n    ) {\r\n      total\r\n      data {\r\n        id_list\r\n        detail\r\n        incomeKIP\r\n        expenseKIP\r\n        endBalanceKIP\r\n        accountantDate\r\n        house {\r\n          _id\r\n          houseName\r\n          houseCode\r\n          contactPhone\r\n        }\r\n        StaffFullName\r\n        extraType\r\n        fileUpload\r\n        createdAt\r\n        updatedAt\r\n        confirmStatus\r\n        confirmDate\r\n        confirmBy {\r\n          _id\r\n          firstName\r\n          lastName\r\n        }\r\n        expenseType {\r\n          id_expense\r\n          expenseTitle\r\n        }\r\n        incomeType {\r\n          id_income\r\n          incomeTitle\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_SUMMARY_EXPENSE = gql`\r\n  query SummaryExtraExpense($where: ExtraExpenseWhereInput) {\r\n    summaryExtraExpense(where: $where) {\r\n      totalIncome\r\n      totalExpense\r\n      totalEndBalance\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_INCOME_TYPE = gql`\r\n  query IncomeTypes(\r\n    $where: IncomeTypeWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    incomeTypes(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n      total\r\n      data {\r\n        id_income\r\n        incomeTitle\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const CREATE_INCOME_TYPE = gql`\r\n  mutation CreateIncomeType($data: IncomeTypeInput!) {\r\n    createIncomeType(data: $data) {\r\n      id_income\r\n    }\r\n  }\r\n`;\r\nexport const UPDATE_INCOME_TYPE = gql`\r\n  mutation UpdateIncomeType(\r\n    $data: IncomeTypeInput!\r\n    $where: IncomeTypeWhereInputOne\r\n  ) {\r\n    updateIncomeType(data: $data, where: $where) {\r\n      id_income\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DELETE_INCOME_TYPE = gql`\r\n  mutation DeleteIncomeType($where: IncomeTypeWhereInputOne!) {\r\n    deleteIncomeType(where: $where) {\r\n      id_income\r\n    }\r\n  }\r\n`;\r\nexport const QUERY_EXPENSE_TYPE = gql`\r\n  query ExpenseTypes(\r\n    $where: ExpenseTypeWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    expenseTypes(where: $where, orderBy: $orderBy, skip: $skip, limit: $limit) {\r\n      total\r\n      data {\r\n        id_expense\r\n        expenseTitle\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const CREATE_EXPENSE_TYPE = gql`\r\n  mutation CreateExpenseType($data: ExpenseTypeInput!) {\r\n    createExpenseType(data: $data) {\r\n      id_expense\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_EXPENSE_TYPE = gql`\r\n  mutation UpdateExpenseType(\r\n    $data: ExpenseTypeInput!\r\n    $where: ExpenseTypeWhereInputOne\r\n  ) {\r\n    updateExpenseType(data: $data, where: $where) {\r\n      id_expense\r\n    }\r\n  }\r\n`;\r\nexport const DELETE_EXPENSE_TYPE = gql`\r\n  mutation DeleteExpenseType($where: ExpenseTypeWhereInputOne!) {\r\n    deleteExpenseType(where: $where) {\r\n      id_expense\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_EXTRA_EXPENSE = gql`\r\n  mutation UpdateExtraExpense(\r\n    $data: ExtraExpenseInput!\r\n    $where: ExtraExpenseWhereInputOne!\r\n  ) {\r\n    updateExtraExpense(data: $data, where: $where) {\r\n      id_list\r\n    }\r\n  }\r\n`;\r\nexport const DELETE_EXTRA_EXPENSE = gql`\r\n  mutation DeleteExtraExpense($where: ExtraExpenseWhereInputOne!) {\r\n    deleteExtraExpense(where: $where) {\r\n      id_list\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CREATE_EXPENSES = gql`\r\n  mutation CreateExtraExpense($data: ExtraExpenseInput!) {\r\n    createExtraExpense(data: $data) {\r\n      id_list\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SUMMARY_EXTRA_EXPENSE = gql`\r\n  query ExtraExpenses(\r\n    $where: ExtraExpenseWhereInput\r\n    $orderBy: OrderByInput\r\n    $skip: Int\r\n    $limit: Int\r\n  ) {\r\n    extraExpenses(\r\n      where: $where\r\n      orderBy: $orderBy\r\n      skip: $skip\r\n      limit: $limit\r\n    ) {\r\n      total\r\n      data {\r\n        id_list\r\n        incomeKIP\r\n        expenseKIP\r\n        endBalanceKIP\r\n        accountantDate\r\n        extraType\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getLocalHouse } from \"..\";\n\nconst QUERY = gql`\n  query IncomeTypes($where: IncomeTypeWhereInput) {\n    incomeTypes(where: $where) {\n      data {\n        id_income\n        incomeTitle\n      }\n    }\n  }\n`;\nexport default function SelectIncomeType({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(QUERY, {\n    fetchPolicy: \"network-only\",\n  });\n  const [localHouse, setLocalHouse] = useState(\"\");\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          house: localHouse?._id,\n        },\n      },\n    });\n  }, [localHouse]);\n\n\n  useEffect(() => {\n    const results = data?.incomeTypes?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?.id_income,\n          label: item?.incomeTitle,\n        };\n        return object;\n      });\n      setItems(_results);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?.id_income === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n\n  return (\n    <div style={{ width: \"100%\", color: \"black\", fontSize: 16 }}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກປະເພດລາຍຣັບ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","import Notiflix, { Loading } from \"notiflix\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useApolloClient, useMutation } from \"@apollo/client\";\nimport {\n  currency,\n  formatDateTime,\n  getLocalHouse,\n  getLocalProvince,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  toDayDash,\n  valiDate,\n} from \"../../../../helper\";\nimport { CREATE_EXPENSES } from \"../apollo\";\nimport { useFormik } from \"formik\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { s3Client } from \"../../../../helper/s3Client\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport SelectIncomeType from \"../../../../helper/components/SelectIncomeType\";\nexport default function AddIncome({ onSuccess }) {\n  const [show, setShow] = useState(false);\n  const [createIncome] = useMutation(CREATE_EXPENSES);\n  const [userData, setUserData] = useState({});\n  const [startDate, setStartDate] = useState(toDayDash());\n  const getUser = userData?.firstName + \" \" + userData?.lastName;\n  const [getTypeIncome, setTypIncome] = useState();\n  useEffect(() => {\n    const local = getStaffLogin();\n    setUserData(local?.data);\n  }, []);\n  const [imageName, setImageName] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  const handleUpload = async (event) => {\n    const imageName = uuidv4() + \".\" + event.target.files[0].type.split(\"/\")[1];\n    const _file = event.target.files[0];\n    setFile(_file);\n    const res = await s3Client.uploadFile(_file, imageName);\n    if (res?.location) {\n      setFile(_file);\n      setImageName(imageName);\n      messageSuccess(\"ອັບໂຫຼດເອກະສານສຳເລັດແລ້ວ\");\n    } else {\n      setFile(null);\n      setImageName(\"\");\n      messageWarning(\"ອັບໂຫຼດເອກະສານບໍ່ສຳເລັດ\");\n    }\n  };\n  const { handleChange, errors, values, handleSubmit, resetForm, submitCount } =\n    useFormik({\n      initialValues: {\n        detail: \"\",\n        incomeKIP: \"\",\n        extraType: \"INCOME\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (values.incomeKIP <= 0) {\n          errors.incomeKIP = \"ກະລູນາປ້ອນຈຳນວນເງິນ ຕ້ອງຫລາຍກວ່າ 0\";\n        }\n        if (!getTypeIncome?.id_income)\n          errors.incomeType = \"ກະລູນາເລືອກປະເພດລາຍຮັບ\";\n        return errors;\n      },\n      onSubmit: async (values) => {\n        loadingScreen();\n        try {\n          const { data: _create } = await createIncome({\n            variables: {\n              data: {\n                incomeKIP: parseInt(values.incomeKIP),\n                accountantDate: String(startDate),\n                fileUpload: String(imageName),\n                StaffFullName: String(getUser),\n                house: String(localHouse),\n                detail: String(values.detail),\n                extraType: \"INCOME\",\n                incomeType: String(getTypeIncome?.id_income),\n              },\n            },\n          });\n          if (_create) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ລົງລາຍຮັບສຳເລັດແລ້ວ\");\n            onSuccess();\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n            setShow(false);\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"ລົງລາຍຮັບບໍສຳເລັດ\");\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n            onSuccess();\n          }\n        } catch (error) {\n          Notiflix.Loading.remove();\n          console.log(error);\n          setShow(false);\n        }\n      },\n    });\n\n  return (\n    <>\n      <div\n        className=\"bg-success col-6 btn btn-block p-2 rounded\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"fa-solid fa-hand-holding-dollar me-1\" />\n        ລົງລາຍຮັບ\n      </div>\n\n      <Modal show={show} onHide={() => setShow(false)} size=\"lg\">\n        <Modal.Header>\n          <h3>ຟອມລົງລາຍຮັບ</h3>\n          <a\n            className=\"pull-right float-end \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"form-row  mt-1\">\n            <div className=\"col-md-12\">\n              <TextField\n                label=\" \"\n                variant=\"outlined\"\n                name=\"fileUpload\"\n                onChange={handleUpload}\n                type=\"file\"\n                accept=\"image/x-png,image/gif,image/jpeg\"\n                sx={{\n                  m: 0,\n                  width: \"100%\",\n                  backgroundColor: \"#ffff\",\n                }}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"col-md-12 mt-1\">\n              <SelectIncomeType\n                style={{ minWidth: 200 }}\n                value={getTypeIncome?.id_income}\n                onChange={(obj) => {\n                  if (obj?.id_income) {\n                    setTypIncome(obj);\n                  }\n                }}\n              />\n              <div className=\"text-danger\">{errors.incomeType}</div>\n            </div>\n          </div>\n          <div className=\"form-row  mt-1\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      ຈຳນວນເງິນ:{\" \"}\n                    </InputAdornment>\n                  }\n                  type=\"number\"\n                  placeholder=\"ລາຍຮັບ\"\n                  onWheel={(e) => e.target.blur()}\n                  value={values?.incomeKIP}\n                  name=\"incomeKIP\"\n                  onChange={handleChange}\n                />\n              </FormControl>\n              <div className=\"text-danger\">{errors.incomeKIP}</div>\n            </div>\n          </div>\n          <div className=\"form-row  mt-1\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">ວັນທີ່: </InputAdornment>\n                  }\n                  type=\"date\"\n                  value={startDate}\n                  onChange={(e) => setStartDate(e.target.value)}\n                />\n              </FormControl>\n            </div>\n          </div>\n          <div className=\"form-row  mt-1\">\n            <label className=\"text-black \">ລາຍລະອຽດ</label>\n            <div className=\"col-md-12\">\n              <textarea\n                rows={3}\n                name=\"detail\"\n                className=\"form-control form-control-lg text-black\"\n                placeholder=\"...\"\n                onChange={handleChange}\n                value={values?.detail}\n              ></textarea>\n            </div>\n          </div>\n        </div>\n        <Modal.Footer className=\"border-top\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { Modal, Row } from \"react-bootstrap\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  currency,\n  formatDateDash,\n  formateDateSlash,\n  houseStatus,\n  getStaffLogin,\n} from \"../../../helper\";\nfunction Export({ _Data }) {\n  const jsonObj = getStaffLogin();\n  const userInfo = jsonObj?.data;\n  const inputRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => inputRef.current,\n  });\n  let today = moment().format(\"YYYY-MM-DD\");\n  const [show, setShow] = useState(false);\n  const { history, location, match } = useReactRouter();\n  const queryParams = new URLSearchParams(location.search);\n\n  // sumBy packagePriceKIP\n  const SumMoney = {\n    incomeKIP: _.sumBy(_Data?.extraExpenses?.data, \"incomeKIP\"),\n    expenseKIP: _.sumBy(_Data?.extraExpenses?.data, \"expenseKIP\"),\n    endBalanceKIP: _.sumBy(_Data?.extraExpenses?.data, \"endBalanceKIP\"),\n  };\n\n  return (\n    <React.Fragment>\n      <div className=\"col-md-12 mb-1\">\n        <button\n          type=\"button\"\n          className=\"btn btn-dark float-right mb-1\"\n          width=\"10px\"\n          onClick={() => setShow(true)}\n        >\n          <i className=\"fas fa-print\" />\n        </button>\n      </div>\n\n      <Modal\n        show={show}\n        onHide={() => setShow(false)}\n        animation={false}\n        size=\"xl\"\n      >\n        <Modal.Header>\n          ພີມລາຍລາຍງານ\n          <a\n            href=\"javaScript:void(0)\"\n            className=\"pull-right ms-2  float-end\"\n            style={{ textDecoration: \"none\" }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <Row>\n            <div className=\"col-md-12 \">\n              <button\n                onClick={handlePrint}\n                type=\"button\"\n                className=\"btn btn-dark me-2 float-start\"\n              >\n                <i className=\"icon-print mr-1\"></i> ພິມລາຍງານ\n              </button>\n            </div>\n          </Row>\n          <div style={{ paddingBottom: \"10px\" }} />\n          <div className=\"table-responsive\">\n            <table\n              className=\"table-sm\"\n              border=\"0\"\n              style={{\n                marginTop: 20,\n                width: \"100%\",\n                fontFamily: \"Phetsarath OT\",\n                backgroundColor: \"#ffffff\",\n              }}\n              ref={inputRef}\n            >\n              <thead>\n                <tr>\n                  <td colSpan={6} style={{ textAlign: \"left\", color: \"black\" }}>\n                    <img\n                      // src={logo}\n                      style={{\n                        width: 150,\n                        marginBottom: 1,\n                        marginTop: 20,\n                      }}\n                      alt=\"\"\n                      id=\"table-to-xls\"\n                    />\n                    <br />\n                    ຊື່ກິດຈະການ:{\" \"}\n                    {_Data?.extraExpenses?.data[0]?.house?.houseName},\n                    <br />\n                    ໂທ: {_Data?.extraExpenses?.data[0]?.house?.contactPhone}\n                  </td>\n                  <td colSpan={6} className=\"text-end text-black\">\n                    ວັນທີ:{formateDateSlash(today)}\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={8}>\n                    <h3 className=\"text-center\">ລາຍງານລາຍຮັບ ແລະ ລາຍຈ່າຍ</h3>\n                    <span className=\"text-center text-black\">\n                      ພີມໂດຍ: {userInfo?.firstName ? userInfo?.firstName : \"\"}{\" \"}\n                      {userInfo?.lastName ? userInfo?.lastName : \"\"}\n                    </span>\n                  </td>\n                </tr>\n                <tr style={{ backgroundColor: \"#f54f02\", color: \"white\" }}>\n                  <td className=\"border text-nowrap\">ລຳດັບ</td>\n                  <td className=\"border text-nowrap\">ພະນັກງານ</td>\n                  <td className=\"border text-nowrap\">ລົງວັນທີ່</td>\n                  <td className=\"border text-nowrap\">ເນື້ອໃນລາຍການ</td>\n                  <td className=\"text-end border text-nowrap\"> ລາຍຮັບ</td>\n                  <td className=\"text-end border text-nowrap\">ລາຍຈ່າຍ</td>\n                  <td className=\"text-end border text-nowrap\">ອານຸມັດໂດຍ</td>\n                </tr>\n              </thead>\n              <tbody>\n                {_Data &&\n                  _Data?.extraExpenses?.data?.map((data, index) => (\n                    <tr\n                      key={index}\n                      className={\n                        data?.confirmStatus === \"CONFIRMED\"\n                          ? \"table-success\"\n                          : \"\"\n                      }\n                    >\n                      <td className=\"text-nowrap text-center border text-black\">\n                        {index + 1}\n                      </td>\n                      <td className=\"text-nowrap border text-black\">\n                        {data?.StaffFullName}\n                      </td>\n                      <td className=\"text-nowrap border text-black text-center\">\n                        {data?.createdAt\n                          ? formatDateDash(data?.accountantDate)\n                          : \"-\"}\n                      </td>\n\n                      <td className=\" border  text-black\">\n                        {data?.detail ? data?.detail : \"-\"}\n                      </td>\n                      <td className=\"text-nowrap border text-end text-black\">\n                        {currency(data?.incomeKIP ? data?.incomeKIP : 0)} ກີບ\n                      </td>\n                      <td className=\"text-nowrap border text-end text-black\">\n                        {currency(data?.expenseKIP ? data?.expenseKIP : 0)} ກີບ\n                      </td>\n                      <td className=\"text-nowrap border text-center text-black\">\n                        <span>\n                          {data?.confirmBy?.firstName\n                            ? data?.confirmBy?.firstName\n                            : \"\" + \" \" + data?.confirmBy?.lastName\n                            ? data?.confirmBy?.lastName\n                            : \"\"}\n                        </span>\n                        {data?.confirmDate ? (\n                          <>\n                            <br />\n                            {data?.confirmDate\n                              ? formatDateDash(data?.confirmDate)\n                              : \"\"}\n                          </>\n                        ) : (\n                          \"ຍັງບໍທັນອານຸມັດ\"\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n                <tr style={{ backgroundColor: \"#fafafa\" }}>\n                  <td colSpan={4} className=\"border\">\n                    <h3 className=\"text-center\">ລວມ:</h3>\n                  </td>\n                  <td className=\"border text-end\">\n                    <h3>\n                      {SumMoney?.incomeKIP ? currency(SumMoney?.incomeKIP) : 0}\n                    </h3>\n                  </td>\n                  <td className=\"border text-end\">\n                    <h3>\n                      {SumMoney?.expenseKIP\n                        ? currency(SumMoney?.expenseKIP)\n                        : 0}\n                    </h3>\n                  </td>\n                  <td className=\"border text-end\">\n                    <h3>\n                      {currency(\n                        parseInt(SumMoney?.incomeKIP) +\n                          parseInt(SumMoney?.expenseKIP)\n                      )}\n                    </h3>\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={3} className=\" text-center p-4\">\n                    <h4 className=\"text-center\">ເຊັນຜູ້ກວດສອບ/ອານຸມັດ</h4>\n                  </td>\n                  <td className=\" text-center p-4\" colSpan={4}>\n                    <h4>ພະນັກງານ</h4>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </Modal>\n    </React.Fragment>\n  );\n}\nexport default Export;\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport { useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { getLocalHouse } from \"..\";\n\nconst QUERY = gql`\n  query ExpenseTypes($where: ExpenseTypeWhereInput) {\n  expenseTypes(where: $where) {\n    data {\n      id_expense\n      expenseTitle\n    }\n  }\n}\n`;\nexport default function SelectExpressTypes({\n  className,\n  style,\n  onChange,\n  disabled,\n  value,\n}) {\n  const [items, setItems] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [fetchData, { data: data, loading: loading }] = useLazyQuery(QUERY, {\n    fetchPolicy: \"network-only\",\n  });\n  const [localHouse, setLocalHouse] = useState(\"\");\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n  useEffect(() => {\n    fetchData({\n      variables: {\n        where: {\n          house: localHouse?._id,\n        },\n      },\n    });\n  }, [localHouse]);\n\n  useEffect(() => {\n    const results = data?.expenseTypes?.data || [];\n    if (results?.length > 0) {\n      const _results = results.map((item) => {\n        const object = {\n          ...item,\n          value: item?.id_expense,\n          label: item?.expenseTitle,\n        };\n        return object;\n      });\n      setItems(_results);\n    } else {\n      setItems([]);\n    }\n  }, [data]);\n  //set value\n  useEffect(() => {\n    if (value) {\n      const result = items?.filter((item) => item?.id_expense === value);\n      setSelectedOption(result[0] || null);\n    } else {\n      setSelectedOption(null);\n    }\n  }, [items, value]);\n\n  return (\n    <div style={{ width: \"100%\", color: \"black\", fontSize: 16 }}>\n      <Select\n        styles={style}\n        className={className}\n        isDisabled={disabled}\n        value={selectedOption}\n        placeholder={loading ? \"ກຳລັງໂຫຼດ...\" : \"ເລືອກປະເພດລາຍຈ່າຍ\"}\n        onChange={(res) => {\n          setSelectedOption(res);\n          if (onChange) {\n            onChange(res);\n          }\n        }}\n        options={items}\n      />\n    </div>\n  );\n}\n","import Notiflix, { Loading } from \"notiflix\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport {\n  currency,\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  toDayDash,\n} from \"../../../../helper\";\nimport _ from \"lodash\";\nimport { useFormik } from \"formik\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { CREATE_EXPENSES, QUERY_EXTRA_EXPENSE } from \"../apollo\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport SelectExpressTypes from \"../../../../helper/components/SelectExpressTypes\";\nimport { s3Client } from \"../../../../helper/s3Client\";\nexport default function Expenses({ getData, onSuccess }) {\n  const [show, setShow] = useState(false);\n  const [createIncome] = useMutation(CREATE_EXPENSES);\n  const [userData, setUserData] = useState({});\n  const [startDate, setStartDate] = useState(toDayDash());\n  const [imageName, setImageName] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [getTypeExpress, setTypExpress] = useState({});\n  const getUser = userData?.firstName + \" \" + userData?.lastName;\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const [fetchData, { data: extraExpenseData, loading }] = useLazyQuery(\n    QUERY_EXTRA_EXPENSE,\n    { fetchPolicy: \"network-only\" }\n  );\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    const local = getStaffLogin();\n    setUserData(local?.data);\n  }, []);\n\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    fetchData({\n      variables: {\n        where: {\n          house: localHouse,\n        },\n        limit: 1,\n        orderBy: \"createdAt_DESC\",\n      },\n    });\n  }, [localHouse,show]);\n\n  const handleUpload = async (event) => {\n    const imageName = uuidv4() + \".\" + event.target.files[0].type.split(\"/\")[1];\n    const _file = event.target.files[0];\n    setFile(_file);\n    const res = await s3Client.uploadFile(_file, imageName);\n    if (res?.location) {\n      setFile(_file);\n      setImageName(imageName);\n      messageSuccess(\"ອັບໂຫຼດເອກະສານສຳເລັດແລ້ວ\");\n    } else {\n      setFile(null);\n      setImageName(\"\");\n      messageWarning(\"ການອັບໂຫຼດເອກະສານບໍ່ສຳເລັດ\");\n    }\n  };\n\n  const { handleChange, errors, values, handleSubmit, resetForm, submitCount } =\n    useFormik({\n      initialValues: {\n        detail: \"\",\n        expenseKIP: \"\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (!values.expenseKIP) {\n          errors.expenseKIP = \"ກະລູນາປ້ອນຈຳນວນເງິນ\";\n        }\n        if (!values.detail) {\n          errors.detail = \"ກະລູນາປ້ອນລາຍລະອຽດ\";\n        }\n        if (!getTypeExpress?.id_expense)\n          errors.expenseType = \"ກະລູນາເລືອກປະເພດລາຍຈ່າຍ\";\n        return errors;\n      },\n      onSubmit: async (values) => {\n        loadingScreen();\n        try {\n          const { data: _create } = await createIncome({\n            variables: {\n              data: {\n                accountantDate: String(startDate),\n                fileUpload: String(imageName),\n                StaffFullName: String(getUser),\n                house: String(localHouse),\n                detail: String(values.detail),\n                extraType: \"EXPENSE\",\n                expenseKIP: parseInt(values.expenseKIP),\n                expenseType: String(getTypeExpress?.id_expense),\n              },\n            },\n          });\n          if (_create) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ລົງລາຍຈ່າຍສຳເລັດແລ້ວ\");\n            onSuccess();\n            setImageName(\"\");\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n            setTypExpress(\"\");\n            setShow(false);\n          } else {\n            messageError(\"ລົງລາຍຈ່າຍບໍສຳເລັດ\");\n            onSuccess();\n          }\n        } catch (error) {\n          messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n          console.log(error);\n          onSuccess();\n        }\n      },\n    });\n\n  return (\n    <>\n      <div\n        className=\"bg-primary col-6 btn btn-block p-2 rounded\"\n        onClick={() => setShow(true)}\n        style={{ marginTop: -1 }}\n      >\n        <i className=\"fa-brands fa-amazon-pay\"></i> ລົງລາຍຈ່າຍ\n      </div>\n\n      <Modal show={show} onHide={() => setShow(false)} size=\"lg\">\n        <Modal.Header>\n          <h3>ຟອມລົງລາຍຈ່າຍ</h3>\n          <a\n            className=\"pull-right float-end \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"form-row\">\n            <div className=\"col-md-12\">\n              <TextField\n                label=\" \"\n                variant=\"outlined\"\n                name=\"fileUpload\"\n                onChange={handleUpload}\n                type=\"file\"\n                accept=\"image/x-png,image/gif,image/jpeg\"\n                sx={{\n                  m: 0,\n                  width: \"100%\",\n                  backgroundColor: \"#ffff\",\n                }}\n              />\n            </div>\n          </div>\n          <div className=\"form-row mt-1\">\n            <div className=\"col-md-12\">\n              <SelectExpressTypes\n                style={{ minWidth: 200 }}\n                value={getTypeExpress?.id_expense}\n                onChange={(obj) => {\n                  if (obj?.id_expense) {\n                    setTypExpress(obj);\n                  }\n                }}\n              />\n              <div className=\"text-danger\">{errors.expenseType}</div>\n            </div>\n          </div>\n\n          <div className=\"form-row mt-1\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      ຍອດຄົງເຫຼືອ:{\" \"}\n                    </InputAdornment>\n                  }\n                  type=\"text\"\n                  placeholder=\"ລາຍຈ່າຍ\"\n                  name=\"accountantDate\"\n                  value={currency(\n                    extraExpenseData?.extraExpenses?.data[0]?.endBalanceKIP\n                  )}\n                  onChange={(e) => setStartDate(e.target.value)}\n                />\n              </FormControl>\n              <div className=\"text-danger\">{errors.expenseKIP}</div>\n            </div>\n          </div>\n\n          <div className=\"form-row mt-1\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      ຈຳນວນເງິນ:{\" \"}\n                    </InputAdornment>\n                  }\n                  type=\"number\"\n                  placeholder=\"ລາຍຈ່າຍ\"\n                  onWheel={(e) => e.target.blur()}\n                  value={values?.expenseKIP}\n                  name=\"expenseKIP\"\n                  onChange={handleChange}\n                />\n              </FormControl>\n              <div className=\"text-danger\">{errors.expenseKIP}</div>\n            </div>\n          </div>\n          <div className=\"form-row mt-1\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">ວັນທີ່: </InputAdornment>\n                  }\n                  type=\"date\"\n                  placeholder=\"ລາຍຈ່າຍ\"\n                  name=\"accountantDate\"\n                  value={startDate}\n                  onChange={(e) => setStartDate(e.target.value)}\n                />\n              </FormControl>\n            </div>\n            <label className=\"text-black mt-1\">ລາຍລະອຽດ</label>\n            <div className=\"col-md-12\">\n              <textarea\n                rows={3}\n                name=\"detail\"\n                className={\"form-control form-control-lg\"}\n                placeholder=\"...\"\n                onChange={handleChange}\n                value={values?.detail}\n              ></textarea>\n              <div className=\"text-danger\">{errors.detail}</div>\n            </div>\n          </div>\n        </div>\n        <Modal.Footer className=\"border-top\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport React, { useRef, useState } from \"react\";\r\nimport { Modal, Row } from \"react-bootstrap\";\r\nimport { aws_url_images} from \"../../../helper\";\r\nfunction PreviewImage({ image }) {\r\n  const [show, setShow] = useState(false);\r\n  return (\r\n    <React.Fragment>\r\n      <button className=\"btn btn-sm me-1\" disabled={image?false:true} onClick={() => setShow(true)}>\r\n        <i className=\"icon-receipt\" />\r\n      </button>\r\n\r\n      <Modal\r\n        size=\"xl\"\r\n        show={show}\r\n        animation={false}\r\n      >\r\n        <div className=\"p-2\">\r\n          <a\r\n            href=\"javaScript:void(0)\"\r\n            className=\"pull-right float-end\"\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <i className=\"icon-x fa-2x text-danger\" />\r\n          </a>\r\n          {!image ? (\r\n            <div className=\"text-center\">\r\n              <h3>ບໍ່ມີບິນ</h3>\r\n            </div>\r\n          ) : (\r\n            <img src={aws_url_images + image} className=\"w-100\" />\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default PreviewImage;\r\n","import Notiflix, { Loading } from \"notiflix\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useApolloClient, useMutation } from \"@apollo/client\";\nimport {\n  currency,\n  formatDateTime,\n  getLocalHouse,\n  getLocalProvince,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  toDayDash,\n  valiDate,\n} from \"../../../../helper\";\nimport { CREATE_EXPENSES, UPDATE_EXTRA_EXPENSE } from \"../apollo\";\nimport { useFormik } from \"formik\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { s3Client } from \"../../../../helper/s3Client\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport SelectIncomeType from \"../../../../helper/components/SelectIncomeType\";\nexport default function EditAddIncome({ getData, onSuccess }) {\n  const [show, setShow] = useState(false);\n  const [upDateExtra] = useMutation(UPDATE_EXTRA_EXPENSE);\n  const [userData, setUserData] = useState({});\n  const [startDate, setStartDate] = useState(toDayDash());\n  const getUser = userData?.firstName + \" \" + userData?.lastName;\n  const [getTypeIncome, setTypIncome] = useState();\n  // state price\n  const [inputPrice, setInputPrice] = useState();\n\n  useEffect(() => {\n    const local = getStaffLogin();\n    setUserData(local?.data);\n  }, []);\n  const [imageName, setImageName] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [localHouse, setLocalHouse] = useState(\"\");\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  const handleUpload = async (event) => {\n    const imageName = uuidv4() + \".\" + event.target.files[0].type.split(\"/\")[1];\n    const _file = event.target.files[0];\n    setFile(_file);\n    const res = await s3Client.uploadFile(_file, imageName);\n    if (res?.location) {\n      setFile(_file);\n      setImageName(imageName);\n      messageSuccess(\"ອັບໂຫຼດເອກະສານສຳເລັດແລ້ວ\");\n    } else {\n      setFile(null);\n      setImageName(\"\");\n      messageWarning(\"ອັບໂຫຼດເອກະສານບໍ່ສຳເລັດ\");\n    }\n  };\n  const {\n    handleChange,\n    errors,\n    values,\n    handleSubmit,\n    resetForm,\n    setFieldValue,\n    submitCount,\n  } = useFormik({\n    initialValues: {\n      detail: \"\",\n      incomeKIP: \"\",\n      extraType: \"INCOME\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (inputPrice <= 0) {\n        errors.incomeKIP = \"ກະລູນາປ້ອນຈຳນວນເງິນ ຕ້ອງຫລາຍກວ່າ 0\";\n      }\n      if (!getTypeIncome?.id_income)\n        errors.incomeType = \"ກະລູນາເລືອກປະເພດລາຍຮັບ\";\n      return errors;\n    },\n    onSubmit: async (values) => {\n      loadingScreen();\n      try {\n        const { data: _create } = await upDateExtra({\n          variables: {\n            data: {\n              incomeKIP: parseInt(inputPrice),\n              accountantDate: String(startDate),\n              fileUpload: String(imageName),\n              StaffFullName: String(getUser),\n              house: String(localHouse),\n              detail: String(values.detail),\n              extraType: \"INCOME\",\n              incomeType: String(getTypeIncome?.id_income),\n            },\n            where: {\n              id_list: parseInt(getData?.id_list),\n            },\n          },\n        });\n        if (_create) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ລົງລາຍຮັບສຳເລັດແລ້ວ\");\n          onSuccess();\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            window.scrollTo(0, 0);\n          }, 100);\n          setShow(false);\n        } else {\n          Notiflix.Loading.remove();\n          messageError(\"ລົງລາຍຮັບບໍສຳເລັດ\");\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            window.scrollTo(0, 0);\n          }, 100);\n          onSuccess();\n        }\n      } catch (error) {\n        Notiflix.Loading.remove();\n        console.log(error);\n        setShow(false);\n      }\n    },\n  });\n\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    setTypIncome(getData?.incomeType);\n    setFieldValue(\n      \"accountantDate\",\n      getData?.accountantDate ? getData?.accountantDate : \"\",\n      false\n    );\n    setFieldValue(\"detail\", getData?.detail ? getData?.detail : \"\", false);\n    setInputPrice(getData?.incomeKIP ? getData?.incomeKIP : 0);\n  }, [getData, show]);\n\n  return (\n    <>\n      <button className=\" btn btn-sm\" onClick={() => setShow(true)}>\n        <i className=\"fas fa-edit\" />\n      </button>\n      <Modal show={show} onHide={() => setShow(false)} size=\"lg\">\n        <Modal.Header closeButton>\n          <h3>ຟອມແກ້ໄຂລົງລາຍຮັບ</h3>\n          <a\n            className=\"pull-right float-end \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <div className=\"form-row  mt-1\">\n            <div className=\"col-md-12\">\n              <TextField\n                label=\" \"\n                variant=\"outlined\"\n                name=\"fileUpload\"\n                onChange={handleUpload}\n                type=\"file\"\n                accept=\"image/x-png,image/gif,image/jpeg\"\n                sx={{\n                  m: 0,\n                  width: \"100%\",\n                  backgroundColor: \"#ffff\",\n                }}\n              />\n              <i className=\"text-danger\">{errors.fileUpload}</i>\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"col-md-12 mt-1\">\n              <SelectIncomeType\n                style={{ minWidth: 200 }}\n                value={getTypeIncome?.id_income}\n                onChange={(obj) => {\n                  if (obj?.id_income) {\n                    setTypIncome(obj);\n                  }\n                }}\n              />\n              <div className=\"text-danger\">{errors.incomeType}</div>\n            </div>\n          </div>\n          <div className=\"form-row  mt-1\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      ຈຳນວນເງິນ:{\" \"}\n                    </InputAdornment>\n                  }\n                  type=\"number\"\n                  placeholder=\"ລາຍຮັບ\"\n                  onWheel={(e) => e.target.blur()}\n                  value={inputPrice}\n                  name=\"incomeKIP\"\n                  onChange={(e) => {\n                    setInputPrice(e.target.value);\n                  }}\n                />\n              </FormControl>\n              <div className=\"text-danger\">{errors.incomeKIP}</div>\n            </div>\n          </div>\n          <div className=\"form-row  mt-1\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">ວັນທີ່: </InputAdornment>\n                  }\n                  type=\"date\"\n                  value={startDate}\n                  onChange={(e) => setStartDate(e.target.value)}\n                />\n              </FormControl>\n            </div>\n          </div>\n          <div className=\"form-row  mt-1\">\n            <label className=\"text-black \">ລາຍລະອຽດ</label>\n            <div className=\"col-md-12\">\n              <textarea\n                rows={3}\n                name=\"detail\"\n                className=\"form-control form-control-lg text-black\"\n                placeholder=\"...\"\n                onChange={handleChange}\n                value={values?.detail}\n              ></textarea>\n            </div>\n          </div>\n        </div>\n        <Modal.Footer className=\"border-top\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n","import Notiflix, { Loading } from \"notiflix\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useMutation } from \"@apollo/client\";\nimport {\n  currency,\n  getLocalHouse,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  toDayDash,\n} from \"../../../../helper\";\nimport _ from \"lodash\";\nimport { useFormik } from \"formik\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { UPDATE_EXTRA_EXPENSE } from \"../apollo\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n  TextField,\n} from \"@mui/material\";\nimport SelectExpressTypes from \"../../../../helper/components/SelectExpressTypes\";\nimport { s3Client } from \"../../../../helper/s3Client\";\nexport default function UpdateEx({ getData, onSuccess }) {\n  const [show, setShow] = useState(false);\n  const [upDateExtra] = useMutation(UPDATE_EXTRA_EXPENSE);\n  const [userData, setUserData] = useState({});\n  const [startDate, setStartDate] = useState(toDayDash());\n  const [imageName, setImageName] = useState(\"\");\n  const [file, setFile] = useState(null);\n\n  const [getTypeExpress, setTypExpress] = useState({});\n  const getUser = userData?.firstName + \" \" + userData?.lastName;\n  const [localHouse, setLocalHouse] = useState(\"\");\n  // state price\n  const [inputPrice, setInputPrice] = useState();\n  const [defaultPrice, setDefaultPrice] = useState();\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    const local = getStaffLogin();\n    setUserData(local?.data);\n  }, []);\n  const handleUpload = async (event) => {\n    const imageName = uuidv4() + \".\" + event.target.files[0].type.split(\"/\")[1];\n    const _file = event.target.files[0];\n    setFile(_file);\n    const res = await s3Client.uploadFile(_file, imageName);\n    if (res?.location) {\n      setFile(_file);\n      setImageName(imageName);\n      messageSuccess(\"ອັບໂຫຼດເອກະສານສຳເລັດແລ້ວ\");\n    } else {\n      setFile(null);\n      setImageName(\"\");\n      messageWarning(\"ການອັບໂຫຼດເອກະສານບໍ່ສຳເລັດ\");\n    }\n  };\n\n  // qurey total\n  const _dataEndBalanceKIP = getData?.endBalanceKIP;\n  // get price input\n  const finalTPrice = parseInt(_dataEndBalanceKIP) + parseInt(defaultPrice);\n  // plus total\n  const getFinalTotalPrice = parseInt(finalTPrice) - parseInt(inputPrice);\n  const {\n    handleChange,\n    errors,\n    values,\n    handleSubmit,\n    resetForm,\n    setFieldValue,\n    submitCount,\n  } = useFormik({\n    initialValues: {\n      detail: \"\",\n      expenseKIP: \"\",\n    },\n    enableReinitialize: false,\n    validate: (values) => {\n      const errors = {};\n      if (!values.expenseKIP) {\n        errors.expenseKIP = \"ກະລູນາປ້ອນຈຳນວນເງິນ\";\n      }\n      if (!values.detail) {\n        errors.detail = \"ກະລູນາປ້ອນລາຍລະອຽດ\";\n      }\n      if (!getTypeExpress?.id_expense)\n        errors.expenseType = \"ກະລູນາເລືອກປະເພດລາຍຈ່າຍ\";\n      return errors;\n    },\n    onSubmit: async (values) => {\n      loadingScreen();\n      try {\n        const { data: _create } = await upDateExtra({\n          variables: {\n            data: {\n              accountantDate: String(startDate),\n              fileUpload: String(imageName),\n              StaffFullName: String(getUser),\n              house: String(localHouse),\n              detail: String(values.detail),\n              extraType: \"EXPENSE\",\n              expenseKIP: parseInt(inputPrice),\n              endBalanceKIP: parseInt(getFinalTotalPrice),\n              expenseType: String(getTypeExpress?.id_expense),\n            },\n            where: {\n              id_list: parseInt(getData?.id_list),\n            },\n          },\n        });\n        if (_create) {\n          Notiflix.Loading.remove();\n          messageSuccess(\"ລົງລາຍຈ່າຍສຳເລັດແລ້ວ\");\n          onSuccess();\n          setImageName(\"\");\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            window.scrollTo(0, 0);\n          }, 100);\n          setShow(false);\n        } else {\n          messageError(\"ລົງລາຍຈ່າຍບໍສຳເລັດ\");\n          onSuccess();\n        }\n      } catch (error) {\n        messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n        console.log(error);\n        onSuccess();\n      }\n    },\n  });\n  useEffect(() => {\n    if (!show) {\n      return;\n    }\n    setTypExpress(getData?.expenseType);\n    setFieldValue(\n      \"accountantDate\",\n      getData?.accountantDate ? getData?.accountantDate : \"\",\n      false\n    );\n    setFieldValue(\"detail\", getData?.detail ? getData?.detail : \"\", false);\n    setInputPrice(getData?.expenseKIP ? getData?.expenseKIP : 0);\n    setDefaultPrice(getData?.expenseKIP ? getData?.expenseKIP : 0);\n  }, [getData, show]);\n\n  return (\n    <>\n      <button\n        className=\"btn btn-sm\"\n        onClick={() => setShow(true)}\n        style={{ marginTop: -1 }}\n      >\n        <i className=\"fas fa-edit\"></i>\n      </button>\n\n      <Modal show={show} onHide={() => setShow(false)} size=\"lg\">\n        <Modal.Header>\n          <h3>ຟອມແກ້ໄຂລົງລາຍຈ່າຍ</h3>\n          <a\n            className=\"pull-right float-end \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\" style={{ backgroundColor: \"#f2f7f3\" }}>\n          <div className=\"form-row\">\n            <div className=\"col-md-12\">\n              <TextField\n                label=\" \"\n                variant=\"outlined\"\n                name=\"fileUpload\"\n                onChange={handleUpload}\n                type=\"file\"\n                accept=\"image/x-png,image/gif,image/jpeg\"\n                sx={{\n                  m: 0,\n                  width: \"100%\",\n                  backgroundColor: \"#ffff\",\n                }}\n              />\n            </div>\n          </div>\n          <div className=\"form-row mt-1\">\n            <div className=\"col-md-12\">\n              <SelectExpressTypes\n                style={{ minWidth: 200 }}\n                value={getTypeExpress?.id_expense}\n                onChange={(obj) => {\n                  if (obj?.id_expense) {\n                    setTypExpress(obj);\n                  }\n                }}\n              />\n              <div className=\"text-danger\">{errors.expenseType}</div>\n            </div>\n          </div>\n\n          <div className=\"form-row mt-1\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0, fontSize: 20 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      ຍອດຄົງເຫຼືອ:{\" \"}\n                    </InputAdornment>\n                  }\n                  type=\"text\"\n                  placeholder=\"ລາຍຈ່າຍ\"\n                  disabled={true}\n                  value={currency(_dataEndBalanceKIP)}\n                />\n              </FormControl>\n              <div className=\"text-danger\">{errors.expenseKIP}</div>\n            </div>\n          </div>\n\n          <div className=\"form-row mt-1\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      ຈຳນວນເງິນ:{\" \"}\n                    </InputAdornment>\n                  }\n                  type=\"number\"\n                  sx={{\n                    backgroundColor: \"#ffff\",\n                  }}\n                  placeholder=\"ລາຍຈ່າຍ\"\n                  onWheel={(e) => e.target.blur()}\n                  value={inputPrice}\n                  name=\"expenseKIP\"\n                  onChange={(e) => {\n                    setInputPrice(e.target.value);\n                  }}\n                />\n              </FormControl>\n              <div className=\"text-danger\">{errors.expenseKIP}</div>\n            </div>\n          </div>\n          <div className=\"form-row mt-1\">\n            <div className=\"col-md-12\">\n              <FormControl fullWidth sx={{ m: 0 }}>\n                <OutlinedInput\n                  startAdornment={\n                    <InputAdornment position=\"start\">ວັນທີ່: </InputAdornment>\n                  }\n                  type=\"date\"\n                  placeholder=\"ລາຍຈ່າຍ\"\n                  name=\"accountantDate\"\n                  sx={{\n                    backgroundColor: \"#ffff\",\n                  }}\n                  value={startDate}\n                  onChange={(e) => setStartDate(e.target.value)}\n                />\n              </FormControl>\n            </div>\n            <label className=\"text-black mt-1\">ລາຍລະອຽດ</label>\n            <div className=\"col-md-12\">\n              <textarea\n                rows={3}\n                name=\"detail\"\n                className={\"form-control form-control-lg\"}\n                placeholder=\"...\"\n                onChange={handleChange}\n                value={values?.detail}\n              ></textarea>\n              <div className=\"text-danger\">{errors.detail}</div>\n            </div>\n          </div>\n        </div>\n        <Modal.Footer className=\"border-top\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => handleSubmit()}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport {\r\n  createdAt_gte,\r\n  createdAt_lt,\r\n  currency,\r\n  endOfMonth,\r\n  formatDateDash,\r\n  getLocalHouse,\r\n  getStaffLogin,\r\n  ITEM_PER_PAGE,\r\n  loadingData,\r\n  messageError,\r\n  messageSuccess,\r\n  setParams,\r\n  startMonth,\r\n  startOfMonth,\r\n} from \"../../../helper\";\r\nimport {\r\n  DELETE_EXTRA_EXPENSE,\r\n  QUERY_EXTRA_EXPENSE,\r\n  UPDATE_EXTRA_EXPENSE,\r\n  QUERY_SUMMARY_EXPENSE,\r\n} from \"./apollo\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Notiflix from \"notiflix\";\r\nimport _ from \"lodash\";\r\nimport Pagination from \"../../../helper/controllers/Pagination\";\r\nimport AddIncome from \"./widgets/AddIncome\";\r\nimport Export from \"./Export\";\r\nimport Expenses from \"./widgets/Expeses\";\r\nimport PreviewImage from \"./previewImage\";\r\nimport EditAddIncome from \"./widgets/EditAddIncome\";\r\nimport UpdateEx from \"./widgets/EditExpeses\";\r\nexport default function ListAllExpenses() {\r\n  const { history, location, match } = useReactRouter();\r\n  const userState = getStaffLogin();\r\n  const userData = userState?.data;\r\n  const queryParams = new URLSearchParams(location?.search);\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [numberRow, setNumberRow] = useState(100);\r\n  const [startDate, setStartDate] = useState(startOfMonth());\r\n  const [endDate, setEndDate] = useState(endOfMonth());\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n  const [listHouses, setListHouses] = useState({});\r\n  const [localHouse, setLocalHouse] = useState(\"\");\r\n  const [fetchData, { data: extraExpenseData, loading }] = useLazyQuery(\r\n    QUERY_EXTRA_EXPENSE,\r\n    { fetchPolicy: \"cache-and-network\" }\r\n  );\r\n\r\n  const [querySummaryExpense, { data: summaryExpenseData }] = useLazyQuery(\r\n    QUERY_SUMMARY_EXPENSE,\r\n    { fetchPolicy: \"cache-and-network\" }\r\n  );\r\n  // update extraExpenses\r\n  const [updateExtraExpense] = useMutation(UPDATE_EXTRA_EXPENSE);\r\n  const [deleteExtraExpense] = useMutation(DELETE_EXTRA_EXPENSE);\r\n  useEffect(() => {\r\n    setLocalHouse(getLocalHouse()?._id);\r\n  }, []);\r\n  useEffect(() => {\r\n    let whereDate = {};\r\n    if (startDate && endDate) {\r\n      whereDate = {\r\n        accountantDate_gte: createdAt_gte(startDate),\r\n        accountantDate_lte: createdAt_lt(endDate),\r\n      };\r\n    } else {\r\n      whereDate = {};\r\n    }\r\n\r\n    fetchData({\r\n      variables: {\r\n        where: {\r\n          house: localHouse,\r\n          ...whereDate,\r\n        },\r\n        skip: numberRow * (numberPage - 1),\r\n        limit: parseInt(numberRow),\r\n      },\r\n    });\r\n    querySummaryExpense({\r\n      variables: {\r\n        where: {\r\n          house: localHouse,\r\n          ...whereDate,\r\n        },\r\n      },\r\n    });\r\n  }, [numberRow, numberPage, localHouse, newLoadData, startDate, endDate]);\r\n  useEffect(() => {\r\n    const page = queryParams.get(\"page\");\r\n    const _startDate = queryParams.get(\"startDate\");\r\n    const _endDate = queryParams.get(\"endDate\");\r\n    setStartDate(_startDate || startMonth());\r\n    setEndDate(_endDate || endOfMonth());\r\n    if (page) {\r\n      setNumberPage(parseInt(page));\r\n    } else {\r\n      setNumberRow(100);\r\n    }\r\n  }, [queryParams]);\r\n  const Income = summaryExpenseData?.summaryExtraExpense?.totalIncome;\r\n  const exPres = summaryExpenseData?.summaryExtraExpense?.totalExpense;\r\n  const finalMoney = Income - exPres;\r\n\r\n  //pageination\r\n  const countData = extraExpenseData?.extraExpenses?.total;\r\n  const countPage = [];\r\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\r\n    countPage.push(i);\r\n  }\r\n  const NO = (index) => {\r\n    const no = numberRow * numberPage - numberRow;\r\n    if (numberRow > 0) {\r\n      return no + index + 1;\r\n    } else {\r\n      return index + 1;\r\n    }\r\n  };\r\n\r\n  // get route params\r\n  useEffect(() => {\r\n    const _rows = queryParams.get(\"rows\");\r\n    if (_rows) {\r\n      setNumberRow(_rows);\r\n    } else {\r\n      setNumberRow(ITEM_PER_PAGE);\r\n    }\r\n  }, [queryParams]);\r\n\r\n  const _handleConfirm = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການອະນຸມັດລາຍການນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      async () => {\r\n        try {\r\n          const onConfirmed = await updateExtraExpense({\r\n            variables: {\r\n              where: {\r\n                id_list: parseInt(id),\r\n              },\r\n              data: {\r\n                confirmStatus: \"CONFIRMED\",\r\n              },\r\n            },\r\n          });\r\n          if (onConfirmed) {\r\n            messageSuccess(\"ດຳເນີນການສຳເລັດ\");\r\n            setNewLoadData(!newLoadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ດຳເນີນການບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n  const _handleDelete = (id) => {\r\n    Notiflix.Confirm.show(\r\n      \"ແຈ້ງເຕືອນ\",\r\n      \"ທ່ານຕ້ອງການລຶບລາຍການນີ້ແທ້ ຫຼື ບໍ່?\",\r\n      \"ຕົກລົງ\",\r\n      \"ຍົກເລີກ\",\r\n      async () => {\r\n        try {\r\n          const onDeleted = await deleteExtraExpense({\r\n            variables: {\r\n              where: {\r\n                id_list: parseInt(id),\r\n              },\r\n            },\r\n          });\r\n          if (onDeleted) {\r\n            messageSuccess(\"ລຶບການສຳເລັດ\");\r\n            setNewLoadData(!newLoadData);\r\n          }\r\n        } catch (error) {\r\n          messageError(\"ລຶບບໍ່ສຳເລັດ\");\r\n        }\r\n      },\r\n      () => {\r\n        return false;\r\n      }\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"content__header content__boxed overlapping\">\r\n        <div className=\"content__wrap\">\r\n          <h3 className=\"page-title mb-2 text-white\">\r\n            ສະຫລູບລາຍຮັບ ແລະ ລາຍຈ່າຍ\r\n          </h3>\r\n        </div>\r\n      </div>\r\n      <div className=\"content__boxed\">\r\n        <div className=\"content__wrap\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <div className=\"p-2 mt-5\">\r\n                <div className=\"row mb-2\">\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"input-group\">\r\n                      <input\r\n                        type=\"date\"\r\n                        onChange={(e) => {\r\n                          history.push({\r\n                            search: setParams(`startDate`, e.target.value),\r\n                          });\r\n                        }}\r\n                        className=\"form-control\"\r\n                        value={startDate}\r\n                      />\r\n                      <input\r\n                        type=\"date\"\r\n                        value={endDate}\r\n                        className=\"form-control\"\r\n                        onChange={(e) => {\r\n                          history.push({\r\n                            search: setParams(`endDate`, e.target.value),\r\n                          });\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-4 text-center\">\r\n                    {loading ? loadingData(25) : false}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"p-2\" style={{ marginTop: -20 }}>\r\n                <div className=\"card-group mb-2\">\r\n                  <div\r\n                    className=\"card me-1 border\"\r\n                    style={{ backgroundColor: \"#bdfbff\" }}\r\n                  >\r\n                    <div className=\"card-body text-center\">\r\n                      <h5 className=\"card-title\">ຍອດຍົກມາ</h5>\r\n                      <h2>\r\n                        {summaryExpenseData?.summaryExtraExpense?.totalIncome\r\n                          ? currency(\r\n                              summaryExpenseData?.summaryExtraExpense\r\n                                ?.totalIncome\r\n                            )\r\n                          : 0}{\" \"}\r\n                        ກີບ\r\n                      </h2>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    className=\"card me-1 border\"\r\n                    style={{ backgroundColor: \"#fffec9\" }}\r\n                  >\r\n                    <div className=\"card-body text-center\">\r\n                      <h5 className=\"card-title\">ຍອດຈ່າຍອອກ</h5>\r\n                      <h2>\r\n                        {summaryExpenseData?.summaryExtraExpense?.totalExpense\r\n                          ? currency(\r\n                              summaryExpenseData?.summaryExtraExpense\r\n                                ?.totalExpense\r\n                            )\r\n                          : 0}{\" \"}\r\n                        ກີບ\r\n                      </h2>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    className=\"card border\"\r\n                    style={{ backgroundColor: \"#8aff8c\" }}\r\n                  >\r\n                    <div className=\"card-body text-center\">\r\n                      <h5 className=\"card-title\">ຍອດຄົງເຫຼືອ</h5>\r\n                      <h2>{currency(finalMoney ? finalMoney : 0)} ກີບ</h2>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"table-responsive\">\r\n                  <Table className=\"table table-sm   text-black\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th className=\"text-nowrap\">ລຳດັບ</th>\r\n                        <th className=\"text-nowrap\">ລົງວັນທີ່</th>\r\n                        <th>ເນື້ອໃນລາຍການ</th>\r\n                        <th className=\"text-nowrap text-right\">ລາຍຮັບ</th>\r\n                        <th className=\"text-nowrap text-right\">ລາຍຈ່າຍ</th>\r\n                        <th className=\"text-nowrap text-center\">\r\n                          ຜູ້ອານຸມັດ/ວັນທີອານຸມັດ\r\n                        </th>\r\n                        <th className=\"text-nowrap text-end\">ຈັດການ</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {extraExpenseData?.extraExpenses?.data?.map(\r\n                        (data, index) => (\r\n                          <tr\r\n                            key={index}\r\n                            style={{\r\n                              backgroundColor:\r\n                                data?.confirmStatus === \"CONFIRMED\"\r\n                                  ? \"#f7faf8\"\r\n                                  : \"\",\r\n                            }}\r\n                          >\r\n                            <td className=\"text-nowrap\">{NO(index)}</td>\r\n\r\n                            <td className=\"text-nowrap\">\r\n                              {data?.accountantDate\r\n                                ? formatDateDash(data?.accountantDate)\r\n                                : \"-\"}\r\n                            </td>\r\n                            <td>{data?.detail ? data?.detail : \"-\"}</td>\r\n                            <td className=\"text-nowrap text-right\">\r\n                              {currency(data?.incomeKIP ? data?.incomeKIP : 0)}{\" \"}\r\n                              ກີບ\r\n                            </td>\r\n                            <td className=\"text-nowrap text-right text-danger\">\r\n                              {currency(\r\n                                data?.expenseKIP ? data?.expenseKIP : 0\r\n                              )}{\" \"}\r\n                              ກີບ\r\n                            </td>\r\n                            <td className=\"text-nowrap text-center\">\r\n                              {data?.confirmStatus === \"CONFIRMED\" ? (\r\n                                <span>\r\n                                  {data?.confirmBy?.firstName +\r\n                                    \" \" +\r\n                                    data?.confirmBy?.lastName}\r\n                                </span>\r\n                              ) : (\r\n                                <>\r\n                                  <button\r\n                                    className=\"btn btn-sm btn-success\"\r\n                                    onClick={() =>\r\n                                      _handleConfirm(data?.id_list)\r\n                                    }\r\n                                    disabled={\r\n                                      userData?.role === \"ADMIN\" ||\r\n                                      userData?.role === \"SUPER_ADMIN\" ||\r\n                                      userData?.role === \"BRANCH_DIRECTOR\" ||\r\n                                      userData?.role === \"ACCOUNTANT\" ||\r\n                                      userData?.role === \"FINANCE\"\r\n                                        ? false\r\n                                        : true\r\n                                    }\r\n                                  >\r\n                                    <i className=\"icon-check-circle me-1\" />{\" \"}\r\n                                    ອານຸມັດ\r\n                                  </button>\r\n                                </>\r\n                              )}\r\n                              <br />\r\n                              {data?.confirmDate\r\n                                ? formatDateDash(data?.confirmDate)\r\n                                : \"\"}\r\n                            </td>\r\n                            <td className=\"text-nowrap text-end\">\r\n                              <div className=\"btn-group\">\r\n                                {data?.fileUpload && (\r\n                                  <>\r\n                                    <PreviewImage\r\n                                      image={\r\n                                        data?.fileUpload ? data?.fileUpload : \"\"\r\n                                      }\r\n                                    />\r\n                                  </>\r\n                                )}\r\n                                {!data?.confirmDate |\r\n                                (!data?.confirmStatus === \"CONFIRMED\") ? (\r\n                                  <>\r\n                                    {data?.extraType === \"INCOME\" ? (\r\n                                      <>\r\n                                        <EditAddIncome\r\n                                          getData={data}\r\n                                          onSuccess={(e) => {\r\n                                            setNewLoadData(!newLoadData);\r\n                                          }}\r\n                                        />\r\n                                      </>\r\n                                    ) : (\r\n                                      <>\r\n                                        <UpdateEx\r\n                                          getData={data}\r\n                                          onSuccess={(e) => {\r\n                                            setNewLoadData(!newLoadData);\r\n                                          }}\r\n                                        />\r\n                                      </>\r\n                                    )}\r\n                                  </>\r\n                                ) : (\r\n                                  <>ອານຸມັດແລ້ວ</>\r\n                                )}\r\n                                {data?.confirmStatus === \"UNCONFIRMED\" ? (\r\n                                  <>\r\n                                    {userData?.role === \"ADMIN\" ||\r\n                                    userData?.role === \"SUPER_ADMIN\" ||\r\n                                    userData?.role === \"BRANCH_DIRECTOR\" ||\r\n                                    userData?.role === \"ACCOUNTANT\" ||\r\n                                    userData?.role === \"FINANCE\" ? (\r\n                                      <>\r\n                                        <button\r\n                                          className=\"btn btn-sm  ms-2\"\r\n                                          onClick={() =>\r\n                                            _handleDelete(data?.id_list)\r\n                                          }\r\n                                        >\r\n                                          <i className=\"icon-trash text-danger\" />\r\n                                        </button>\r\n                                      </>\r\n                                    ) : null}\r\n                                  </>\r\n                                ) : null}\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        )\r\n                      )}\r\n                    </tbody>\r\n                  </Table>\r\n                </div>\r\n                {extraExpenseData?.extraExpenses?.data?.total > 100 && (\r\n                  <Pagination\r\n                    className=\"mt-2\"\r\n                    pageTotal={countPage}\r\n                    currentPage={numberPage}\r\n                    onPageChange={(page) => {\r\n                      history.push({\r\n                        search: setParams(`page`, page),\r\n                      });\r\n                    }}\r\n                  />\r\n                )}\r\n                <div\r\n                  style={{\r\n                    position: \"fixed\",\r\n                    bottom: 50,\r\n                    right: 25,\r\n                    opacity: 0.7,\r\n                  }}\r\n                >\r\n                  <Export _Data={extraExpenseData} />\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    position: \"fixed\",\r\n                    bottom: 5,\r\n                    right: 2,\r\n                  }}\r\n                  className=\"col-md-12\"\r\n                >\r\n                  <AddIncome\r\n                    onSuccess={(e) => {\r\n                      setNewLoadData(!newLoadData);\r\n                    }}\r\n                  />\r\n                  <Expenses\r\n                    onSuccess={(e) => {\r\n                      setNewLoadData(!newLoadData);\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { gql } from \"@apollo/client\";\nexport const CREATE_ACCOUNT_SUMMARY = gql`\nmutation CreateAccountingSummary($data: AccountingSummaryInput!) {\n  createAccountingSummary(data: $data) {\n    _id\n  }\n}\n`;\n\nexport const QUERY_SUMMARY_ACCOUNT = gql`\n  query AccountingSummaries($where: AccountingSummaryWhereInput, $limit: Int, $skip: Int, $orderBy: OrderByInput) {\n  accountingSummaries(where: $where, limit: $limit, skip: $skip, orderBy: $orderBy) {\n    total\n    data {\n      _id\n      incomeKIP\n      incomeTHB\n      incomeUSD\n      expenseKIP\n      expenseTHB\n      expenseUSD\n      endBalanceKIP\n      endBalanceTHB\n      endBalanceUSD\n      accountingDate\n      createdAt\n      house {\n          _id\n          houseName\n          houseCode\n          contactPhone\n          type{\n          title_lao\n          title_eng\n          }\n        }\n      createdBy {\n        firstName\n        lastName\n      }\n    }\n  }\n}\n`;\n\nexport const DELETE_ACCOUNT_SUMMARY = gql`\nmutation DeleteAccountingSummary($where: AccountingSummaryWhereInputOne!) {\n  deleteAccountingSummary(where: $where) {\n    _id\n  }\n}\n`;\n\nexport const UPDATE_ACCOUNT_SUMMARY = gql`\nmutation UpdateAccountingSummary($data: AccountingSummaryInput!, $where: AccountingSummaryWhereInputOne!) {\n  updateAccountingSummary(data: $data, where: $where) {\n    _id\n  }\n}\n`;\n","import Notiflix, { Loading } from \"notiflix\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useApolloClient, useMutation } from \"@apollo/client\";\nimport {\n  currency,\n  formatDateTime,\n  getLocalHouse,\n  getLocalProvince,\n  getStaffLogin,\n  loadingScreen,\n  messageError,\n  messageSuccess,\n  messageWarning,\n  toDayDash,\n  valiDate,\n} from \"../../../../helper\";\nimport { useFormik } from \"formik\";\nimport { s3Client } from \"../../../../helper/s3Client\";\nimport { CREATE_ACCOUNT_SUMMARY } from \"./apollo\";\nimport \"./utils/index.css\";\nimport {\n  FormControl,\n  InputAdornment,\n  OutlinedInput,\n} from \"@mui/material\";\nexport default function AddAccountSummary({ onSuccess }) {\n  const [show, setShow] = useState(false);\n  const componentRef = useRef(null);\n  const [createIncome, { loading: creating }] = useMutation(\n    CREATE_ACCOUNT_SUMMARY\n  );\n  const [startDate, setStartDate] = useState(toDayDash());\n  const [localHouse, setLocalHouse] = useState(\"\");\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  const { handleChange, errors, values, handleSubmit, resetForm, submitCount } =\n    useFormik({\n      initialValues: {\n        incomeKIP: \"\",\n        incomeTHB: \"\",\n        incomeUSD: \"\",\n        expenseKIP: \"\",\n        expenseTHB: \"\",\n        expenseUSD: \"\",\n        endBalanceKIP: \"\",\n        endBalanceTHB: \"\",\n        endBalanceUSD: \"\",\n      },\n      enableReinitialize: false,\n      validate: (values) => {\n        const errors = {};\n        if (!values.incomeKIP) {\n          errors.incomeKIP = \"ກະລູນາປ້ອນຈຳນວນເງິນ\";\n        }\n        if (!values.endBalanceKIP) {\n          errors.endBalanceKIP = \"ກະລູນາປ້ອນຍອດຄົງເຫລືອ\";\n        }\n        return errors;\n      },\n      onSubmit: async (values) => {\n        loadingScreen();\n        try {\n          const { data: _create } = await createIncome({\n            variables: {\n              data: {\n                incomeKIP: Number(values.incomeKIP),\n                incomeTHB: Number(values.incomeTHB),\n                incomeUSD: Number(values.incomeUSD),\n                expenseKIP: Number(values.expenseKIP),\n                expenseTHB: Number(values.expenseTHB),\n                expenseUSD: Number(values.expenseUSD),\n                endBalanceKIP: Number(values.endBalanceKIP),\n                endBalanceTHB: Number(values.endBalanceTHB),\n                endBalanceUSD: Number(values.endBalanceUSD),\n                accountingDate: String(startDate),\n                house: String(localHouse),\n              },\n            },\n          });\n          if (_create) {\n            Notiflix.Loading.remove();\n            messageSuccess(\"ລົງລາຍຈ່າຍສຳເລັດແລ້ວ\");\n            onSuccess();\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n            setShow(false);\n          } else {\n            Notiflix.Loading.remove();\n            messageError(\"ລົງລາຍຈ່າຍບໍສຳເລັດ\");\n            setTimeout(() => {\n              resetForm({ values: \"\" });\n              window.scrollTo(0, 0);\n            }, 100);\n            onSuccess();\n          }\n        } catch (error) {\n          Notiflix.Loading.remove();\n          messageError(\"ການເພີ່ມຂໍ້ມູນຜິດພາດ\");\n          setTimeout(() => {\n            resetForm({ values: \"\" });\n            window.scrollTo(0, 0);\n          }, 100);\n          onSuccess();\n          console.log(error);\n        }\n      },\n    });\n\n  return (\n    <>\n      <button\n        className=\"btn btn-block me-1 text-nowrap shadow-none\"\n        onClick={() => setShow(true)}\n      >\n        <i className=\"fa-solid fa-circle-plus me-1\"></i>ສະຫລຸບບັນຊີລາຍຮັບ\n      </button>\n\n      <Modal show={show} onHide={() => setShow(false)} size=\"lg\">\n        <Modal.Header>\n          <h3>ຟອມສະຫລຸບບັນຊີລາຍຮັບ</h3>\n          <a\n            className=\"pull-right ms-2 float-end \"\n            style={{ textDecoration: \"none\", marginTop: -10 }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\" id=\"grad1\">\n          <div className=\"row\">\n            <div id=\"grad1\"></div>\n            <b className=\"text-black\"> ລາຍຮັບທັງຫມົດ</b>\n            <div className=\"form-row  mt-1 col-md-4\">\n              <div className=\"col-md-12 ms-1\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#fafafa\" }}\n                >\n                  <OutlinedInput\n                    value={values?.incomeKIP}\n                    onChange={handleChange}\n                    name=\"incomeKIP\"\n                    startAdornment={\n                      <InputAdornment position=\"start\">ກີບ</InputAdornment>\n                    }\n                    type=\"number\"\n                    onWheel={(e) => e.target.blur()}\n                    error={errors.incomeKIP}\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n                <div className=\"text-danger fs-5\">{errors.incomeKIP}</div>\n              </div>\n            </div>\n            <div className=\"form-row  mt-1 col-md-4 \">\n              <div className=\"col-md-12 ms-1\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#fafafa\" }}\n                >\n                  <OutlinedInput\n                    value={values?.incomeTHB}\n                    onChange={handleChange}\n                    name=\"incomeTHB\"\n                    startAdornment={\n                      <InputAdornment position=\"start\">ບາດ:</InputAdornment>\n                    }\n                    type=\"number\"\n                    onWheel={(e) => e.target.blur()}\n                    error={errors.incomeTHB}\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n                <i className=\"text-danger fs-5\">{errors.incomeTHB}</i>\n              </div>\n            </div>\n            <div className=\"form-row  mt-1 col-md-4 \">\n              <div className=\"col-md-12 ms-1\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#fafafa\" }}\n                >\n                  <OutlinedInput\n                    value={values?.incomeUSD}\n                    onChange={handleChange}\n                    name=\"incomeUSD\"\n                    startAdornment={\n                      <InputAdornment position=\"start\">ໂດລາ:</InputAdornment>\n                    }\n                    type=\"number\"\n                    onWheel={(e) => e.target.blur()}\n                    error={errors.incomeUSD}\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n                <i className=\"text-danger fs-5\">{errors.incomeUSD}</i>\n              </div>\n            </div>\n          </div>\n          <br />\n          <div className=\"row\" style={{ backgroundColor: \"#fcf6f2\" }}>\n            <label className=\"text-black border-top\"> ລາຍຈ່າຍທັງຫມົດ</label>\n            <div className=\"form-row  mt-1 col-md-4\">\n              <div className=\"col-md-12 ms-1\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#fafafa\" }}\n                >\n                  <OutlinedInput\n                    value={values?.expenseKIP}\n                    onChange={handleChange}\n                    name=\"expenseKIP\"\n                    startAdornment={\n                      <InputAdornment position=\"start\">ກີບ:</InputAdornment>\n                    }\n                    type=\"number\"\n                    onWheel={(e) => e.target.blur()}\n                    error={errors.expenseKIP}\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n              </div>\n            </div>\n            <div className=\"form-row  mt-1 col-md-4\">\n              <div className=\"col-md-12 ms-1\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#fafafa\" }}\n                >\n                  <OutlinedInput\n                    value={values?.expenseTHB}\n                    onChange={handleChange}\n                    name=\"expenseTHB\"\n                    startAdornment={\n                      <InputAdornment position=\"start\">ບາດ:</InputAdornment>\n                    }\n                    type=\"number\"\n                    onWheel={(e) => e.target.blur()}\n                    error={errors.expenseTHB}\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n                <div className=\"text-danger fs-5\">{errors.expenseTHB}</div>\n              </div>\n            </div>\n            <div className=\"form-row  mt-1 col-md-4 \">\n              <div className=\"col-md-12 ms-1\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#fafafa\" }}\n                >\n                  <OutlinedInput\n                    value={values?.expenseUSD}\n                    onChange={handleChange}\n                    name=\"expenseUSD\"\n                    startAdornment={\n                      <InputAdornment position=\"start\">ໂດລາ:</InputAdornment>\n                    }\n                    type=\"number\"\n                    onWheel={(e) => e.target.blur()}\n                    error={errors.expenseUSD}\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n                <div className=\"text-danger fs-5\">{errors.expenseUSD}</div>\n              </div>\n            </div>\n          </div>\n          <br />\n          <div className=\"row\" style={{ backgroundColor: \"#daffd6\" }}>\n            <label className=\"text-black border-top\"> ຍອດຄົງເຫລືອທັງຫມົດ</label>\n            <div className=\"form-row  mt-1 col-md-4  \">\n              <div className=\"col-md-12 ms-1\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#fafafa\" }}\n                >\n                  <OutlinedInput\n                    value={values?.endBalanceKIP}\n                    onChange={handleChange}\n                    name=\"endBalanceKIP\"\n                    startAdornment={\n                      <InputAdornment position=\"start\">ກີບ:</InputAdornment>\n                    }\n                    type=\"number\"\n                    onWheel={(e) => e.target.blur()}\n                    error={errors.endBalanceKIP}\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n                <div className=\"text-danger fs-5\">{errors.endBalanceKIP}</div>\n              </div>\n            </div>\n            <div className=\"form-row  mt-1 col-md-4 \">\n              <div className=\"col-md-12 ms-1\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#fafafa\" }}\n                >\n                  <OutlinedInput\n                    value={values?.endBalanceTHB}\n                    onChange={handleChange}\n                    name=\"endBalanceTHB\"\n                    startAdornment={\n                      <InputAdornment position=\"start\">ບາດ:</InputAdornment>\n                    }\n                    type=\"number\"\n                    onWheel={(e) => e.target.blur()}\n                    error={errors.endBalanceTHB}\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n              </div>\n            </div>\n            <div className=\"form-row  mt-1 col-md-4 \">\n              <div className=\"col-md-12 ms-1\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#fafafa\" }}\n                >\n                  <OutlinedInput\n                    value={values?.endBalanceUSD}\n                    onChange={handleChange}\n                    name=\"endBalanceUSD\"\n                    startAdornment={\n                      <InputAdornment position=\"start\">ໂດລາ:</InputAdornment>\n                    }\n                    type=\"number\"\n                    onWheel={(e) => e.target.blur()}\n                    error={errors.endBalanceUSD}\n                    inputProps={{ maxLength: 10 }}\n                  />\n                </FormControl>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"form-row  mt-3 col-md-12\">\n              <div className=\"col-md-12\">\n                <FormControl\n                  fullWidth\n                  sx={{ m: 0, backgroundColor: \"#fafafa\" }}\n                >\n                  <OutlinedInput\n                    startAdornment={\n                      <InputAdornment position=\"start\">ວັນທີ່ລົງ</InputAdornment>\n                    }\n                    type=\"date\"\n                    value={startDate}\n                    onChange={(e) => setStartDate(e.target.value)}\n                  />\n                </FormControl>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Modal.Footer className=\"border-top\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block btn-lg\"\n            onClick={() => {\n              if (!creating) {\n                handleSubmit();\n              }\n            }}\n            onDoubleClick={() => {\n              return false;\n            }}\n          >\n            <i className=\"icon-save\" style={{ marginRight: 3 }} />\n            ບັນທຶກ\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n","/* eslint-disable no-script-url */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport useReactRouter from \"use-react-router\";\nimport { QUERY_SUMMARY_ACCOUNT } from \"./apollo\";\nimport {\n  createdAt_gte,\n  createdAt_lt,\n  currency,\n  getLocalHouse,\n  getStaffLogin,\n  getUserLogin,\n  loadingData,\n} from \"../../../../helper\";\nimport _ from \"lodash\";\nexport default function TotalSummaryAccount({ startDate, endDate }) {\n  console.log(startDate)\n  console.log(endDate)\n  const { history, location, match } = useReactRouter();\n  const [localHouse, setLocalHouse] = useState(\"\");\n  const userState = getStaffLogin();\n  const userInfo = userState?.data;\n  const queryParams = new URLSearchParams(location?.search);\n  const route = match?.params?.route;\n  const [fetchData, { data: setData, loading: loading }] = useLazyQuery(\n    QUERY_SUMMARY_ACCOUNT,\n    {\n      fetchPolicy: \"cache-and-network\",\n    }\n  );\n  useEffect(() => {\n    setLocalHouse(getLocalHouse()?._id);\n  }, []);\n  useEffect(() => {\n    let whereDate = {};\n    if (startDate && endDate) {\n      whereDate = {\n        accountingDate_gte: createdAt_gte(startDate),\n        accountingDate_lt: createdAt_lt(endDate),\n      };\n    } else {\n      whereDate = {};\n    }\n    fetchData({\n      variables: {\n        where: {\n          ...whereDate,\n          house: localHouse,\n        },\n      },\n    });\n  }, [startDate, endDate, localHouse]);\n\n  // summary Income\n  const totalSummaryIncome = {\n    incomeKIP: _.sumBy(setData?.accountingSummaries?.data, \"incomeKIP\"),\n    incomeTHB: _.sumBy(setData?.accountingSummaries?.data, \"incomeTHB\"),\n    incomeUSD: _.sumBy(setData?.accountingSummaries?.data, \"incomeUSD\"),\n  };\n  // summaryExpense\n  const totalSummaryExpress = {\n    expenseKIP: _.sumBy(setData?.accountingSummaries?.data, \"expenseKIP\"),\n    expenseTHB: _.sumBy(setData?.accountingSummaries?.data, \"expenseTHB\"),\n    expenseUSD: _.sumBy(setData?.accountingSummaries?.data, \"expenseUSD\"),\n  };\n  // summaryAlL\n  const totalAllSummary = {\n    endBalanceKIP: _.sumBy(setData?.accountingSummaries?.data, \"endBalanceKIP\"),\n    endBalanceTHB: _.sumBy(setData?.accountingSummaries?.data, \"endBalanceTHB\"),\n    endBalanceUSD: _.sumBy(setData?.accountingSummaries?.data, \"endBalanceUSD\"),\n  };\n  return (\n    <>\n      <div className=\"content__boxed\">\n        <div className=\"content__wrap\">\n          <div className=\"card-body\">\n            {userInfo.role === \"SUPER_ADMIN\" ||\n            userInfo.role === \"IT\" ||\n            userInfo.role === \"ACCOUNTANT\" ||\n            userInfo.role === \"BRANCH_DIRECTOR\" ||\n            userInfo.role === \"ADMIN\" ||\n            userInfo.role === \"FINANCE\" ? (\n              <>\n                <div className=\"card-group mb-3\">\n                  <div\n                    className=\"card border\"\n                    style={{ backgroundColor: \"#fffedb\" }}\n                  >\n                    <div className=\"p-2  border-bottom fs-4 text-black text-center\">\n                      ລາຍຮັບທັງຫມົດ\n                    </div>\n                    <div className=\"card-body text-black\">\n                      <span>ເງິນກີບ:</span>\n                      <span className=\"pull-right\">\n                        {loading\n                          ? loadingData(25)\n                          : currency(\n                              totalSummaryIncome?.incomeKIP\n                                ? totalSummaryIncome?.incomeKIP\n                                : 0\n                            )}{\" \"}\n                        KIP\n                      </span>\n\n                      <br />\n                      <span>ເງິນບາດ:</span>\n                      <span className=\"pull-right\">\n                        {loading\n                          ? loadingData(25)\n                          : currency(\n                              totalSummaryIncome?.incomeTHB\n                                ? totalSummaryIncome?.incomeTHB\n                                : 0\n                            )}{\" \"}\n                        THB\n                      </span>\n                      <br />\n                      <span>ເງິນໂດລາ:</span>\n\n                      <span className=\"pull-right\">\n                        {loading\n                          ? loadingData(25)\n                          : currency(\n                              totalSummaryIncome?.incomeUSD\n                                ? totalSummaryIncome?.incomeUSD\n                                : 0\n                            )}{\" \"}\n                        USD\n                      </span>\n                      <br />\n                    </div>\n                  </div>\n                  <div\n                    className=\"card border ms-1\"\n                    style={{ backgroundColor: \"#fcf6f2\" }}\n                  >\n                    <div className=\"p-2  border-bottom fs-4 text-black text-center\">\n                      ລາຍຈ່າຍທັງຫມົດ\n                    </div>\n                    <div className=\"card-body text-black \">\n                      <span>ເງິນກີບ:</span>\n                      <span className=\"pull-right\">\n                        {loading\n                          ? loadingData(25)\n                          : currency(\n                              totalSummaryExpress?.expenseKIP\n                                ? totalSummaryExpress?.expenseKIP\n                                : 0\n                            )}{\" \"}\n                        KIP\n                      </span>\n                      <br />\n                      <span>ເງິນບາດ:</span>\n                      <span className=\"pull-right\">\n                        {loading\n                          ? loadingData(25)\n                          : currency(\n                              totalSummaryExpress?.expenseTHB\n                                ? totalSummaryExpress?.expenseTHB\n                                : 0\n                            )}{\" \"}\n                        THB\n                      </span>\n                      <br />\n                      <span>ເງິນໂດລາ:</span>\n                      <span className=\"pull-right\">\n                        {loading\n                          ? loadingData(25)\n                          : currency(\n                              totalSummaryExpress?.expenseUSD\n                                ? totalSummaryExpress?.expenseUSD\n                                : 0\n                            )}{\" \"}\n                        USD\n                      </span>\n                    </div>\n                  </div>\n                  <div\n                    className=\"card border ms-1\"\n                    style={{ backgroundColor: \"#daffd6\" }}\n                  >\n                    <div className=\"p-2  border-bottom fs-4 text-black text-center\">\n                      ຍອດຄົງເຫລືອທັງຫມົດ\n                    </div>\n                    <div className=\"card-body text-black\">\n                      <span>ເງິນກີບ:</span>\n                      <span className=\"pull-right\">\n                        {loading\n                          ? loadingData(25)\n                          : currency(\n                              totalAllSummary?.endBalanceKIP\n                                ? totalAllSummary?.endBalanceKIP\n                                : 0\n                            )}{\" \"}\n                        KIP\n                      </span>\n                      <br />\n                      <span>ເງິນບາດ:</span>\n                      <span className=\"pull-right\">\n                        {loading\n                          ? loadingData(25)\n                          : currency(\n                              totalAllSummary?.endBalanceTHB\n                                ? totalAllSummary?.endBalanceTHB\n                                : 0\n                            )}{\" \"}\n                        THB\n                      </span>\n                      <br />\n                      <span>ເງິນໂດລາ:</span>\n                      <span className=\"pull-right\">\n                        {loading\n                          ? loadingData(25)\n                          : currency(\n                              totalAllSummary?.endBalanceUSD\n                                ? totalAllSummary?.endBalanceUSD\n                                : 0\n                            )}{\" \"}\n                        USD\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { Modal, Row } from \"react-bootstrap\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport useReactRouter from \"use-react-router\";\nimport {\n  getStaffLogin,\n  currency,\n  houseStatus,\n  formatDateDash,\n} from \"../../../../helper\";\nfunction Export({ _Data }) {\n  const jsonObj = getStaffLogin();\n  const userInfo = jsonObj?.data;\n  const inputRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => inputRef.current,\n  });\n  let today = moment().format(\"YYYY-MM-DD\");\n  const [show, setShow] = useState(false);\n  const { history, location, match } = useReactRouter();\n  const queryParams = new URLSearchParams(location.search);\n\n  // sumBy packagePriceKIP\n  const SumMoney = {\n    incomeKIP: _.sumBy(_Data?.extraExpenses?.data, \"incomeKIP\"),\n    expenseKIP: _.sumBy(_Data?.extraExpenses?.data, \"expenseKIP\"),\n    endBalanceKIP: _.sumBy(_Data?.extraExpenses?.data, \"endBalanceKIP\"),\n  };\n\n  return (\n    <React.Fragment>\n      <div className=\"col-md-12 mb-1\">\n        <button\n          type=\"button\"\n          className=\"btn btn-dark float-right mb-1\"\n          width=\"10px\"\n          onClick={() => setShow(true)}\n        >\n          <i className=\"fas fa-print\" />\n        </button>\n      </div>\n\n      <Modal\n        show={show}\n        onHide={() => setShow(false)}\n        animation={false}\n        size=\"xl\"\n      >\n        <Modal.Header>\n          ພີມລາຍລາຍງານ\n          <a\n            href=\"javaScript:void(0)\"\n            className=\"pull-right ms-2  float-end\"\n            style={{ textDecoration: \"none\" }}\n            onClick={() => setShow(false)}\n          >\n            <i className=\"icon-x fa-2x text-danger\" />\n          </a>\n        </Modal.Header>\n        <div className=\"p-2\">\n          <Row>\n            <div className=\"col-md-12 \">\n              <button\n                onClick={handlePrint}\n                type=\"button\"\n                className=\"btn btn-dark me-2 float-start\"\n              >\n                <i className=\"icon-print mr-1\"></i> ພິມລາຍງານ\n              </button>\n            </div>\n          </Row>\n          <div style={{ paddingBottom: \"10px\" }} />\n          <div className=\"table-responsive\">\n            <table\n              className=\"table-sm\"\n              border=\"0\"\n              style={{\n                marginTop: 20,\n                width: \"100%\",\n                fontFamily: \"Phetsarath OT\",\n                backgroundColor: \"#ffffff\",\n              }}\n              ref={inputRef}\n            >\n              <thead>\n                <tr>\n                  <td colSpan={4} style={{ textAlign: \"left\", color: \"black\" }}>\n                    <img\n                      // src={logo}\n                      style={{\n                        width: 150,\n                        marginBottom: 1,\n                        marginTop: 20,\n                      }}\n                      alt=\"\"\n                      id=\"table-to-xls\"\n                    />\n                    <br />\n                    ຊື່ກິດຈະການ:{\" \"}\n                    {\n                      _Data?.accountingSummaries?.data[0]?.house?.houseName\n                    },{\" \"}\n                    {houseStatus(\n                      _Data?.accountingSummaries?.data[0]?.house?.type\n                    )}\n                    <br />\n                    ໂທ:{\" \"}\n                    {_Data?.accountingSummaries?.data[0]?.house?.contactPhone}\n                  </td>\n                  <td colSpan={4} className=\"text-end text-black\">\n                    ວັນທີ:{formatDateDash(today)}\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={8}>\n                    <h3 className=\"text-center\">\n                      ລາຍງານສະຫລຸບລາຍຮັບ ແລະ ລາຍຈ່າຍ\n                    </h3>\n                    <span className=\"text-center text-black\">\n                      ພີມໂດຍ: {userInfo?.firstName ? userInfo?.firstName : \"\"}{\" \"}\n                      {userInfo?.lastName ? userInfo?.lastName : \"\"}\n                    </span>\n                  </td>\n                </tr>\n                <tr style={{ backgroundColor: \"#f54f02\", color: \"white\" }}>\n                  <td className=\"textCenter text-nowrap\">ລຳດັບ</td>\n                  <td className=\"textCenter text-nowrap\">ພະນັກງານ</td>\n                  <td className=\"textCenter text-nowrap text-center\">\n                    ລົງວັນທີ່\n                  </td>\n                  <td className=\"textCenter text-nowrap\"> ລາຍຮັບ</td>\n                  <td className=\"textCenter text-nowrap\">ລາຍຈ່າຍ</td>\n                  <td className=\"textCenter text-nowrap\">ຍອດຄົງເຫຼືອ</td>\n                </tr>\n              </thead>\n              <tbody>\n                {_Data &&\n                  _Data?.accountingSummaries?.data?.map((data, index) => (\n                    <tr\n                      key={index}\n                      className={\n                        data?.confirmStatus === \"CONFIRMED\"\n                          ? \"table-success\"\n                          : \"\"\n                      }\n                    >\n                      <td className=\"text-nowrap text-center border text-black\">\n                        {index + 1}\n                      </td>\n                      <td className=\"text-nowrap border text-black\">\n                        {data?.createdBy?.firstName\n                          ? data?.createdBy?.firstName\n                          : \"-\" + \"\" + data?.createdBy?.lastName\n                          ? data?.createdBy?.lastName\n                          : \"-\"}\n                      </td>\n                      <td className=\"text-nowrap border text-black text-center\">\n                        {data?.accountingDate\n                          ? formatDateDash(data?.accountingDate)\n                          : \"-\"}\n                      </td>\n                      <td className=\"text-nowrap border text-end fs-5 text-black\">\n                        <div>\n                          {currency(data?.incomeKIP ? data?.incomeKIP : 0)} ກີບ\n                        </div>\n                        <div className=\" mt-1\">\n                          {currency(data?.incomeTHB ? data?.incomeTHB : 0)} ບາດ\n                        </div>\n                        <div className=\" mt-1\">\n                          {currency(data?.incomeUSD ? data?.incomeUSD : 0)} ໂດລາ\n                        </div>\n                      </td>\n                      <td className=\"text-nowrap border text-end fs-5 text-black\">\n                        <div>\n                          {currency(data?.expenseKIP ? data?.expenseKIP : 0)}{\" \"}\n                          ກີບ\n                        </div>\n                        <div />\n                        <div className=\"mt-1 \">\n                          {currency(data?.expenseTHB ? data?.expenseTHB : 0)}{\" \"}\n                          ບາດ\n                        </div>\n                        <div className=\" mt-1\">\n                          {currency(data?.expenseUSD ? data?.expenseUSD : 0)}{\" \"}\n                          ໂດລາ\n                        </div>\n                      </td>\n                      <td className=\"text-nowrap border text-end fs-5 text-black\">\n                        <div className=\"  \">\n                          {currency(\n                            data?.endBalanceKIP ? data?.endBalanceKIP : 0\n                          )}{\" \"}\n                          ກີບ\n                        </div>\n                        <div className=\" mt-1\">\n                          {currency(\n                            data?.endBalanceTHB ? data?.endBalanceTHB : 0\n                          )}{\" \"}\n                          ບາດ\n                        </div>\n                        <div className=\" mt-1\">\n                          {currency(\n                            data?.endBalanceUSD ? data?.endBalanceUSD : 0\n                          )}{\" \"}\n                          ໂດລາ\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                <tr style={{ backgroundColor: \"#fafafa\" }}>\n                  <td colSpan={3} className=\"border\">\n                    <h3 className=\"text-center\">ລວມ:</h3>\n                  </td>\n                  <td className=\"border text-end\">\n                    <h3>\n                      {SumMoney?.incomeKIP ? currency(SumMoney?.incomeKIP) : 0}\n                    </h3>\n                  </td>\n                  <td className=\"border text-end\">\n                    <h3>\n                      {SumMoney?.expenseKIP\n                        ? currency(SumMoney?.expenseKIP)\n                        : 0}\n                    </h3>\n                  </td>\n                  <td className=\"border text-end\">\n                    <h3>\n                      {SumMoney?.endBalanceKIP\n                        ? currency(SumMoney?.endBalanceKIP)\n                        : 0}\n                    </h3>\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={2} className=\" text-center p-4\">\n                    <h4 className=\"text-center\">ເຊັນເຈົ້າຂອງກິດຈະການ</h4>\n                  </td>\n                  <td className=\" text-end p-4\" colSpan={3}>\n                    <h4>ເຊັນພະນັກງານ</h4>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </Modal>\n    </React.Fragment>\n  );\n}\nexport default Export;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\r\nimport { SUMMARY_ACCOUNT } from \"../../../../routes/app\";\r\nimport useReactRouter from \"use-react-router\";\r\nimport {\r\n  createdAt_gte,\r\n  createdAt_lt,\r\n  currency,\r\n  endOfMonth,\r\n  formatDateDash,\r\n  formatDateTime,\r\n  getLocalHouse,\r\n  getStaffLogin,\r\n  ITEM_PER_PAGE,\r\n  loadingData,\r\n  messageError,\r\n  messageSuccess,\r\n  setParams,\r\n  startOfMonth,\r\n} from \"../../../../helper\";\r\nimport { UPDATE_ACCOUNT_SUMMARY, QUERY_SUMMARY_ACCOUNT } from \"./apollo\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Notiflix from \"notiflix\";\r\nimport _ from \"lodash\";\r\nimport AddAccountSummary from \"./AddAccount\";\r\nimport { DELETE_ACCOUNT_SUMMARY } from \"./apollo\";\r\nimport TotalSummaryAccount from \"./TotalSummaryAccount\";\r\nimport Export from \"./Export\";\r\nimport Pagination from \"../../../../helper/controllers/Pagination\";\r\n\r\nexport default function SummaryAccount() {\r\n  const { history, location, match } = useReactRouter();\r\n  const queryParams = new URLSearchParams(location?.search);\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [numberRow, setNumberRow] = useState(100);\r\n  const [startDate, setStartDate] = useState();\r\n  const [endDate, setEndDate] = useState();\r\n  const [newLoadData, setNewLoadData] = useState(false);\r\n  const [localHouse, setLocalHouse] = useState(\"\");\r\n  const [fetchData, { data: extraExpenseData, loading }] = useLazyQuery(\r\n    QUERY_SUMMARY_ACCOUNT,\r\n    { fetchPolicy: \"cache-and-network\" }\r\n  );\r\n  useEffect(() => {\r\n    setLocalHouse(getLocalHouse()?._id);\r\n  }, []);\r\n  useEffect(() => {\r\n    let whereDate = {};\r\n    if (startDate && endDate) {\r\n      whereDate = {\r\n        createdAt_gte: createdAt_gte(startDate),\r\n        createdAt_lt: createdAt_lt(endDate),\r\n      };\r\n    } else {\r\n      whereDate = {};\r\n    }\r\n    fetchData({\r\n      variables: {\r\n        where: {\r\n          house: localHouse,\r\n          ...whereDate,\r\n        },\r\n        skip: numberRow * (numberPage - 1),\r\n        limit: parseInt(numberRow),\r\n        orderBy: \"createdAt_DESC\",\r\n      },\r\n    });\r\n  }, [numberRow, numberPage, newLoadData, startDate, endDate, localHouse]);\r\n  //pageination\r\n  const countData = extraExpenseData?.accountingSummaries?.total;\r\n  const countPage = [];\r\n  for (var i = 1; i <= Math.ceil(countData / numberRow); i++) {\r\n    countPage.push(i);\r\n  }\r\n  const NO = (index) => {\r\n    const no = numberRow * numberPage - numberRow;\r\n    if (numberRow > 0) {\r\n      return no + index + 1;\r\n    } else {\r\n      return index + 1;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let page = queryParams.get(\"page\");\r\n    const _startDate = queryParams.get(\"startDate\");\r\n    const _endDate = queryParams.get(\"endDate\");\r\n    setStartDate(_startDate);\r\n    setEndDate(_endDate);\r\n    if (page) {\r\n      setNumberPage(parseInt(page));\r\n    } else {\r\n      setNumberRow(100);\r\n    }\r\n  }, [queryParams]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"content__header content__boxed overlapping\">\r\n        <div className=\"content__wrap\">\r\n          <h3 className=\"page-title mb-2 text-white\">\r\n            ສະຫລຸບລາຍຮັບ ແລະ ລາຍຈ່າຍ\r\n          </h3>\r\n        </div>\r\n      </div>\r\n      <div className=\"content__boxed\">\r\n        <div className=\"content__wrap\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <div className=\"p-2\">\r\n                <div className=\"row mb-2\">\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"input-group\">\r\n                      <input\r\n                        type=\"date\"\r\n                        onChange={(e) => {\r\n                          history.push({\r\n                            search: setParams(`startDate`, e.target.value),\r\n                          });\r\n                        }}\r\n                        className=\"form-control\"\r\n                        value={startDate}\r\n                      />\r\n                      <input\r\n                        type=\"date\"\r\n                        value={endDate}\r\n                        className=\"form-control\"\r\n                        onChange={(e) => {\r\n                          history.push({\r\n                            search: setParams(`endDate`, e.target.value),\r\n                          });\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-4 text-center\">\r\n                    {loading ? loadingData(25) : false}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <TotalSummaryAccount startDate={startDate} endDate={endDate} />\r\n              <div className=\"card-body\">\r\n                <div className=\"table-responsive\">\r\n                  <Table className=\"table  table-sm text-black\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th className=\"text-nowrap\">ລຳດັບ</th>\r\n                        <th className=\"text-nowrap\">ລົງວັນທີ່</th>\r\n                        <th className=\"text-nowrap text-end\">ລາຍຮັບ</th>\r\n                        <th className=\"text-nowrap text-end\">ລາຍຈ່າຍ</th>\r\n                        <th className=\"text-nowrap text-end\">ຍອດຄົງເຫລືອ</th>\r\n                        <th className=\"text-nowrap text-center\">\r\n                          ພະນັກງານສະຫລຸບ\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {extraExpenseData?.accountingSummaries?.data?.map(\r\n                        (data, index) => (\r\n                          <tr\r\n                            key={index}\r\n                            className={\r\n                              data?.confirmStatus === \"CONFIRMED\"\r\n                                ? \"table-success\"\r\n                                : \"\"\r\n                            }\r\n                          >\r\n                            <td className=\"text-nowrap\">{NO(index)}</td>\r\n\r\n                            <td className=\"text-nowrap\">\r\n                              {data?.createdAt\r\n                                ? formatDateDash(data?.createdAt)\r\n                                : \"-\"}\r\n                            </td>\r\n                            <td className=\"text-nowrap text-end fs-5\">\r\n                              <div>\r\n                                {currency(\r\n                                  data?.incomeKIP ? data?.incomeKIP : 0\r\n                                )}{\" \"}\r\n                                ກີບ\r\n                              </div>\r\n                              <div className=\" mt-1\">\r\n                                {currency(\r\n                                  data?.incomeTHB ? data?.incomeTHB : 0\r\n                                )}{\" \"}\r\n                                ບາດ\r\n                              </div>\r\n                              <div className=\" mt-1\">\r\n                                {currency(\r\n                                  data?.incomeUSD ? data?.incomeUSD : 0\r\n                                )}{\" \"}\r\n                                ໂດລາ\r\n                              </div>\r\n                            </td>\r\n                            <td className=\"text-nowrap text-end fs-5\">\r\n                              <div>\r\n                                {currency(\r\n                                  data?.expenseKIP ? data?.expenseKIP : 0\r\n                                )}{\" \"}\r\n                                ກີບ\r\n                              </div>\r\n                              <div />\r\n                              <div className=\"mt-1 \">\r\n                                {currency(\r\n                                  data?.expenseTHB ? data?.expenseTHB : 0\r\n                                )}{\" \"}\r\n                                ບາດ\r\n                              </div>\r\n                              <div className=\" mt-1\">\r\n                                {currency(\r\n                                  data?.expenseUSD ? data?.expenseUSD : 0\r\n                                )}{\" \"}\r\n                                ໂດລາ\r\n                              </div>\r\n                            </td>\r\n                            <td className=\"text-nowrap text-end fs-5\">\r\n                              <div className=\"  \">\r\n                                {currency(\r\n                                  data?.endBalanceKIP ? data?.endBalanceKIP : 0\r\n                                )}{\" \"}\r\n                                ກີບ\r\n                              </div>\r\n                              <div className=\" mt-1\">\r\n                                {currency(\r\n                                  data?.endBalanceTHB ? data?.endBalanceTHB : 0\r\n                                )}{\" \"}\r\n                                ບາດ\r\n                              </div>\r\n                              <div className=\" mt-1\">\r\n                                {currency(\r\n                                  data?.endBalanceUSD ? data?.endBalanceUSD : 0\r\n                                )}{\" \"}\r\n                                ໂດລາ\r\n                              </div>\r\n                            </td>\r\n                            <td className=\"text-nowrap text-center\">\r\n                              <span>\r\n                                {data?.createdBy?.firstName\r\n                                  ? data?.createdBy?.firstName\r\n                                  : \"-\" + \" \" + data?.createdBy?.lastName\r\n                                  ? data?.createdBy?.lastName\r\n                                  : \"-\"}\r\n                              </span>\r\n                            </td>\r\n                          </tr>\r\n                        )\r\n                      )}\r\n                    </tbody>\r\n                  </Table>\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    position: \"fixed\",\r\n                    bottom: 50,\r\n                    right: 25,\r\n                    opacity: 0.7,\r\n                  }}\r\n                >\r\n                  <Export _Data={extraExpenseData} />\r\n                </div>\r\n                {extraExpenseData?.accountingSummaries?.data?.total > 100 && (\r\n                  <Pagination\r\n                    className=\"mt-2\"\r\n                    pageTotal={countPage}\r\n                    currentPage={numberPage}\r\n                    onPageChange={(page) => {\r\n                      history.push({\r\n                        search: setParams(`page`, page),\r\n                      });\r\n                    }}\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            backgroundColor: \"#edece8\",\r\n          }}\r\n          className=\"col-md-12 appBottomMenu\"\r\n        >\r\n          <AddAccountSummary\r\n            onSuccess={() => {\r\n              setNewLoadData(!newLoadData);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\nimport useReactRouter from \"use-react-router\";\nimport { Button, Col } from \"react-bootstrap\";\nimport { OTHER } from \"../../../routes/app\";\nimport { getLocalHouse } from \"../../../helper\";\nimport IncomeType from \"./inComeType/index.\";\nimport ExpenseTypeScreen from \"./expenseType/index.\";\nimport ListAllExpenses from \".\";\nimport SummaryAccount from \"./accountSummary\";\nexport default function TabMenuAccount() {\n  const { history, location } = useReactRouter();\n  const params = new URLSearchParams(location?.search);\n  //useState\n  const [tabActive, setTabActive] = useState(\"type\");\n  const [houseId, setLocalHouse] = useState(\"\");\n\n  useEffect(() => {\n    setLocalHouse(getLocalHouse());\n  }, []);\n\n  useEffect(() => {\n    const tab = params.get(\"tab\");\n    if (tab) {\n      setTabActive(tab);\n    }\n  }, [params]);\n\n  useEffect(() => {\n    const elmTab = document.querySelectorAll(\".nav-tabs-custom\")[0];\n    const elmItemTab = document.querySelectorAll(\"button.active\")[0];\n    if (elmTab && elmItemTab) {\n      const left = elmItemTab.offsetLeft - 10;\n      elmTab.scrollLeft = left;\n    }\n  }, [tabActive]);\n\n  return (\n    <>\n      <div className=\"appHeader text-light border-0 mr-0\">\n        <div style={{ flex: 1 }} className=\"text-left\">\n          <button\n            className=\"btn text-white\"\n            onClick={() => history.push(OTHER)}\n          >\n            <i className=\"fa fa-chevron-left fs-4\" />\n          </button>\n        </div>\n        {houseId?.houseName ? houseId?.houseName : \"ລາຍງານຂໍ້ມູນ\"}\n        <div\n          className=\"text-white pageTitle text-right text-nowrap pr-0\"\n          style={{ flex: 1 }}\n        ></div>\n      </div>\n      <div className=\"extraHeaders\">\n        <div className=\"extraHeader pr-0 pl-0 nav-tabs-custom\">\n          <Button\n            className={`item-tab ${\n              tabActive === \"type\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=type\" })}\n          >\n            ປະເພດລາຍຮັບ\n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"type_expense\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=type_expense\" })}\n          >\n            ປະເພດລາຍຈ່າຍ\n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"listData\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=listData\" })}\n          >\n            ລາຍຮັບ ແລະ ລາຍຈ່າຍ\n          </Button>\n          <Button\n            className={`item-tab ${\n              tabActive === \"summary_account\" ? \"clickActives\" : \"Actives\"\n            }`}\n            variant=\"\"\n            onClick={() => history.push({ search: \"?tab=summary_account\" })}\n          >\n            ສະຫລຸບບັນຊີ\n          </Button>\n        </div>\n      </div>\n      <div id=\"appCapsule\" className=\"extra-header-activeClick\">\n        {tabActive === \"type_expense\" && <ExpenseTypeScreen />}\n        {tabActive === \"type\" && <IncomeType />}\n        {tabActive === \"listData\" && <ListAllExpenses />}\n        {tabActive === \"summary_account\" && <SummaryAccount />}\n      </div>\n    </>\n  );\n}\n","import React, { useContext, useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport HomePage from \"../pages/home/index\";\nimport Login from \"../pages/login/Login\";\nimport { AppContext } from \"../App\";\nimport { TOKEN } from \"../helper\";\nimport * as ROUTES from \"./app\";\nimport Profile from \"../pages/profile/Profile\";\nimport Other from \"../pages/other/TabMenuOther\";\nimport TabMenuOther from \"../pages/other/TabMenuOther\";\nimport BookingRequestScreen from \"../pages/other/bookingRequest\";\nimport BookingCancel from \"../pages/other/cancel\";\nimport SettingsScreen from \"../pages/settings\";\nimport RateExChange from \"../pages/rateExchange\";\nimport TabMenu from \"../pages/management_house/TabMenu\";\nimport TabMenuIncome from \"../pages/other/reportIncome/TabMenuIncome\";\nimport UserList from \"../pages/user_staff\";\nimport DetailProfile from \"../pages/user_staff/DetailProfile\";\nimport Booking from \"../pages/room_services/booking\";\nimport PeopleCheckout from \"../pages/room_services/PeopleCheckout\";\nimport Hotel from \"../pages/room_services/hotel\";\nimport TabMenuRoom from \"../pages/room_services/TabMenuRoom\";\nimport TabMenuEquiment from \"../pages/other/equiment/TabMenu\";\nimport EquiMent from \"../pages/other/equiment/equiment/index.\";\nimport Promotion from \"../pages/pomotions\";\nimport TabMenuAccount from \"../pages/other/accounting/TabMenu\";\nexport default function Routes() {\n  const { userDispatch } = useContext(AppContext);\n  const _local = localStorage.getItem(TOKEN);\n\n  useEffect(() => {\n    if (_local) {\n      const data = JSON.parse(_local);\n      userDispatch({ type: \"landing\", payload: data });\n    }\n  }, [_local]);\n\n  return (\n    <>\n      <Router>\n        <>\n          <Switch>\n            {!_local ? (\n              <>\n                <Route exact path=\"/\">\n                  <Redirect to={ROUTES.LOGIN} />\n                </Route>\n                <Route\n                  exact\n                  path={ROUTES.LOGIN}\n                  component={(props) => <Login {...props} />}\n                />\n                <Route\n                  exact\n                  path=\"/\"\n                  component={(props) => <Login {...props} />}\n                />\n              </>\n            ) : (\n              <>\n                <Route exact path=\"/\">\n                  <Redirect to=\"/home\" />\n                </Route>\n                <Route\n                  exact\n                  path={`${ROUTES.OTHER}`}\n                  component={(props) => <TabMenuOther {...props} />}\n                />\n                {/* tab room */}\n                <Route\n                  exact\n                  path={`${ROUTES.ROOM_SERVICES}`}\n                  component={(props) => <TabMenuRoom {...props} />}\n                />\n                <Route\n                  exact\n                  path={`${ROUTES.PROFILES}`}\n                  component={(props) => <Profile {...props} />}\n                />\n                {/* hotel */}\n                <Route\n                  exact\n                  path={`${ROUTES.HOTEL}/:_id`}\n                  component={(props) => <Hotel {...props} />}\n                />\n                <Route\n                  exact\n                  path={`${ROUTES.HOTEL_CHECKOUT}`}\n                  component={(props) => <PeopleCheckout {...props} />}\n                />\n                {/* booking */}\n                <Route\n                  exact\n                  path={`${ROUTES.BOOKING}/:_id`}\n                  component={(props) => <Booking {...props} />}\n                />\n                <PrivateRoute\n                  path={`${ROUTES.REQUEST_BOOKING_SCREEN}/:_id`}\n                  exact\n                  component={(props) => <BookingRequestScreen {...props} />}\n                />\n                <PrivateRoute\n                  path={`${ROUTES.BOOKING_CANCEL}/:_id`}\n                  exact\n                  component={(props) => <BookingCancel {...props} />}\n                />\n                {/* setting */}\n                <PrivateRoute\n                  path={`${ROUTES.SETTING}/:_id`}\n                  exact\n                  component={(props) => <SettingsScreen {...props} />}\n                />\n                {/* rateEx */}\n                <PrivateRoute\n                  path={`${ROUTES.RATE_EXCHANGE_SCREEN}/:page`}\n                  exact\n                  component={(props) => <RateExChange {...props} />}\n                />\n                {/* managementhouse*/}\n                <PrivateRoute\n                  path={`${ROUTES.TAB_MENU}/:page`}\n                  exact\n                  component={(props) => <TabMenu {...props} />}\n                />\n                <PrivateRoute\n                  path={`${ROUTES.TAB_MENU_INCOME}/:page`}\n                  exact\n                  component={(props) => <TabMenuIncome {...props} />}\n                />\n                {/* user */}\n                <PrivateRoute\n                  path={`${ROUTES.USERS}/:page`}\n                  exact\n                  component={(props) => <UserList {...props} />}\n                />\n                <PrivateRoute\n                  path={`${ROUTES.DETAIL_USER}/:_id`}\n                  exact\n                  component={(props) => <DetailProfile {...props} />}\n                />\n                {/* equiment */}\n                <PrivateRoute\n                  path={`${ROUTES.TAB_EQUIMENT}/:_id`}\n                  exact\n                  component={(props) => <TabMenuEquiment {...props} />}\n                />\n                <PrivateRoute\n                  path={`${ROUTES.EQUIMENT_LIST}/:_id`}\n                  exact\n                  component={(props) => <EquiMent {...props} />}\n                />\n                {/* account */}\n                <PrivateRoute\n                  path={`${ROUTES.TAB_ACCOUNT}/:page`}\n                  exact\n                  component={(props) => <TabMenuAccount {...props} />}\n                />\n                {/* PROMOTION */}\n                <PrivateRoute\n                  path={`${ROUTES.PROMOTION_SCREEN}/:page`}\n                  exact\n                  component={(props) => <Promotion {...props} />}\n                />\n\n                <Route\n                  render={({ location, history }) => (\n                    <>\n                      <PrivateRoute\n                        path={\"/home\"}\n                        exact\n                        component={(props) => <HomePage />}\n                      />\n                    </>\n                  )}\n                />\n              </>\n            )}\n          </Switch>\n        </>\n      </Router>\n    </>\n  );\n}\n","export const userReducer = (state, action) => {\r\n  if (action.type === \"landing\") {\r\n    return action.payload;\r\n  }\r\n  if (action.type === \"logout\") {\r\n    return null;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const pageTitleReducer = (state, action) => {\r\n  if (action) {\r\n    return action;\r\n  }\r\n  return state;\r\n};\r\nexport const tabController = (state, action) => {\r\n  if (action.type === \"tab\") {\r\n    return action.payload;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const dateReducer = (state, action) => {\r\n  if (action) {\r\n    return action.payload;\r\n  }\r\n  return state;\r\n};","import React, { useReducer, useState } from \"react\";\r\nimport \"moment/locale/lo\";\r\nimport \"./index.css\";\r\nimport { clearLocalStorage, TOKEN } from \"./helper\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink,\r\n  from,\r\n} from \"@apollo/client\";\r\nimport { setContext } from \"@apollo/client/link/context\";\r\nimport { onError } from \"@apollo/client/link/error\";\r\nimport Routes from \"./routes\";\r\nimport { pageTitleReducer, userReducer, dateReducer } from \"./store\";\r\nimport { LOGIN } from \"./routes/app\";\r\nimport Notiflix from \"notiflix\";\r\nconst api = \"https://api.bit-houses.com/graphql\";\r\nconst AppContext = React.createContext();\r\nexport default function App() {\r\n  const [userState, userDispatch] = useReducer(userReducer, null);\r\n  const [titleState, titleDispatch] = useReducer(pageTitleReducer, null);\r\n  const [dateState, dateDispatch] = useReducer(dateReducer, {\r\n    startDate: new Date(),\r\n    endDate: new Date(),\r\n  });\r\n\r\n  const authLink = setContext((_, { headers }) => {\r\n    const _local = localStorage.getItem(TOKEN);\r\n    let token = JSON.parse(_local);\r\n    token = token?.accessToken;\r\n    return {\r\n      headers: {\r\n        ...headers,\r\n        authorization: token,\r\n      },\r\n    };\r\n  });\r\n\r\n  const errorLink = onError(({ graphQLErrors, networkError }) => {\r\n    if (networkError?.message === \"Failed to fetch\") {\r\n      Notiflix.Report.warning(\r\n        \"ແຈ້ງເຕືອນ\",\r\n        \"ມີຂໍ້ຜິດພາດເກີດຂື້ນ. ກະລຸນາລອງໃໝ່ອີກຄັ້ງ.\",\r\n        \"ຕົກລົງ\",()=>{\r\n          window.location.reload();\r\n        }\r\n      );\r\n      return;\r\n    }\r\n    const isError1 = _.some(graphQLErrors, {\r\n      message: \"Error: TokenExpiredError: jwt expired\",\r\n    });\r\n    const isError2 = _.some(graphQLErrors, {\r\n      message: \"Error: JsonWebTokenError: jwt must be provided\",\r\n    });\r\n    const isError3 = _.some(graphQLErrors, {\r\n      message: \"Error: DO_NOT_HAVE_PERMISSION\",\r\n    });\r\n    let message = \"\";\r\n    if (isError1) {\r\n      message =\r\n        \"ການເຂົ້າລະບົບຂອງທ່ານໄດ້ໝົດອາຍຸລົງແລ້ວ ກະລຸນາເຂົ້າລະບົບໃໝ່ອີກຄັ້ງ\";\r\n    }\r\n    if (isError2) {\r\n      message = \"ຂໍອະໄພ ມີຂໍ້ຜິດພາດ ກະລຸນາເຂົ້າລະບົບໃໝ່ອີກຄັ້ງ\";\r\n    }\r\n    if (isError3) {\r\n      message = \"ຂໍອະໄພ ບັນຊີຂອງທ່ານບໍ່ມີສິດເຂົ້າໃຊ້ງານ\";\r\n    }\r\n    if (isError1 || isError2 || isError3 ) {\r\n      Notiflix.Report.warning(\"ແຈ້ງເຕືອນ\", message, \"ຕົກລົງ\", async () => {\r\n        Notiflix.Loading.standard(\"ກຳລັງດຳເນິນການ...\");\r\n        clearLocalStorage();\r\n        window.location.replace(LOGIN);\r\n      });\r\n    }\r\n  });\r\n\r\n  const client = new ApolloClient({\r\n    link: from([\r\n      errorLink,\r\n      authLink.concat(\r\n        createHttpLink({\r\n          uri: api,\r\n        })\r\n      ),\r\n    ]),\r\n    cache: new InMemoryCache({\r\n      addTypename: false,\r\n    }),\r\n  });\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        userState,\r\n        userDispatch,\r\n        titleState,\r\n        titleDispatch,\r\n        dateState,\r\n        dateDispatch,\r\n      }}\r\n    >\r\n      <ApolloProvider client={client}>\r\n        <div className=\"app-container\">\r\n          <Routes />\r\n        </div>\r\n      </ApolloProvider>\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport { AppContext };\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React, { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./App.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVital\";\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\nreportWebVitals();\n"],"sourceRoot":""}